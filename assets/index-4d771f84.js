function yx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r1={exports:{}},Bd={},i1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),Tx=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),xx=Symbol.for("react.forward_ref"),Px=Symbol.for("react.suspense"),Rx=Symbol.for("react.memo"),_x=Symbol.for("react.lazy"),b0=Symbol.iterator;function Ix(e){return e===null||typeof e!="object"?null:(e=b0&&e[b0]||e["@@iterator"],typeof e=="function"?e:null)}var o1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s1=Object.assign,a1={};function Va(e,t,n){this.props=e,this.context=t,this.refs=a1,this.updater=n||o1}Va.prototype.isReactComponent={};Va.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Va.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c1(){}c1.prototype=Va.prototype;function yg(e,t,n){this.props=e,this.context=t,this.refs=a1,this.updater=n||o1}var bg=yg.prototype=new c1;bg.constructor=yg;s1(bg,Va.prototype);bg.isPureReactComponent=!0;var S0=Array.isArray,l1=Object.prototype.hasOwnProperty,Sg={current:null},u1={key:!0,ref:!0,__self:!0,__source:!0};function d1(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)l1.call(t,r)&&!u1.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pl,type:e,key:o,ref:s,props:i,_owner:Sg.current}}function Mx(e,t){return{$$typeof:Pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pl}function Ox(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var k0=/\/+/g;function Sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ox(""+e.key):t.toString(36)}function mu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Pl:case Sx:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Sh(s,0):r,S0(i)?(n="",e!=null&&(n=e.replace(k0,"$&/")+"/"),mu(i,t,n,"",function(l){return l})):i!=null&&(kg(i)&&(i=Mx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(k0,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",S0(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Sh(o,a);s+=mu(o,t,n,c,i)}else if(c=Ix(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Sh(o,a++),s+=mu(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wl(e,t,n){if(e==null)return e;var r=[],i=0;return mu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Ax(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},gu={transition:null},Lx={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:gu,ReactCurrentOwner:Sg};fe.Children={map:Wl,forEach:function(e,t,n){Wl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wl(e,function(){t++}),t},toArray:function(e){return Wl(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Va;fe.Fragment=kx;fe.Profiler=Cx;fe.PureComponent=yg;fe.StrictMode=wx;fe.Suspense=Px;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=s1({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Sg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)l1.call(t,c)&&!u1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Pl,type:e.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(e){return e={$$typeof:Ex,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tx,_context:e},e.Consumer=e};fe.createElement=d1;fe.createFactory=function(e){var t=d1.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:xx,render:e}};fe.isValidElement=kg;fe.lazy=function(e){return{$$typeof:_x,_payload:{_status:-1,_result:e},_init:Ax}};fe.memo=function(e,t){return{$$typeof:Rx,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=gu.transition;gu.transition={};try{e()}finally{gu.transition=t}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(e,t){return Kt.current.useCallback(e,t)};fe.useContext=function(e){return Kt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Kt.current.useEffect(e,t)};fe.useId=function(){return Kt.current.useId()};fe.useImperativeHandle=function(e,t,n){return Kt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Kt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Kt.current.useReducer(e,t,n)};fe.useRef=function(e){return Kt.current.useRef(e)};fe.useState=function(e){return Kt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Kt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Kt.current.useTransition()};fe.version="18.2.0";i1.exports=fe;var h=i1.exports;const ns=n1(h),Pp=yx({__proto__:null,default:ns},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=h,Dx=Symbol.for("react.element"),Ux=Symbol.for("react.fragment"),Fx=Object.prototype.hasOwnProperty,Bx=Nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function f1(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Fx.call(t,r)&&!$x.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Dx,type:e,key:o,ref:s,props:i,_owner:Bx.current}}Bd.Fragment=Ux;Bd.jsx=f1;Bd.jsxs=f1;r1.exports=Bd;var L=r1.exports,Rp={},h1={exports:{}},xn={},p1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,q){var X=j.length;j.push(q);e:for(;0<X;){var ue=X-1>>>1,Te=j[ue];if(0<i(Te,q))j[ue]=q,j[X]=Te,X=ue;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],X=j.pop();if(X!==q){j[0]=X;e:for(var ue=0,Te=j.length,It=Te>>>1;ue<It;){var Ue=2*(ue+1)-1,Yt=j[Ue],rt=Ue+1,Kn=j[rt];if(0>i(Yt,X))rt<Te&&0>i(Kn,Yt)?(j[ue]=Kn,j[rt]=X,ue=rt):(j[ue]=Yt,j[Ue]=X,ue=Ue);else if(rt<Te&&0>i(Kn,X))j[ue]=Kn,j[rt]=X,ue=rt;else break e}}return q}function i(j,q){var X=j.sortIndex-q.sortIndex;return X!==0?X:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,d=null,f=3,m=!1,g=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(j){for(var q=n(l);q!==null;){if(q.callback===null)r(l);else if(q.startTime<=j)r(l),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(l)}}function b(j){if(p=!1,k(j),!g)if(n(c)!==null)g=!0,he(C);else{var q=n(l);q!==null&&xe(b,q.startTime-j)}}function C(j,q){g=!1,p&&(p=!1,v(M),M=-1),m=!0;var X=f;try{for(k(q),d=n(c);d!==null&&(!(d.expirationTime>q)||j&&!V());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var Te=ue(d.expirationTime<=q);q=e.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(c)&&r(c),k(q)}else r(c);d=n(c)}if(d!==null)var It=!0;else{var Ue=n(l);Ue!==null&&xe(b,Ue.startTime-q),It=!1}return It}finally{d=null,f=X,m=!1}}var P=!1,T=null,M=-1,R=5,I=-1;function V(){return!(e.unstable_now()-I<R)}function Q(){if(T!==null){var j=e.unstable_now();I=j;var q=!0;try{q=T(!0,j)}finally{q?te():(P=!1,T=null)}}else P=!1}var te;if(typeof y=="function")te=function(){y(Q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=Q,te=function(){ie.postMessage(null)}}else te=function(){S(Q,0)};function he(j){T=j,P||(P=!0,te())}function xe(j,q){M=S(function(){j(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,he(C))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var X=f;f=q;try{return j()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=f;f=j;try{return q()}finally{f=X}},e.unstable_scheduleCallback=function(j,q,X){var ue=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,j){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=X+Te,j={id:u++,callback:q,priorityLevel:j,startTime:X,expirationTime:Te,sortIndex:-1},X>ue?(j.sortIndex=X,t(l,j),n(c)===null&&j===n(l)&&(p?(v(M),M=-1):p=!0,xe(b,X-ue))):(j.sortIndex=Te,t(c,j),g||m||(g=!0,he(C))),j},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(j){var q=f;return function(){var X=f;f=q;try{return j.apply(this,arguments)}finally{f=X}}}})(m1);p1.exports=m1;var jx=p1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=h,wn=jx;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v1=new Set,Hc={};function xs(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(Hc[e]=t,e=0;e<t.length;e++)v1.add(t[e])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w0={},C0={};function Vx(e){return _p.call(C0,e)?!0:_p.call(w0,e)?!1:zx.test(e)?C0[e]=!0:(w0[e]=!0,!1)}function Wx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jx(e,t,n,r){if(t===null||typeof t>"u"||Wx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var wg=/[\-:]([a-z])/g;function Cg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wg,Cg);Rt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wg,Cg);Rt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wg,Cg);Rt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tg(e,t,n,r){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jx(t,n,i,r)&&(n=null),r||i===null?Vx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ji=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),Pg=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),S1=Symbol.for("react.offscreen"),T0=Symbol.iterator;function tc(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,kh;function wc(e){if(kh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kh=t&&t[1]||""}return`
`+kh+e}var wh=!1;function Ch(e,t){if(!e||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wc(e):""}function Hx(e){switch(e.tag){case 5:return wc(e.type);case 16:return wc("Lazy");case 13:return wc("Suspense");case 19:return wc("SuspenseList");case 0:case 2:case 15:return e=Ch(e.type,!1),e;case 11:return e=Ch(e.type.render,!1),e;case 1:return e=Ch(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Ws:return"Portal";case Ip:return"Profiler";case Eg:return"StrictMode";case Mp:return"Suspense";case Op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b1:return(e.displayName||"Context")+".Consumer";case y1:return(e._context.displayName||"Context")+".Provider";case xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pg:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case no:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function qx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===Eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kx(e){var t=k1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=Kx(e))}function w1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=k1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lp(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function E0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Io(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function C1(e,t){t=t.checked,t!=null&&Tg(e,"checked",t,!1)}function Np(e,t){C1(e,t);var n=Io(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dp(e,t,n){(t!=="number"||Vu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cc=Array.isArray;function oa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Io(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Cc(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Io(n)}}function T1(e,t){var n=Io(t.value),r=Io(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function R0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,x1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(e){Gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_c[t]=_c[e]})});function P1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_c.hasOwnProperty(e)&&_c[e]?(""+t).trim():t+"px"}function R1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Yx=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(Yx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=null;function Rg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zp=null,sa=null,aa=null;function _0(e){if(e=Il(e)){if(typeof zp!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Wd(t),zp(e.stateNode,e.type,t))}}function _1(e){sa?aa?aa.push(e):aa=[e]:sa=e}function I1(){if(sa){var e=sa,t=aa;if(aa=sa=null,_0(e),t)for(e=0;e<t.length;e++)_0(t[e])}}function M1(e,t){return e(t)}function O1(){}var Th=!1;function A1(e,t,n){if(Th)return e(t,n);Th=!0;try{return M1(e,t,n)}finally{Th=!1,(sa!==null||aa!==null)&&(O1(),I1())}}function Kc(e,t){var n=e.stateNode;if(n===null)return null;var r=Wd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Vp=!1;if(Bi)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Vp=!1}function Qx(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Ic=!1,Wu=null,Ju=!1,Wp=null,Xx={onError:function(e){Ic=!0,Wu=e}};function Zx(e,t,n,r,i,o,s,a,c){Ic=!1,Wu=null,Qx.apply(Xx,arguments)}function eP(e,t,n,r,i,o,s,a,c){if(Zx.apply(this,arguments),Ic){if(Ic){var l=Wu;Ic=!1,Wu=null}else throw Error(B(198));Ju||(Ju=!0,Wp=l)}}function Ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function L1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I0(e){if(Ps(e)!==e)throw Error(B(188))}function tP(e){var t=e.alternate;if(!t){if(t=Ps(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return I0(i),e;if(o===r)return I0(i),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function N1(e){return e=tP(e),e!==null?D1(e):null}function D1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=D1(e);if(t!==null)return t;e=e.sibling}return null}var U1=wn.unstable_scheduleCallback,M0=wn.unstable_cancelCallback,nP=wn.unstable_shouldYield,rP=wn.unstable_requestPaint,lt=wn.unstable_now,iP=wn.unstable_getCurrentPriorityLevel,_g=wn.unstable_ImmediatePriority,F1=wn.unstable_UserBlockingPriority,Hu=wn.unstable_NormalPriority,oP=wn.unstable_LowPriority,B1=wn.unstable_IdlePriority,$d=null,Kr=null;function sP(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot($d,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:lP,aP=Math.log,cP=Math.LN2;function lP(e){return e>>>=0,e===0?32:31-(aP(e)/cP|0)|0}var Kl=64,Gl=4194304;function Tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Tc(a):(o&=s,o!==0&&(r=Tc(o)))}else s=n&~i,s!==0?r=Tc(s):o!==0&&(r=Tc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mr(t),i=1<<n,r|=e[n],t&=~i;return r}function uP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-mr(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=uP(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $1(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function Eh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=n}function fP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ig(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function j1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var z1,Mg,V1,W1,J1,Hp=!1,Yl=[],go=null,vo=null,yo=null,Gc=new Map,Yc=new Map,io=[],hP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O0(e,t){switch(e){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(t.pointerId)}}function rc(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Il(t),t!==null&&Mg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pP(e,t,n,r,i){switch(t){case"focusin":return go=rc(go,e,t,n,r,i),!0;case"dragenter":return vo=rc(vo,e,t,n,r,i),!0;case"mouseover":return yo=rc(yo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Gc.set(o,rc(Gc.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yc.set(o,rc(Yc.get(o)||null,e,t,n,r,i)),!0}return!1}function H1(e){var t=rs(e.target);if(t!==null){var n=Ps(t);if(n!==null){if(t=n.tag,t===13){if(t=L1(n),t!==null){e.blockedOn=t,J1(e.priority,function(){V1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jp=r,n.target.dispatchEvent(r),jp=null}else return t=Il(n),t!==null&&Mg(t),e.blockedOn=n,!1;t.shift()}return!0}function A0(e,t,n){vu(e)&&n.delete(t)}function mP(){Hp=!1,go!==null&&vu(go)&&(go=null),vo!==null&&vu(vo)&&(vo=null),yo!==null&&vu(yo)&&(yo=null),Gc.forEach(A0),Yc.forEach(A0)}function ic(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,mP)))}function Qc(e){function t(i){return ic(i,e)}if(0<Yl.length){ic(Yl[0],e);for(var n=1;n<Yl.length;n++){var r=Yl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(go!==null&&ic(go,e),vo!==null&&ic(vo,e),yo!==null&&ic(yo,e),Gc.forEach(t),Yc.forEach(t),n=0;n<io.length;n++)r=io[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)H1(n),n.blockedOn===null&&io.shift()}var ca=Ji.ReactCurrentBatchConfig,Ku=!0;function gP(e,t,n,r){var i=Pe,o=ca.transition;ca.transition=null;try{Pe=1,Og(e,t,n,r)}finally{Pe=i,ca.transition=o}}function vP(e,t,n,r){var i=Pe,o=ca.transition;ca.transition=null;try{Pe=4,Og(e,t,n,r)}finally{Pe=i,ca.transition=o}}function Og(e,t,n,r){if(Ku){var i=qp(e,t,n,r);if(i===null)Nh(e,t,r,Gu,n),O0(e,r);else if(pP(i,e,t,n,r))r.stopPropagation();else if(O0(e,r),t&4&&-1<hP.indexOf(e)){for(;i!==null;){var o=Il(i);if(o!==null&&z1(o),o=qp(e,t,n,r),o===null&&Nh(e,t,r,Gu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Nh(e,t,r,null,n)}}var Gu=null;function qp(e,t,n,r){if(Gu=null,e=Rg(r),e=rs(e),e!==null)if(t=Ps(e),t===null)e=null;else if(n=t.tag,n===13){if(e=L1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gu=e,null}function q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iP()){case _g:return 1;case F1:return 4;case Hu:case oP:return 16;case B1:return 536870912;default:return 16}default:return 16}}var ao=null,Ag=null,yu=null;function K1(){if(yu)return yu;var e,t=Ag,n=t.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return yu=i.slice(e,1<r?1-r:void 0)}function bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function L0(){return!1}function Pn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ql:L0,this.isPropagationStopped=L0,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lg=Pn(Wa),_l=Ge({},Wa,{view:0,detail:0}),yP=Pn(_l),xh,Ph,oc,jd=Ge({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oc&&(oc&&e.type==="mousemove"?(xh=e.screenX-oc.screenX,Ph=e.screenY-oc.screenY):Ph=xh=0,oc=e),xh)},movementY:function(e){return"movementY"in e?e.movementY:Ph}}),N0=Pn(jd),bP=Ge({},jd,{dataTransfer:0}),SP=Pn(bP),kP=Ge({},_l,{relatedTarget:0}),Rh=Pn(kP),wP=Ge({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Pn(wP),TP=Ge({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EP=Pn(TP),xP=Ge({},Wa,{data:0}),D0=Pn(xP),PP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_P[e])?!!t[e]:!1}function Ng(){return IP}var MP=Ge({},_l,{key:function(e){if(e.key){var t=PP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(e){return e.type==="keypress"?bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OP=Pn(MP),AP=Ge({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=Pn(AP),LP=Ge({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),NP=Pn(LP),DP=Ge({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=Pn(DP),FP=Ge({},jd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BP=Pn(FP),$P=[9,13,27,32],Dg=Bi&&"CompositionEvent"in window,Mc=null;Bi&&"documentMode"in document&&(Mc=document.documentMode);var jP=Bi&&"TextEvent"in window&&!Mc,G1=Bi&&(!Dg||Mc&&8<Mc&&11>=Mc),F0=String.fromCharCode(32),B0=!1;function Y1(e,t){switch(e){case"keyup":return $P.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function zP(e,t){switch(e){case"compositionend":return Q1(t);case"keypress":return t.which!==32?null:(B0=!0,F0);case"textInput":return e=t.data,e===F0&&B0?null:e;default:return null}}function VP(e,t){if(Hs)return e==="compositionend"||!Dg&&Y1(e,t)?(e=K1(),yu=Ag=ao=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G1&&t.locale!=="ko"?null:t.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WP[e.type]:t==="textarea"}function X1(e,t,n,r){_1(r),t=Yu(t,"onChange"),0<t.length&&(n=new Lg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oc=null,Xc=null;function JP(e){lk(e,0)}function zd(e){var t=Gs(e);if(w1(t))return e}function HP(e,t){if(e==="change")return t}var Z1=!1;if(Bi){var _h;if(Bi){var Ih="oninput"in document;if(!Ih){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Ih=typeof j0.oninput=="function"}_h=Ih}else _h=!1;Z1=_h&&(!document.documentMode||9<document.documentMode)}function z0(){Oc&&(Oc.detachEvent("onpropertychange",ek),Xc=Oc=null)}function ek(e){if(e.propertyName==="value"&&zd(Xc)){var t=[];X1(t,Xc,e,Rg(e)),A1(JP,t)}}function qP(e,t,n){e==="focusin"?(z0(),Oc=t,Xc=n,Oc.attachEvent("onpropertychange",ek)):e==="focusout"&&z0()}function KP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zd(Xc)}function GP(e,t){if(e==="click")return zd(t)}function YP(e,t){if(e==="input"||e==="change")return zd(t)}function QP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:QP;function Zc(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_p.call(t,i)||!yr(e[i],t[i]))return!1}return!0}function V0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W0(e,t){var n=V0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function tk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nk(){for(var e=window,t=Vu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vu(e.document)}return t}function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XP(e){var t=nk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tk(n.ownerDocument.documentElement,n)){if(r!==null&&Ug(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=W0(n,o);var s=W0(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZP=Bi&&"documentMode"in document&&11>=document.documentMode,qs=null,Kp=null,Ac=null,Gp=!1;function J0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||qs==null||qs!==Vu(r)||(r=qs,"selectionStart"in r&&Ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&Zc(Ac,r)||(Ac=r,r=Yu(Kp,"onSelect"),0<r.length&&(t=new Lg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qs)))}function Xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ks={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},Mh={},rk={};Bi&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Vd(e){if(Mh[e])return Mh[e];if(!Ks[e])return e;var t=Ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rk)return Mh[e]=t[n];return e}var ik=Vd("animationend"),ok=Vd("animationiteration"),sk=Vd("animationstart"),ak=Vd("transitionend"),ck=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(e,t){ck.set(e,t),xs(t,[e])}for(var Oh=0;Oh<H0.length;Oh++){var Ah=H0[Oh],eR=Ah.toLowerCase(),tR=Ah[0].toUpperCase()+Ah.slice(1);Fo(eR,"on"+tR)}Fo(ik,"onAnimationEnd");Fo(ok,"onAnimationIteration");Fo(sk,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(ak,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function q0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,eP(r,t,void 0,e),e.currentTarget=null}function lk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;q0(i,a,l),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;q0(i,a,l),o=c}}}if(Ju)throw e=Wp,Ju=!1,Wp=null,e}function je(e,t){var n=t[em];n===void 0&&(n=t[em]=new Set);var r=e+"__bubble";n.has(r)||(uk(t,e,2,!1),n.add(r))}function Lh(e,t,n){var r=0;t&&(r|=4),uk(n,e,r,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[Zl]){e[Zl]=!0,v1.forEach(function(n){n!=="selectionchange"&&(nR.has(n)||Lh(n,!1,e),Lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,Lh("selectionchange",!1,t))}}function uk(e,t,n,r){switch(q1(t)){case 1:var i=gP;break;case 4:i=vP;break;default:i=Og}n=i.bind(null,t,n,e),i=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=rs(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}A1(function(){var l=o,u=Rg(n),d=[];e:{var f=ck.get(e);if(f!==void 0){var m=Lg,g=e;switch(e){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":m=OP;break;case"focusin":g="focus",m=Rh;break;case"focusout":g="blur",m=Rh;break;case"beforeblur":case"afterblur":m=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NP;break;case ik:case ok:case sk:m=CP;break;case ak:m=UP;break;case"scroll":m=yP;break;case"wheel":m=BP;break;case"copy":case"cut":case"paste":m=EP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=U0}var p=(t&4)!==0,S=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=l,k;y!==null;){k=y;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,v!==null&&(b=Kc(y,v),b!=null&&p.push(tl(y,b,k)))),S)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,u),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==jp&&(g=n.relatedTarget||n.fromElement)&&(rs(g)||g[$i]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=l,g=g?rs(g):null,g!==null&&(S=Ps(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=l),m!==g)){if(p=N0,b="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=U0,b="onPointerLeave",v="onPointerEnter",y="pointer"),S=m==null?f:Gs(m),k=g==null?f:Gs(g),f=new p(b,y+"leave",m,n,u),f.target=S,f.relatedTarget=k,b=null,rs(u)===l&&(p=new p(v,y+"enter",g,n,u),p.target=k,p.relatedTarget=S,b=p),S=b,m&&g)t:{for(p=m,v=g,y=0,k=p;k;k=Ns(k))y++;for(k=0,b=v;b;b=Ns(b))k++;for(;0<y-k;)p=Ns(p),y--;for(;0<k-y;)v=Ns(v),k--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=Ns(p),v=Ns(v)}p=null}else p=null;m!==null&&K0(d,f,m,p,!1),g!==null&&S!==null&&K0(d,S,g,p,!0)}}e:{if(f=l?Gs(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=HP;else if($0(f))if(Z1)C=YP;else{C=KP;var P=qP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=GP);if(C&&(C=C(e,l))){X1(d,C,n,u);break e}P&&P(e,f,l),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Dp(f,"number",f.value)}switch(P=l?Gs(l):window,e){case"focusin":($0(P)||P.contentEditable==="true")&&(qs=P,Kp=l,Ac=null);break;case"focusout":Ac=Kp=qs=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,J0(d,n,u);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":J0(d,n,u)}var T;if(Dg)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Hs?Y1(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(G1&&n.locale!=="ko"&&(Hs||M!=="onCompositionStart"?M==="onCompositionEnd"&&Hs&&(T=K1()):(ao=u,Ag="value"in ao?ao.value:ao.textContent,Hs=!0)),P=Yu(l,M),0<P.length&&(M=new D0(M,e,null,n,u),d.push({event:M,listeners:P}),T?M.data=T:(T=Q1(n),T!==null&&(M.data=T)))),(T=jP?zP(e,n):VP(e,n))&&(l=Yu(l,"onBeforeInput"),0<l.length&&(u=new D0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=T))}lk(d,t)})}function tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Kc(e,n),o!=null&&r.unshift(tl(e,o,i)),o=Kc(e,t),o!=null&&r.push(tl(e,o,i))),e=e.return}return r}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K0(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Kc(n,o),c!=null&&s.unshift(tl(n,c,a))):i||(c=Kc(n,o),c!=null&&s.push(tl(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(rR,`
`).replace(iR,"")}function eu(e,t,n){if(t=G0(t),G0(e)!==t&&n)throw Error(B(425))}function Qu(){}var Yp=null,Qp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(e){return Y0.resolve(null).then(e).catch(aR)}:Zp;function aR(e){setTimeout(function(){throw e})}function Dh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qc(t)}function bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ja,nl="__reactProps$"+Ja,$i="__reactContainer$"+Ja,em="__reactEvents$"+Ja,cR="__reactListeners$"+Ja,lR="__reactHandles$"+Ja;function rs(e){var t=e[_r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$i]||n[_r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Q0(e);e!==null;){if(n=e[_r])return n;e=Q0(e)}return t}e=n,n=e.parentNode}return null}function Il(e){return e=e[_r]||e[$i],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Wd(e){return e[nl]||null}var tm=[],Ys=-1;function Bo(e){return{current:e}}function ze(e){0>Ys||(e.current=tm[Ys],tm[Ys]=null,Ys--)}function Be(e,t){Ys++,tm[Ys]=e.current,e.current=t}var Mo={},Bt=Bo(Mo),rn=Bo(!1),fs=Mo;function xa(e,t){var n=e.type.contextTypes;if(!n)return Mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function on(e){return e=e.childContextTypes,e!=null}function Xu(){ze(rn),ze(Bt)}function X0(e,t,n){if(Bt.current!==Mo)throw Error(B(168));Be(Bt,t),Be(rn,n)}function dk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,qx(e)||"Unknown",i));return Ge({},n,r)}function Zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,fs=Bt.current,Be(Bt,e),Be(rn,rn.current),!0}function Z0(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=dk(e,t,fs),r.__reactInternalMemoizedMergedChildContext=e,ze(rn),ze(Bt),Be(Bt,e)):ze(rn),Be(rn,n)}var si=null,Jd=!1,Uh=!1;function fk(e){si===null?si=[e]:si.push(e)}function uR(e){Jd=!0,fk(e)}function $o(){if(!Uh&&si!==null){Uh=!0;var e=0,t=Pe;try{var n=si;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}si=null,Jd=!1}catch(i){throw si!==null&&(si=si.slice(e+1)),U1(_g,$o),i}finally{Pe=t,Uh=!1}}return null}var Qs=[],Xs=0,ed=null,td=0,Ln=[],Nn=0,hs=null,ui=1,di="";function Zo(e,t){Qs[Xs++]=td,Qs[Xs++]=ed,ed=e,td=t}function hk(e,t,n){Ln[Nn++]=ui,Ln[Nn++]=di,Ln[Nn++]=hs,hs=e;var r=ui;e=di;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var o=32-mr(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ui=1<<32-mr(t)+i|n<<i|r,di=o+e}else ui=1<<o|n<<i|r,di=e}function Fg(e){e.return!==null&&(Zo(e,1),hk(e,1,0))}function Bg(e){for(;e===ed;)ed=Qs[--Xs],Qs[Xs]=null,td=Qs[--Xs],Qs[Xs]=null;for(;e===hs;)hs=Ln[--Nn],Ln[Nn]=null,di=Ln[--Nn],Ln[Nn]=null,ui=Ln[--Nn],Ln[Nn]=null}var bn=null,vn=null,Je=!1,ir=null;function pk(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ey(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,vn=bo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hs!==null?{id:ui,overflow:di}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,vn=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rm(e){if(Je){var t=vn;if(t){var n=t;if(!ey(e,t)){if(nm(e))throw Error(B(418));t=bo(n.nextSibling);var r=bn;t&&ey(e,t)?pk(r,n):(e.flags=e.flags&-4097|2,Je=!1,bn=e)}}else{if(nm(e))throw Error(B(418));e.flags=e.flags&-4097|2,Je=!1,bn=e}}}function ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function tu(e){if(e!==bn)return!1;if(!Je)return ty(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=vn)){if(nm(e))throw mk(),Error(B(418));for(;t;)pk(e,t),t=bo(t.nextSibling)}if(ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=bo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=bn?bo(e.stateNode.nextSibling):null;return!0}function mk(){for(var e=vn;e;)e=bo(e.nextSibling)}function Pa(){vn=bn=null,Je=!1}function $g(e){ir===null?ir=[e]:ir.push(e)}var dR=Ji.ReactCurrentBatchConfig;function er(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var nd=Bo(null),rd=null,Zs=null,jg=null;function zg(){jg=Zs=rd=null}function Vg(e){var t=nd.current;ze(nd),e._currentValue=t}function im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function la(e,t){rd=e,jg=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(en=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(jg!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(rd===null)throw Error(B(308));Zs=e,rd.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var is=null;function Wg(e){is===null?is=[e]:is.push(e)}function gk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wg(t)):(n.next=i.next,i.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ro=!1;function Jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ji(e,n)}return i=r.interleaved,i===null?(t.next=t,Wg(r)):(t.next=i.next,i.next=t),r.interleaved=t,ji(e,n)}function Su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ig(e,n)}}function ny(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function id(e,t,n,r){var i=e.updateQueue;ro=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(o!==null){var d=i.baseState;s=0,u=l=c=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,p=a;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=Ge({},d,f);break e;case 2:ro=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ms|=s,e.lanes=s,e.memoizedState=d}}function ry(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var yk=new g1.Component().refs;function om(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hd={isMounted:function(e){return(e=e._reactInternals)?Ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qt(),i=wo(e),o=Ni(r,i);o.payload=t,n!=null&&(o.callback=n),t=So(e,o,i),t!==null&&(gr(t,e,i,r),Su(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qt(),i=wo(e),o=Ni(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=So(e,o,i),t!==null&&(gr(t,e,i,r),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),r=wo(e),i=Ni(n,r);i.tag=2,t!=null&&(i.callback=t),t=So(e,i,r),t!==null&&(gr(t,e,r,n),Su(t,e,r))}};function iy(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Zc(n,r)||!Zc(i,o):!0}function bk(e,t,n){var r=!1,i=Mo,o=t.contextType;return typeof o=="object"&&o!==null?o=$n(o):(i=on(t)?fs:Bt.current,r=t.contextTypes,o=(r=r!=null)?xa(e,i):Mo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function oy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hd.enqueueReplaceState(t,t.state,null)}function sm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yk,Jg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$n(o):(o=on(t)?fs:Bt.current,i.context=xa(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(om(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hd.enqueueReplaceState(i,i.state,null),id(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===yk&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function nu(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sy(e){var t=e._init;return t(e._payload)}function Sk(e){function t(v,y){if(e){var k=v.deletions;k===null?(v.deletions=[y],v.flags|=16):k.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Co(v,y),v.index=0,v.sibling=null,v}function o(v,y,k){return v.index=k,e?(k=v.alternate,k!==null?(k=k.index,k<y?(v.flags|=2,y):k):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,k,b){return y===null||y.tag!==6?(y=Wh(k,v.mode,b),y.return=v,y):(y=i(y,k),y.return=v,y)}function c(v,y,k,b){var C=k.type;return C===Js?u(v,y,k.props.children,b,k.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===no&&sy(C)===y.type)?(b=i(y,k.props),b.ref=sc(v,y,k),b.return=v,b):(b=xu(k.type,k.key,k.props,null,v.mode,b),b.ref=sc(v,y,k),b.return=v,b)}function l(v,y,k,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=Jh(k,v.mode,b),y.return=v,y):(y=i(y,k.children||[]),y.return=v,y)}function u(v,y,k,b,C){return y===null||y.tag!==7?(y=us(k,v.mode,b,C),y.return=v,y):(y=i(y,k),y.return=v,y)}function d(v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wh(""+y,v.mode,k),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jl:return k=xu(y.type,y.key,y.props,null,v.mode,k),k.ref=sc(v,null,y),k.return=v,k;case Ws:return y=Jh(y,v.mode,k),y.return=v,y;case no:var b=y._init;return d(v,b(y._payload),k)}if(Cc(y)||tc(y))return y=us(y,v.mode,k,null),y.return=v,y;nu(v,y)}return null}function f(v,y,k,b){var C=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:a(v,y,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jl:return k.key===C?c(v,y,k,b):null;case Ws:return k.key===C?l(v,y,k,b):null;case no:return C=k._init,f(v,y,C(k._payload),b)}if(Cc(k)||tc(k))return C!==null?null:u(v,y,k,b,null);nu(v,k)}return null}function m(v,y,k,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(k)||null,a(y,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jl:return v=v.get(b.key===null?k:b.key)||null,c(y,v,b,C);case Ws:return v=v.get(b.key===null?k:b.key)||null,l(y,v,b,C);case no:var P=b._init;return m(v,y,k,P(b._payload),C)}if(Cc(b)||tc(b))return v=v.get(k)||null,u(y,v,b,C,null);nu(y,b)}return null}function g(v,y,k,b){for(var C=null,P=null,T=y,M=y=0,R=null;T!==null&&M<k.length;M++){T.index>M?(R=T,T=null):R=T.sibling;var I=f(v,T,k[M],b);if(I===null){T===null&&(T=R);break}e&&T&&I.alternate===null&&t(v,T),y=o(I,y,M),P===null?C=I:P.sibling=I,P=I,T=R}if(M===k.length)return n(v,T),Je&&Zo(v,M),C;if(T===null){for(;M<k.length;M++)T=d(v,k[M],b),T!==null&&(y=o(T,y,M),P===null?C=T:P.sibling=T,P=T);return Je&&Zo(v,M),C}for(T=r(v,T);M<k.length;M++)R=m(T,v,M,k[M],b),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?M:R.key),y=o(R,y,M),P===null?C=R:P.sibling=R,P=R);return e&&T.forEach(function(V){return t(v,V)}),Je&&Zo(v,M),C}function p(v,y,k,b){var C=tc(k);if(typeof C!="function")throw Error(B(150));if(k=C.call(k),k==null)throw Error(B(151));for(var P=C=null,T=y,M=y=0,R=null,I=k.next();T!==null&&!I.done;M++,I=k.next()){T.index>M?(R=T,T=null):R=T.sibling;var V=f(v,T,I.value,b);if(V===null){T===null&&(T=R);break}e&&T&&V.alternate===null&&t(v,T),y=o(V,y,M),P===null?C=V:P.sibling=V,P=V,T=R}if(I.done)return n(v,T),Je&&Zo(v,M),C;if(T===null){for(;!I.done;M++,I=k.next())I=d(v,I.value,b),I!==null&&(y=o(I,y,M),P===null?C=I:P.sibling=I,P=I);return Je&&Zo(v,M),C}for(T=r(v,T);!I.done;M++,I=k.next())I=m(T,v,M,I.value,b),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?M:I.key),y=o(I,y,M),P===null?C=I:P.sibling=I,P=I);return e&&T.forEach(function(Q){return t(v,Q)}),Je&&Zo(v,M),C}function S(v,y,k,b){if(typeof k=="object"&&k!==null&&k.type===Js&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Jl:e:{for(var C=k.key,P=y;P!==null;){if(P.key===C){if(C=k.type,C===Js){if(P.tag===7){n(v,P.sibling),y=i(P,k.props.children),y.return=v,v=y;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===no&&sy(C)===P.type){n(v,P.sibling),y=i(P,k.props),y.ref=sc(v,P,k),y.return=v,v=y;break e}n(v,P);break}else t(v,P);P=P.sibling}k.type===Js?(y=us(k.props.children,v.mode,b,k.key),y.return=v,v=y):(b=xu(k.type,k.key,k.props,null,v.mode,b),b.ref=sc(v,y,k),b.return=v,v=b)}return s(v);case Ws:e:{for(P=k.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(v,y.sibling),y=i(y,k.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Jh(k,v.mode,b),y.return=v,v=y}return s(v);case no:return P=k._init,S(v,y,P(k._payload),b)}if(Cc(k))return g(v,y,k,b);if(tc(k))return p(v,y,k,b);nu(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,k),y.return=v,v=y):(n(v,y),y=Wh(k,v.mode,b),y.return=v,v=y),s(v)):n(v,y)}return S}var Ra=Sk(!0),kk=Sk(!1),Ml={},Gr=Bo(Ml),rl=Bo(Ml),il=Bo(Ml);function os(e){if(e===Ml)throw Error(B(174));return e}function Hg(e,t){switch(Be(il,t),Be(rl,e),Be(Gr,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fp(t,e)}ze(Gr),Be(Gr,t)}function _a(){ze(Gr),ze(rl),ze(il)}function wk(e){os(il.current);var t=os(Gr.current),n=Fp(t,e.type);t!==n&&(Be(rl,e),Be(Gr,n))}function qg(e){rl.current===e&&(ze(Gr),ze(rl))}var qe=Bo(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Kg(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var ku=Ji.ReactCurrentDispatcher,Bh=Ji.ReactCurrentBatchConfig,ps=0,Ke=null,pt=null,yt=null,sd=!1,Lc=!1,ol=0,fR=0;function Mt(){throw Error(B(321))}function Gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function Yg(e,t,n,r,i,o){if(ps=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=e===null||e.memoizedState===null?gR:vR,e=n(r,i),Lc){o=0;do{if(Lc=!1,ol=0,25<=o)throw Error(B(301));o+=1,yt=pt=null,t.updateQueue=null,ku.current=yR,e=n(r,i)}while(Lc)}if(ku.current=ad,t=pt!==null&&pt.next!==null,ps=0,yt=pt=Ke=null,sd=!1,t)throw Error(B(300));return e}function Qg(){var e=ol!==0;return ol=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=e:yt=yt.next=e,yt}function jn(){if(pt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=yt===null?Ke.memoizedState:yt.next;if(t!==null)yt=t,pt=e;else{if(e===null)throw Error(B(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Ke.memoizedState=yt=e:yt=yt.next=e}return yt}function sl(e,t){return typeof t=="function"?t(e):t}function $h(e){var t=jn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,l=o;do{var u=l.lane;if((ps&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,s=r):c=c.next=d,Ke.lanes|=u,ms|=u}l=l.next}while(l!==null&&l!==o);c===null?s=r:c.next=a,yr(r,t.memoizedState)||(en=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ke.lanes|=o,ms|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jh(e){var t=jn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);yr(o,t.memoizedState)||(en=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ck(){}function Tk(e,t){var n=Ke,r=jn(),i=t(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,en=!0),r=r.queue,Xg(Pk.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,al(9,xk.bind(null,n,r,i,t),void 0,null),kt===null)throw Error(B(349));ps&30||Ek(n,t,i)}return i}function Ek(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xk(e,t,n,r){t.value=n,t.getSnapshot=r,Rk(t)&&_k(e)}function Pk(e,t,n){return n(function(){Rk(t)&&_k(e)})}function Rk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function _k(e){var t=ji(e,1);t!==null&&gr(t,e,1,-1)}function ay(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t.queue=e,e=e.dispatch=mR.bind(null,Ke,e),[t.memoizedState,e]}function al(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ik(){return jn().memoizedState}function wu(e,t,n,r){var i=Er();Ke.flags|=e,i.memoizedState=al(1|t,n,void 0,r===void 0?null:r)}function qd(e,t,n,r){var i=jn();r=r===void 0?null:r;var o=void 0;if(pt!==null){var s=pt.memoizedState;if(o=s.destroy,r!==null&&Gg(r,s.deps)){i.memoizedState=al(t,n,o,r);return}}Ke.flags|=e,i.memoizedState=al(1|t,n,o,r)}function cy(e,t){return wu(8390656,8,e,t)}function Xg(e,t){return qd(2048,8,e,t)}function Mk(e,t){return qd(4,2,e,t)}function Ok(e,t){return qd(4,4,e,t)}function Ak(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lk(e,t,n){return n=n!=null?n.concat([e]):null,qd(4,4,Ak.bind(null,t,e),n)}function Zg(){}function Nk(e,t){var n=jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dk(e,t){var n=jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uk(e,t,n){return ps&21?(yr(n,t)||(n=$1(),Ke.lanes|=n,ms|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=n)}function hR(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Bh.transition;Bh.transition={};try{e(!1),t()}finally{Pe=n,Bh.transition=r}}function Fk(){return jn().memoizedState}function pR(e,t,n){var r=wo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bk(e))$k(t,n);else if(n=gk(e,t,n,r),n!==null){var i=qt();gr(n,e,r,i),jk(n,t,r)}}function mR(e,t,n){var r=wo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bk(e))$k(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,s)){var c=t.interleaved;c===null?(i.next=i,Wg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=gk(e,t,i,r),n!==null&&(i=qt(),gr(n,e,r,i),jk(n,t,r))}}function Bk(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function $k(e,t){Lc=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ig(e,n)}}var ad={readContext:$n,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},gR={readContext:$n,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wu(4194308,4,Ak.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return wu(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pR.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:ay,useDebugValue:Zg,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=ay(!1),t=e[0];return e=hR.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=Er();if(Je){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),kt===null)throw Error(B(349));ps&30||Ek(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,cy(Pk.bind(null,r,o,e),[e]),r.flags|=2048,al(9,xk.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Er(),t=kt.identifierPrefix;if(Je){var n=di,r=ui;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vR={readContext:$n,useCallback:Nk,useContext:$n,useEffect:Xg,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Ok,useMemo:Dk,useReducer:$h,useRef:Ik,useState:function(){return $h(sl)},useDebugValue:Zg,useDeferredValue:function(e){var t=jn();return Uk(t,pt.memoizedState,e)},useTransition:function(){var e=$h(sl)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Ck,useSyncExternalStore:Tk,useId:Fk,unstable_isNewReconciler:!1},yR={readContext:$n,useCallback:Nk,useContext:$n,useEffect:Xg,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Ok,useMemo:Dk,useReducer:jh,useRef:Ik,useState:function(){return jh(sl)},useDebugValue:Zg,useDeferredValue:function(e){var t=jn();return pt===null?t.memoizedState=e:Uk(t,pt.memoizedState,e)},useTransition:function(){var e=jh(sl)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Ck,useSyncExternalStore:Tk,useId:Fk,unstable_isNewReconciler:!1};function Ia(e,t){try{var n="",r=t;do n+=Hx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function zh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function am(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function zk(e,t,n){n=Ni(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ld||(ld=!0,vm=r),am(e,t)},n}function Vk(e,t,n){n=Ni(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){am(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){am(e,t),typeof r!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ly(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=AR.bind(null,e,t,n),t.then(e,e))}function uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ni(-1,1),t.tag=2,So(n,t,1))),n.lanes|=1),e)}var SR=Ji.ReactCurrentOwner,en=!1;function jt(e,t,n,r){t.child=e===null?kk(t,null,n,r):Ra(t,e.child,n,r)}function fy(e,t,n,r,i){n=n.render;var o=t.ref;return la(t,i),r=Yg(e,t,n,r,o,i),n=Qg(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zi(e,t,i)):(Je&&n&&Fg(t),t.flags|=1,jt(e,t,r,i),t.child)}function hy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!av(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Wk(e,t,o,r,i)):(e=xu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(s,r)&&e.ref===t.ref)return zi(e,t,i)}return t.flags|=1,e=Co(o,r),e.ref=t.ref,e.return=t,t.child=e}function Wk(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Zc(o,r)&&e.ref===t.ref)if(en=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(en=!0);else return t.lanes=e.lanes,zi(e,t,i)}return cm(e,t,n,r,i)}function Jk(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ta,mn),mn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(ta,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Be(ta,mn),mn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Be(ta,mn),mn|=r;return jt(e,t,i,n),t.child}function Hk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cm(e,t,n,r,i){var o=on(n)?fs:Bt.current;return o=xa(t,o),la(t,i),n=Yg(e,t,n,r,o,i),r=Qg(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zi(e,t,i)):(Je&&r&&Fg(t),t.flags|=1,jt(e,t,n,i),t.child)}function py(e,t,n,r,i){if(on(n)){var o=!0;Zu(t)}else o=!1;if(la(t,i),t.stateNode===null)Cu(e,t),bk(t,n,r),sm(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=$n(l):(l=on(n)?fs:Bt.current,l=xa(t,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&oy(t,s,r,l),ro=!1;var f=t.memoizedState;s.state=f,id(t,r,s,i),c=t.memoizedState,a!==r||f!==c||rn.current||ro?(typeof u=="function"&&(om(t,n,u,r),c=t.memoizedState),(a=ro||iy(t,n,a,r,f,c,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vk(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:er(t.type,a),s.props=l,d=t.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=on(n)?fs:Bt.current,c=xa(t,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==c)&&oy(t,s,r,c),ro=!1,f=t.memoizedState,s.state=f,id(t,r,s,i);var g=t.memoizedState;a!==d||f!==g||rn.current||ro?(typeof m=="function"&&(om(t,n,m,r),g=t.memoizedState),(l=ro||iy(t,n,l,r,f,g,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return lm(e,t,n,r,o,i)}function lm(e,t,n,r,i,o){Hk(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Z0(t,n,!1),zi(e,t,o);r=t.stateNode,SR.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ra(t,e.child,null,o),t.child=Ra(t,null,a,o)):jt(e,t,a,o),t.memoizedState=r.state,i&&Z0(t,n,!0),t.child}function qk(e){var t=e.stateNode;t.pendingContext?X0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X0(e,t.context,!1),Hg(e,t.containerInfo)}function my(e,t,n,r,i){return Pa(),$g(i),t.flags|=256,jt(e,t,n,r),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kk(e,t,n){var r=t.pendingProps,i=qe.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(qe,i&1),e===null)return rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yd(s,r,0,null),e=us(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dm(n),t.memoizedState=um,e):ev(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Co(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Co(a,o):(o=us(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?dm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=um,r}return o=e.child,e=o.sibling,r=Co(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ev(e,t){return t=Yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ru(e,t,n,r){return r!==null&&$g(r),Ra(t,e.child,null,n),e=ev(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=zh(Error(B(422))),ru(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Yd({mode:"visible",children:r.children},i,0,null),o=us(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ra(t,e.child,null,s),t.child.memoizedState=dm(s),t.memoizedState=um,o);if(!(t.mode&1))return ru(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=zh(o,r,void 0),ru(e,t,s,r)}if(a=(s&e.childLanes)!==0,en||a){if(r=kt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ji(e,i),gr(r,e,i,-1))}return sv(),r=zh(Error(B(421))),ru(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vn=bo(i.nextSibling),bn=t,Je=!0,ir=null,e!==null&&(Ln[Nn++]=ui,Ln[Nn++]=di,Ln[Nn++]=hs,ui=e.id,di=e.overflow,hs=t),t=ev(t,r.children),t.flags|=4096,t)}function gy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),im(e.return,t,n)}function Vh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gk(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(jt(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,n,t);else if(e.tag===19)gy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&od(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&od(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vh(t,!0,n,null,o);break;case"together":Vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Co(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Co(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wR(e,t,n){switch(t.tag){case 3:qk(t),Pa();break;case 5:wk(t);break;case 1:on(t.type)&&Zu(t);break;case 4:Hg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Be(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?Kk(e,t,n):(Be(qe,qe.current&1),e=zi(e,t,n),e!==null?e.sibling:null);Be(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,Jk(e,t,n)}return zi(e,t,n)}var Yk,fm,Qk,Xk;Yk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fm=function(){};Qk=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,os(Gr.current);var o=null;switch(n){case"input":i=Lp(e,i),r=Lp(e,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Up(e,i),r=Up(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qu)}Bp(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Hc.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&je("scroll",e),o||a===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};Xk=function(e,t,n,r){n!==r&&(t.flags|=4)};function ac(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CR(e,t,n){var r=t.pendingProps;switch(Bg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return on(t.type)&&Xu(),Ot(t),null;case 3:return r=t.stateNode,_a(),ze(rn),ze(Bt),Kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Sm(ir),ir=null))),fm(e,t),Ot(t),null;case 5:qg(t);var i=os(il.current);if(n=t.type,e!==null&&t.stateNode!=null)Qk(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ot(t),null}if(e=os(Gr.current),tu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[_r]=t,r[nl]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ec.length;i++)je(Ec[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":E0(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":P0(r,o),je("invalid",r)}Bp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&eu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&eu(r.textContent,a,e),i=["children",""+a]):Hc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&je("scroll",r)}switch(n){case"input":Hl(r),x0(r,o,!0);break;case"textarea":Hl(r),R0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[_r]=t,e[nl]=r,Yk(e,t,!1,!1),t.stateNode=e;e:{switch(s=$p(n,r),n){case"dialog":je("cancel",e),je("close",e),i=r;break;case"iframe":case"object":case"embed":je("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ec.length;i++)je(Ec[i],e);i=r;break;case"source":je("error",e),i=r;break;case"img":case"image":case"link":je("error",e),je("load",e),i=r;break;case"details":je("toggle",e),i=r;break;case"input":E0(e,r),i=Lp(e,r),je("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),je("invalid",e);break;case"textarea":P0(e,r),i=Up(e,r),je("invalid",e);break;default:i=r}Bp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?R1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x1(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qc(e,c):typeof c=="number"&&qc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",e):c!=null&&Tg(e,o,c,s))}switch(n){case"input":Hl(e),x0(e,r,!1);break;case"textarea":Hl(e),R0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Io(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?oa(e,!!r.multiple,o,!1):r.defaultValue!=null&&oa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)Xk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=os(il.current),os(Gr.current),tu(t)){if(r=t.stateNode,n=t.memoizedProps,r[_r]=t,(o=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:eu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=t,t.stateNode=r}return Ot(t),null;case 13:if(ze(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&vn!==null&&t.mode&1&&!(t.flags&128))mk(),Pa(),t.flags|=98560,o=!1;else if(o=tu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[_r]=t}else Pa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),o=!1}else ir!==null&&(Sm(ir),ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?gt===0&&(gt=3):sv())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return _a(),fm(e,t),e===null&&el(t.stateNode.containerInfo),Ot(t),null;case 10:return Vg(t.type._context),Ot(t),null;case 17:return on(t.type)&&Xu(),Ot(t),null;case 19:if(ze(qe),o=t.memoizedState,o===null)return Ot(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ac(o,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=od(e),s!==null){for(t.flags|=128,ac(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(qe,qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&lt()>Ma&&(t.flags|=128,r=!0,ac(o,!1),t.lanes=4194304)}else{if(!r)if(e=od(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ac(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Je)return Ot(t),null}else 2*lt()-o.renderingStartTime>Ma&&n!==1073741824&&(t.flags|=128,r=!0,ac(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,n=qe.current,Be(qe,r?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return ov(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function TR(e,t){switch(Bg(t),t.tag){case 1:return on(t.type)&&Xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(),ze(rn),ze(Bt),Kg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qg(t),null;case 13:if(ze(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(qe),null;case 4:return _a(),null;case 10:return Vg(t.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var iu=!1,Dt=!1,ER=typeof WeakSet=="function"?WeakSet:Set,J=null;function ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function hm(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var vy=!1;function xR(e,t){if(Yp=Ku,e=nk(),Ug(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(c=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++l===i&&(a=s),f===o&&++u===r&&(c=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qp={focusedElem:e,selectionRange:n},Ku=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,S=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:er(t.type,p),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=vy,vy=!1,g}function Nc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&hm(t,n,o)}i=i.next}while(i!==r)}}function Kd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zk(e){var t=e.alternate;t!==null&&(e.alternate=null,Zk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[nl],delete t[em],delete t[cR],delete t[lR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ew(e){return e.tag===5||e.tag===3||e.tag===4}function yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ew(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qu));else if(r!==4&&(e=e.child,e!==null))for(mm(e,t,n),e=e.sibling;e!==null;)mm(e,t,n),e=e.sibling}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}var Et=null,tr=!1;function Zi(e,t,n){for(n=n.child;n!==null;)tw(e,t,n),n=n.sibling}function tw(e,t,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:Dt||ea(n,t);case 6:var r=Et,i=tr;Et=null,Zi(e,t,n),Et=r,tr=i,Et!==null&&(tr?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(tr?(e=Et,n=n.stateNode,e.nodeType===8?Dh(e.parentNode,n):e.nodeType===1&&Dh(e,n),Qc(e)):Dh(Et,n.stateNode));break;case 4:r=Et,i=tr,Et=n.stateNode.containerInfo,tr=!0,Zi(e,t,n),Et=r,tr=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hm(n,t,s),i=i.next}while(i!==r)}Zi(e,t,n);break;case 1:if(!Dt&&(ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,t,a)}Zi(e,t,n);break;case 21:Zi(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Zi(e,t,n),Dt=r):Zi(e,t,n);break;default:Zi(e,t,n)}}function by(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ER),t.forEach(function(r){var i=NR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,tr=!1;break e;case 3:Et=a.stateNode.containerInfo,tr=!0;break e;case 4:Et=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(Et===null)throw Error(B(160));tw(o,s,i),Et=null,tr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Ze(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nw(t,e),t=t.sibling}function nw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),Tr(e),r&4){try{Nc(3,e,e.return),Kd(3,e)}catch(p){Ze(e,e.return,p)}try{Nc(5,e,e.return)}catch(p){Ze(e,e.return,p)}}break;case 1:Zn(t,e),Tr(e),r&512&&n!==null&&ea(n,n.return);break;case 5:if(Zn(t,e),Tr(e),r&512&&n!==null&&ea(n,n.return),e.flags&32){var i=e.stateNode;try{qc(i,"")}catch(p){Ze(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&C1(i,o),$p(a,s);var l=$p(a,o);for(s=0;s<c.length;s+=2){var u=c[s],d=c[s+1];u==="style"?R1(i,d):u==="dangerouslySetInnerHTML"?x1(i,d):u==="children"?qc(i,d):Tg(i,u,d,l)}switch(a){case"input":Np(i,o);break;case"textarea":T1(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?oa(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?oa(i,!!o.multiple,o.defaultValue,!0):oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[nl]=o}catch(p){Ze(e,e.return,p)}}break;case 6:if(Zn(t,e),Tr(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(p){Ze(e,e.return,p)}}break;case 3:if(Zn(t,e),Tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(t.containerInfo)}catch(p){Ze(e,e.return,p)}break;case 4:Zn(t,e),Tr(e);break;case 13:Zn(t,e),Tr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rv=lt())),r&4&&by(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(l=Dt)||u,Zn(t,e),Dt=l):Zn(t,e),Tr(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(J=e,u=e.child;u!==null;){for(d=J=u;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:Nc(4,f,f.return);break;case 1:ea(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Ze(r,n,p)}}break;case 5:ea(f,f.return);break;case 22:if(f.memoizedState!==null){ky(d);continue}}m!==null?(m.return=f,J=m):ky(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=P1("display",s))}catch(p){Ze(e,e.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){Ze(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zn(t,e),Tr(e),r&4&&by(e);break;case 21:break;default:Zn(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ew(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qc(i,""),r.flags&=-33);var o=yy(e);gm(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yy(e);mm(e,a,s);break;default:throw Error(B(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PR(e,t,n){J=e,rw(e)}function rw(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||iu;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Dt;a=iu;var l=Dt;if(iu=s,(Dt=c)&&!l)for(J=i;J!==null;)s=J,c=s.child,s.tag===22&&s.memoizedState!==null?wy(i):c!==null?(c.return=s,J=c):wy(i);for(;o!==null;)J=o,rw(o),o=o.sibling;J=i,iu=a,Dt=l}Sy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Sy(e)}}function Sy(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Kd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:er(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ry(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ry(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||t.flags&512&&pm(t)}catch(f){Ze(t,t.return,f)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function ky(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function wy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kd(4,t)}catch(c){Ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ze(t,i,c)}}var o=t.return;try{pm(t)}catch(c){Ze(t,o,c)}break;case 5:var s=t.return;try{pm(t)}catch(c){Ze(t,s,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var RR=Math.ceil,cd=Ji.ReactCurrentDispatcher,tv=Ji.ReactCurrentOwner,Bn=Ji.ReactCurrentBatchConfig,ve=0,kt=null,dt=null,Pt=0,mn=0,ta=Bo(0),gt=0,cl=null,ms=0,Gd=0,nv=0,Dc=null,Xt=null,rv=0,Ma=1/0,oi=null,ld=!1,vm=null,ko=null,ou=!1,co=null,ud=0,Uc=0,ym=null,Tu=-1,Eu=0;function qt(){return ve&6?lt():Tu!==-1?Tu:Tu=lt()}function wo(e){return e.mode&1?ve&2&&Pt!==0?Pt&-Pt:dR.transition!==null?(Eu===0&&(Eu=$1()),Eu):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:q1(e.type)),e):1}function gr(e,t,n,r){if(50<Uc)throw Uc=0,ym=null,Error(B(185));Rl(e,n,r),(!(ve&2)||e!==kt)&&(e===kt&&(!(ve&2)&&(Gd|=n),gt===4&&oo(e,Pt)),sn(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ma=lt()+500,Jd&&$o()))}function sn(e,t){var n=e.callbackNode;dP(e,t);var r=qu(e,e===kt?Pt:0);if(r===0)n!==null&&M0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&M0(n),t===1)e.tag===0?uR(Cy.bind(null,e)):fk(Cy.bind(null,e)),sR(function(){!(ve&6)&&$o()}),n=null;else{switch(j1(r)){case 1:n=_g;break;case 4:n=F1;break;case 16:n=Hu;break;case 536870912:n=B1;break;default:n=Hu}n=dw(n,iw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iw(e,t){if(Tu=-1,Eu=0,ve&6)throw Error(B(327));var n=e.callbackNode;if(ua()&&e.callbackNode!==n)return null;var r=qu(e,e===kt?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dd(e,r);else{t=r;var i=ve;ve|=2;var o=sw();(kt!==e||Pt!==t)&&(oi=null,Ma=lt()+500,ls(e,t));do try{MR();break}catch(a){ow(e,a)}while(1);zg(),cd.current=o,ve=i,dt!==null?t=0:(kt=null,Pt=0,t=gt)}if(t!==0){if(t===2&&(i=Jp(e),i!==0&&(r=i,t=bm(e,i))),t===1)throw n=cl,ls(e,0),oo(e,r),sn(e,lt()),n;if(t===6)oo(e,r);else{if(i=e.current.alternate,!(r&30)&&!_R(i)&&(t=dd(e,r),t===2&&(o=Jp(e),o!==0&&(r=o,t=bm(e,o))),t===1))throw n=cl,ls(e,0),oo(e,r),sn(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:es(e,Xt,oi);break;case 3:if(oo(e,r),(r&130023424)===r&&(t=rv+500-lt(),10<t)){if(qu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zp(es.bind(null,e,Xt,oi),t);break}es(e,Xt,oi);break;case 4:if(oo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-mr(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RR(r/1960))-r,10<r){e.timeoutHandle=Zp(es.bind(null,e,Xt,oi),r);break}es(e,Xt,oi);break;case 5:es(e,Xt,oi);break;default:throw Error(B(329))}}}return sn(e,lt()),e.callbackNode===n?iw.bind(null,e):null}function bm(e,t){var n=Dc;return e.current.memoizedState.isDehydrated&&(ls(e,t).flags|=256),e=dd(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&Sm(t)),e}function Sm(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function _R(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t){for(t&=~nv,t&=~Gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mr(t),r=1<<n;e[n]=-1,t&=~r}}function Cy(e){if(ve&6)throw Error(B(327));ua();var t=qu(e,0);if(!(t&1))return sn(e,lt()),null;var n=dd(e,t);if(e.tag!==0&&n===2){var r=Jp(e);r!==0&&(t=r,n=bm(e,r))}if(n===1)throw n=cl,ls(e,0),oo(e,t),sn(e,lt()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,Xt,oi),sn(e,lt()),null}function iv(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ma=lt()+500,Jd&&$o())}}function gs(e){co!==null&&co.tag===0&&!(ve&6)&&ua();var t=ve;ve|=1;var n=Bn.transition,r=Pe;try{if(Bn.transition=null,Pe=1,e)return e()}finally{Pe=r,Bn.transition=n,ve=t,!(ve&6)&&$o()}}function ov(){mn=ta.current,ze(ta)}function ls(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oR(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Bg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:_a(),ze(rn),ze(Bt),Kg();break;case 5:qg(r);break;case 4:_a();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:Vg(r.type._context);break;case 22:case 23:ov()}n=n.return}if(kt=e,dt=e=Co(e.current,null),Pt=mn=t,gt=0,cl=null,nv=Gd=ms=0,Xt=Dc=null,is!==null){for(t=0;t<is.length;t++)if(n=is[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}is=null}return e}function ow(e,t){do{var n=dt;try{if(zg(),ku.current=ad,sd){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sd=!1}if(ps=0,yt=pt=Ke=null,Lc=!1,ol=0,tv.current=null,n===null||n.return===null){gt=1,cl=t,dt=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=Pt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=uy(s);if(m!==null){m.flags&=-257,dy(m,s,a,o,t),m.mode&1&&ly(o,l,t),t=m,c=l;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){ly(o,l,t),sv();break e}c=Error(B(426))}}else if(Je&&a.mode&1){var S=uy(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),dy(S,s,a,o,t),$g(Ia(c,a));break e}}o=c=Ia(c,a),gt!==4&&(gt=2),Dc===null?Dc=[o]:Dc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=zk(o,c,t);ny(o,v);break e;case 1:a=c;var y=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ko===null||!ko.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Vk(o,a,t);ny(o,b);break e}}o=o.return}while(o!==null)}cw(n)}catch(C){t=C,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function sw(){var e=cd.current;return cd.current=ad,e===null?ad:e}function sv(){(gt===0||gt===3||gt===2)&&(gt=4),kt===null||!(ms&268435455)&&!(Gd&268435455)||oo(kt,Pt)}function dd(e,t){var n=ve;ve|=2;var r=sw();(kt!==e||Pt!==t)&&(oi=null,ls(e,t));do try{IR();break}catch(i){ow(e,i)}while(1);if(zg(),ve=n,cd.current=r,dt!==null)throw Error(B(261));return kt=null,Pt=0,gt}function IR(){for(;dt!==null;)aw(dt)}function MR(){for(;dt!==null&&!nP();)aw(dt)}function aw(e){var t=uw(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?cw(e):dt=t,tv.current=null}function cw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TR(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,dt=null;return}}else if(n=CR(n,t,mn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);gt===0&&(gt=5)}function es(e,t,n){var r=Pe,i=Bn.transition;try{Bn.transition=null,Pe=1,OR(e,t,n,r)}finally{Bn.transition=i,Pe=r}return null}function OR(e,t,n,r){do ua();while(co!==null);if(ve&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(fP(e,o),e===kt&&(dt=kt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ou||(ou=!0,dw(Hu,function(){return ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bn.transition,Bn.transition=null;var s=Pe;Pe=1;var a=ve;ve|=4,tv.current=null,xR(e,n),nw(n,e),XP(Qp),Ku=!!Yp,Qp=Yp=null,e.current=n,PR(n),rP(),ve=a,Pe=s,Bn.transition=o}else e.current=n;if(ou&&(ou=!1,co=e,ud=i),o=e.pendingLanes,o===0&&(ko=null),sP(n.stateNode),sn(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ld)throw ld=!1,e=vm,vm=null,e;return ud&1&&e.tag!==0&&ua(),o=e.pendingLanes,o&1?e===ym?Uc++:(Uc=0,ym=e):Uc=0,$o(),null}function ua(){if(co!==null){var e=j1(ud),t=Bn.transition,n=Pe;try{if(Bn.transition=null,Pe=16>e?16:e,co===null)var r=!1;else{if(e=co,co=null,ud=0,ve&6)throw Error(B(331));var i=ve;for(ve|=4,J=e.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(J=l;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Nc(8,u,o)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var f=u.sibling,m=u.return;if(Zk(u),u===l){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,J=v;break e}J=o.return}}var y=e.current;for(J=y;J!==null;){s=J;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,J=k;else e:for(s=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kd(9,a)}}catch(C){Ze(a,a.return,C)}if(a===s){J=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,J=b;break e}J=a.return}}if(ve=i,$o(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot($d,e)}catch{}r=!0}return r}finally{Pe=n,Bn.transition=t}}return!1}function Ty(e,t,n){t=Ia(n,t),t=zk(e,t,1),e=So(e,t,1),t=qt(),e!==null&&(Rl(e,1,t),sn(e,t))}function Ze(e,t,n){if(e.tag===3)Ty(e,e,n);else for(;t!==null;){if(t.tag===3){Ty(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){e=Ia(n,e),e=Vk(t,e,1),t=So(t,e,1),e=qt(),t!==null&&(Rl(t,1,e),sn(t,e));break}}t=t.return}}function AR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Pt&n)===n&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>lt()-rv?ls(e,0):nv|=n),sn(e,t)}function lw(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var n=qt();e=ji(e,t),e!==null&&(Rl(e,t,n),sn(e,n))}function LR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lw(e,n)}function NR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),lw(e,n)}var uw;uw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)en=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return en=!1,wR(e,t,n);en=!!(e.flags&131072)}else en=!1,Je&&t.flags&1048576&&hk(t,td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cu(e,t),e=t.pendingProps;var i=xa(t,Bt.current);la(t,n),i=Yg(null,t,r,e,i,n);var o=Qg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(o=!0,Zu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(t),i.updater=Hd,t.stateNode=i,i._reactInternals=t,sm(t,r,e,n),t=lm(null,t,r,!0,o,n)):(t.tag=0,Je&&o&&Fg(t),jt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=UR(r),e=er(r,e),i){case 0:t=cm(null,t,r,e,n);break e;case 1:t=py(null,t,r,e,n);break e;case 11:t=fy(null,t,r,e,n);break e;case 14:t=hy(null,t,r,er(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),cm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),py(e,t,r,i,n);case 3:e:{if(qk(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vk(e,t),id(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ia(Error(B(423)),t),t=my(e,t,r,n,i);break e}else if(r!==i){i=Ia(Error(B(424)),t),t=my(e,t,r,n,i);break e}else for(vn=bo(t.stateNode.containerInfo.firstChild),bn=t,Je=!0,ir=null,n=kk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pa(),r===i){t=zi(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return wk(t),e===null&&rm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Xp(r,i)?s=null:o!==null&&Xp(r,o)&&(t.flags|=32),Hk(e,t),jt(e,t,s,n),t.child;case 6:return e===null&&rm(t),null;case 13:return Kk(e,t,n);case 4:return Hg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ra(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),fy(e,t,r,i,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Be(nd,r._currentValue),r._currentValue=s,o!==null)if(yr(o.value,s)){if(o.children===i.children&&!rn.current){t=zi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Ni(-1,n&-n),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),im(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),im(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,la(t,n),i=$n(i),r=r(i),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,i=er(r,t.pendingProps),i=er(r.type,i),hy(e,t,r,i,n);case 15:return Wk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),Cu(e,t),t.tag=1,on(r)?(e=!0,Zu(t)):e=!1,la(t,n),bk(t,r,i),sm(t,r,i,n),lm(null,t,r,!0,e,n);case 19:return Gk(e,t,n);case 22:return Jk(e,t,n)}throw Error(B(156,t.tag))};function dw(e,t){return U1(e,t)}function DR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new DR(e,t,n,r)}function av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UR(e){if(typeof e=="function")return av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xg)return 11;if(e===Pg)return 14}return 2}function Co(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")av(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Js:return us(n.children,i,o,t);case Eg:s=8,i|=8;break;case Ip:return e=Dn(12,n,t,i|2),e.elementType=Ip,e.lanes=o,e;case Mp:return e=Dn(13,n,t,i),e.elementType=Mp,e.lanes=o,e;case Op:return e=Dn(19,n,t,i),e.elementType=Op,e.lanes=o,e;case S1:return Yd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y1:s=10;break e;case b1:s=9;break e;case xg:s=11;break e;case Pg:s=14;break e;case no:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Dn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function us(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function Yd(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=S1,e.lanes=n,e.stateNode={isHidden:!1},e}function Wh(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function Jh(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cv(e,t,n,r,i,o,s,a,c){return e=new FR(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(o),e}function BR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fw(e){if(!e)return Mo;e=e._reactInternals;e:{if(Ps(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(on(n))return dk(e,n,t)}return t}function hw(e,t,n,r,i,o,s,a,c){return e=cv(n,r,!0,e,i,o,s,a,c),e.context=fw(null),n=e.current,r=qt(),i=wo(n),o=Ni(r,i),o.callback=t??null,So(n,o,i),e.current.lanes=i,Rl(e,i,r),sn(e,r),e}function Qd(e,t,n,r){var i=t.current,o=qt(),s=wo(i);return n=fw(n),t.context===null?t.context=n:t.pendingContext=n,t=Ni(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=So(i,t,s),e!==null&&(gr(e,i,s,o),Su(e,i,s)),s}function fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lv(e,t){Ey(e,t),(e=e.alternate)&&Ey(e,t)}function $R(){return null}var pw=typeof reportError=="function"?reportError:function(e){console.error(e)};function uv(e){this._internalRoot=e}Xd.prototype.render=uv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Qd(e,t,null,null)};Xd.prototype.unmount=uv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gs(function(){Qd(null,e,null,null)}),t[$i]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=W1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<io.length&&t!==0&&t<io[n].priority;n++);io.splice(n,0,e),n===0&&H1(e)}};function dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xy(){}function jR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=fd(s);o.call(l)}}var s=hw(t,r,e,0,null,!1,!1,"",xy);return e._reactRootContainer=s,e[$i]=s.current,el(e.nodeType===8?e.parentNode:e),gs(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=fd(c);a.call(l)}}var c=cv(e,0,!1,null,null,!1,!1,"",xy);return e._reactRootContainer=c,e[$i]=c.current,el(e.nodeType===8?e.parentNode:e),gs(function(){Qd(t,c,n,r)}),c}function ef(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=fd(s);a.call(c)}}Qd(t,s,e,i)}else s=jR(n,t,e,i,r);return fd(s)}z1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tc(t.pendingLanes);n!==0&&(Ig(t,n|1),sn(t,lt()),!(ve&6)&&(Ma=lt()+500,$o()))}break;case 13:gs(function(){var r=ji(e,1);if(r!==null){var i=qt();gr(r,e,1,i)}}),lv(e,1)}};Mg=function(e){if(e.tag===13){var t=ji(e,134217728);if(t!==null){var n=qt();gr(t,e,134217728,n)}lv(e,134217728)}};V1=function(e){if(e.tag===13){var t=wo(e),n=ji(e,t);if(n!==null){var r=qt();gr(n,e,t,r)}lv(e,t)}};W1=function(){return Pe};J1=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};zp=function(e,t,n){switch(t){case"input":if(Np(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wd(r);if(!i)throw Error(B(90));w1(r),Np(r,i)}}}break;case"textarea":T1(e,n);break;case"select":t=n.value,t!=null&&oa(e,!!n.multiple,t,!1)}};M1=iv;O1=gs;var zR={usingClientEntryPoint:!1,Events:[Il,Gs,Wd,_1,I1,iv]},cc={findFiberByHostInstance:rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VR={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=N1(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||$R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{$d=su.inject(VR),Kr=su}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(t))throw Error(B(200));return BR(e,t,null,n)};xn.createRoot=function(e,t){if(!dv(e))throw Error(B(299));var n=!1,r="",i=pw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cv(e,1,!1,null,null,n,!1,r,i),e[$i]=t.current,el(e.nodeType===8?e.parentNode:e),new uv(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=N1(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return gs(e)};xn.hydrate=function(e,t,n){if(!Zd(t))throw Error(B(200));return ef(null,e,t,!0,n)};xn.hydrateRoot=function(e,t,n){if(!dv(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=pw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=hw(t,null,e,1,n??null,i,!1,o,s),e[$i]=t.current,el(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xd(t)};xn.render=function(e,t,n){if(!Zd(t))throw Error(B(200));return ef(null,e,t,!1,n)};xn.unmountComponentAtNode=function(e){if(!Zd(e))throw Error(B(40));return e._reactRootContainer?(gs(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[$i]=null})}),!0):!1};xn.unstable_batchedUpdates=iv;xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zd(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ef(e,t,n,!1,r)};xn.version="18.2.0-next-9e3b772b8-20220608";function mw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mw)}catch(e){console.error(e)}}mw(),h1.exports=xn;var gw=h1.exports,Py=gw;Rp.createRoot=Py.createRoot,Rp.hydrateRoot=Py.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(this,arguments)}var ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ot||(ot={}));const Ry="popstate";function WR(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return ll("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ol(i)}return HR(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JR(){return Math.random().toString(36).substr(2,8)}function _y(e,t){return{usr:e.state,key:e.key,idx:t}}function ll(e,t,n,r){return n===void 0&&(n=null),et({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hi(t):t,{state:n,key:t&&t.key||r||JR()})}function Ol(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ot.Pop,c=null,l=u();l==null&&(l=0,s.replaceState(et({},s.state,{idx:l}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=ot.Pop;let S=u(),v=S==null?null:S-l;l=S,c&&c({action:a,location:p.location,delta:v})}function f(S,v){a=ot.Push;let y=ll(p.location,S,v);n&&n(y,S),l=u()+1;let k=_y(y,l),b=p.createHref(y);try{s.pushState(k,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}o&&c&&c({action:a,location:p.location,delta:1})}function m(S,v){a=ot.Replace;let y=ll(p.location,S,v);n&&n(y,S),l=u();let k=_y(y,l),b=p.createHref(y);s.replaceState(k,"",b),o&&c&&c({action:a,location:p.location,delta:0})}function g(S){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:Ol(S);return de(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return a},get location(){return e(i,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ry,d),c=S,()=>{i.removeEventListener(Ry,d),c=null}},createHref(S){return t(i,S)},createURL:g,encodeLocation(S){let v=g(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(S){return s.go(S)}};return p}var st;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(st||(st={}));const qR=new Set(["lazy","caseSensitive","path","id","index","children"]);function KR(e){return e.index===!0}function km(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(de(i.index!==!0||!i.children,"Cannot specify children on an index route"),de(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),KR(i)){let c=et({},i,t(i),{id:a});return r[a]=c,c}else{let c=et({},i,t(i),{id:a,children:void 0});return r[a]=c,i.children&&(c.children=km(i.children,t,s,r)),c}})}function na(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Hi(t):t,i=Al(r.pathname||"/",n);if(i==null)return null;let o=vw(e);YR(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=o2(o[a],c2(i));return s}function GR(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function vw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(de(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=To([r,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(de(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),vw(o.children,t,u,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:r2(l,o.index),routesMeta:u})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of yw(o.path))i(o,s,c)}),t}function yw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yw(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function YR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QR=/^:\w+$/,XR=3,ZR=2,e2=1,t2=10,n2=-2,Iy=e=>e==="*";function r2(e,t){let n=e.split("/"),r=n.length;return n.some(Iy)&&(r+=n2),t&&(r+=ZR),n.filter(i=>!Iy(i)).reduce((i,o)=>i+(QR.test(o)?XR:o===""?e2:t2),r)}function i2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function o2(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],c=s===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",u=s2({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},l);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:To([i,u.pathname]),pathnameBase:f2(To([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=To([i,u.pathnameBase]))}return o}function s2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=a[d]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?l[f]=void 0:l[f]=l2(g||"",f),l},{}),pathname:o,pathnameBase:s,pattern:e}}function a2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function c2(e){try{return decodeURI(e)}catch(t){return vs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function l2(e,t){try{return decodeURIComponent(e)}catch(n){return vs(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Al(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function u2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Hi(e):e;return{pathname:n?n.startsWith("/")?n:d2(n,t):t,search:h2(r),hash:p2(i)}}function d2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Hi(e):(i=et({},e),de(!i.pathname||!i.pathname.includes("?"),Hh("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),Hh("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),Hh("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=u2(i,a),l=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),f2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class hv{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Sw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kw=["post","put","patch","delete"],m2=new Set(kw),g2=["get",...kw],v2=new Set(g2),y2=new Set([301,302,303,307,308]),b2=new Set([307,308]),qh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k2=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Cw="remix-router-transitions";function w2(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;de(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let x=e.detectErrorBoundary;i=O=>({hasErrorBoundary:x(O)})}else i=k2;let o={},s=km(e.routes,i,void 0,o),a,c=e.basename||"/",l=et({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),u=null,d=new Set,f=null,m=null,g=null,p=e.hydrationData!=null,S=na(s,e.history.location,c),v=null;if(S==null){let x=On(404,{pathname:e.history.location.pathname}),{matches:O,route:D}=Fy(s);S=O,v={[D.id]:x}}let y=!S.some(x=>x.route.lazy)&&(!S.some(x=>x.route.loader)||e.hydrationData!=null),k,b={historyAction:e.history.action,location:e.history.location,matches:S,initialized:y,navigation:qh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},C=ot.Pop,P=!1,T,M=!1,R=new Map,I=null,V=!1,Q=!1,te=[],re=[],ie=new Map,he=0,xe=-1,j=new Map,q=new Set,X=new Map,ue=new Map,Te=new Set,It=new Map,Ue=new Map,Yt=!1;function rt(){if(u=e.history.listen(x=>{let{action:O,location:D,delta:z}=x;if(Yt){Yt=!1;return}vs(Ue.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=Xa({currentLocation:b.location,nextLocation:D,historyAction:O});if(Z&&z!=null){Yt=!0,e.history.go(z*-1),ri(Z,{state:"blocked",location:D,proceed(){ri(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),e.history.go(z)},reset(){let oe=new Map(b.blockers);oe.set(Z,lc),ye({blockers:oe})}});return}return Gn(O,D)}),n){A2(t,R);let x=()=>L2(t,R);t.addEventListener("pagehide",x),I=()=>t.removeEventListener("pagehide",x)}return b.initialized||Gn(ot.Pop,b.location),k}function Kn(){u&&u(),I&&I(),d.clear(),T&&T.abort(),b.fetchers.forEach((x,O)=>Qn(O)),b.blockers.forEach((x,O)=>ni(O))}function Is(x){return d.add(x),()=>d.delete(x)}function ye(x,O){b=et({},b,x);let D=[],z=[];l.v7_fetcherPersist&&b.fetchers.forEach((Z,oe)=>{Z.state==="idle"&&(Te.has(oe)?z.push(oe):D.push(oe))}),d.forEach(Z=>Z(b,{deletedFetchers:z,unstable_viewTransitionOpts:O})),l.v7_fetcherPersist&&(D.forEach(Z=>b.fetchers.delete(Z)),z.forEach(Z=>Qn(Z)))}function kr(x,O){var D,z;let Z=b.actionData!=null&&b.navigation.formMethod!=null&&nr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((D=x.state)==null?void 0:D._isRedirect)!==!0,oe;O.actionData?Object.keys(O.actionData).length>0?oe=O.actionData:oe=null:Z?oe=b.actionData:oe=null;let ce=O.loaderData?Uy(b.loaderData,O.loaderData,O.matches||[],O.errors):b.loaderData,se=b.blockers;se.size>0&&(se=new Map(se),se.forEach((He,me)=>se.set(me,lc)));let ee=P===!0||b.navigation.formMethod!=null&&nr(b.navigation.formMethod)&&((z=x.state)==null?void 0:z._isRedirect)!==!0;a&&(s=a,a=void 0),V||C===ot.Pop||(C===ot.Push?e.history.push(x,x.state):C===ot.Replace&&e.history.replace(x,x.state));let Ae;if(C===ot.Pop){let He=R.get(b.location.pathname);He&&He.has(x.pathname)?Ae={currentLocation:b.location,nextLocation:x}:R.has(x.pathname)&&(Ae={currentLocation:x,nextLocation:b.location})}else if(M){let He=R.get(b.location.pathname);He?He.add(x.pathname):(He=new Set([x.pathname]),R.set(b.location.pathname,He)),Ae={currentLocation:b.location,nextLocation:x}}ye(et({},O,{actionData:oe,loaderData:ce,historyAction:C,location:x,initialized:!0,navigation:qh,revalidation:"idle",restoreScrollPosition:pe(x,O.matches||b.matches),preventScrollReset:ee,blockers:se}),Ae),C=ot.Pop,P=!1,M=!1,V=!1,Q=!1,te=[],re=[]}async function Ms(x,O){if(typeof x=="number"){e.history.go(x);return}let D=wm(b.location,b.matches,c,l.v7_prependBasename,x,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:z,submission:Z,error:oe}=My(l.v7_normalizeFormMethod,!1,D,O),ce=b.location,se=ll(b.location,z,O&&O.state);se=et({},se,e.history.encodeLocation(se));let ee=O&&O.replace!=null?O.replace:void 0,Ae=ot.Push;ee===!0?Ae=ot.Replace:ee===!1||Z!=null&&nr(Z.formMethod)&&Z.formAction===b.location.pathname+b.location.search&&(Ae=ot.Replace);let He=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,me=Xa({currentLocation:ce,nextLocation:se,historyAction:Ae});if(me){ri(me,{state:"blocked",location:se,proceed(){ri(me,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ms(x,O)},reset(){let Le=new Map(b.blockers);Le.set(me,lc),ye({blockers:Le})}});return}return await Gn(Ae,se,{submission:Z,pendingError:oe,preventScrollReset:He,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition})}function Os(){if(Yi(),ye({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Gn(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Gn(C||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Gn(x,O,D){T&&T.abort(),T=null,C=x,V=(D&&D.startUninterruptedRevalidation)===!0,ke(b.location,b.matches),P=(D&&D.preventScrollReset)===!0,M=(D&&D.enableViewTransition)===!0;let z=a||s,Z=D&&D.overrideNavigation,oe=na(z,O,c);if(!oe){let Le=On(404,{pathname:O.pathname}),{matches:ht,route:Yo}=Fy(z);Go(),kr(O,{matches:ht,loaderData:{},errors:{[Yo.id]:Le}});return}if(b.initialized&&!Q&&P2(b.location,O)&&!(D&&D.submission&&nr(D.submission.formMethod))){kr(O,{matches:oe});return}T=new AbortController;let ce=dc(e.history,O,T.signal,D&&D.submission),se,ee;if(D&&D.pendingError)ee={[Fc(oe).route.id]:D.pendingError};else if(D&&D.submission&&nr(D.submission.formMethod)){let Le=await As(ce,O,D.submission,oe,{replace:D.replace});if(Le.shortCircuited)return;se=Le.pendingActionData,ee=Le.pendingActionError,Z=Kh(O,D.submission),ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:Ae,loaderData:He,errors:me}=await Qa(ce,O,oe,Z,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,se,ee);Ae||(T=null,kr(O,et({matches:oe},se?{actionData:se}:{},{loaderData:He,errors:me})))}async function As(x,O,D,z,Z){Z===void 0&&(Z={}),Yi();let oe=M2(O,D);ye({navigation:oe});let ce,se=Tm(z,O);if(!se.route.action&&!se.route.lazy)ce={type:st.error,error:On(405,{method:x.method,pathname:O.pathname,routeId:se.route.id})};else if(ce=await uc("action",x,se,z,o,i,c),x.signal.aborted)return{shortCircuited:!0};if(da(ce)){let ee;return Z&&Z.replace!=null?ee=Z.replace:ee=ce.location===b.location.pathname+b.location.search,await $t(b,ce,{submission:D,replace:ee}),{shortCircuited:!0}}if(Bc(ce)){let ee=Fc(z,se.route.id);return(Z&&Z.replace)!==!0&&(C=ot.Push),{pendingActionData:{},pendingActionError:{[ee.route.id]:ce.error}}}if(ss(ce))throw On(400,{type:"defer-action"});return{pendingActionData:{[se.route.id]:ce.data}}}async function Qa(x,O,D,z,Z,oe,ce,se,ee){let Ae=z||Kh(O,Z),He=Z||oe||jy(Ae),me=a||s,[Le,ht]=Oy(e.history,b,D,He,O,Q,te,re,X,q,me,c,se,ee);if(Go(_e=>!(D&&D.some(Xn=>Xn.route.id===_e))||Le&&Le.some(Xn=>Xn.route.id===_e)),xe=++he,Le.length===0&&ht.length===0){let _e=qo();return kr(O,et({matches:D,loaderData:{},errors:ee||null},se?{actionData:se}:{},_e?{fetchers:new Map(b.fetchers)}:{})),{shortCircuited:!0}}if(!V){ht.forEach(Xn=>{let Xi=b.fetchers.get(Xn.key),it=fc(void 0,Xi?Xi.data:void 0);b.fetchers.set(Xn.key,it)});let _e=se||b.actionData;ye(et({navigation:Ae},_e?Object.keys(_e).length===0?{actionData:null}:{actionData:_e}:{},ht.length>0?{fetchers:new Map(b.fetchers)}:{}))}ht.forEach(_e=>{ie.has(_e.key)&&In(_e.key),_e.controller&&ie.set(_e.key,_e.controller)});let Yo=()=>ht.forEach(_e=>In(_e.key));T&&T.signal.addEventListener("abort",Yo);let{results:Qo,loaderResults:Za,fetcherResults:gh}=await wr(b.matches,D,Le,ht,x);if(x.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Yo),ht.forEach(_e=>ie.delete(_e.key));let ii=By(Qo);if(ii){if(ii.idx>=Le.length){let _e=ht[ii.idx-Le.length].key;q.add(_e)}return await $t(b,ii.result,{replace:ce}),{shortCircuited:!0}}let{loaderData:Qi,errors:Vl}=Dy(b,D,Le,Za,ee,ht,gh,It);It.forEach((_e,Xn)=>{_e.subscribe(Xi=>{(Xi||_e.done)&&It.delete(Xn)})});let vh=qo(),yh=ae(xe),bh=vh||yh||ht.length>0;return et({loaderData:Qi,errors:Vl},bh?{fetchers:new Map(b.fetchers)}:{})}function Jo(x){return l.v7_fetcherPersist&&(ue.set(x,(ue.get(x)||0)+1),Te.has(x)&&Te.delete(x)),b.fetchers.get(x)||S2}function fn(x,O,D,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(x)&&In(x);let Z=a||s,oe=wm(b.location,b.matches,c,l.v7_prependBasename,D,O,z==null?void 0:z.relative),ce=na(Z,oe,c);if(!ce){Cr(x,O,On(404,{pathname:oe}));return}let{path:se,submission:ee,error:Ae}=My(l.v7_normalizeFormMethod,!0,oe,z);if(Ae){Cr(x,O,Ae);return}let He=Tm(ce,se);if(P=(z&&z.preventScrollReset)===!0,ee&&nr(ee.formMethod)){Yn(x,O,se,He,ce,ee);return}X.set(x,{routeId:O,path:se}),Ls(x,O,se,He,ce,ee)}async function Yn(x,O,D,z,Z,oe){if(Yi(),X.delete(x),!z.route.action&&!z.route.lazy){let it=On(405,{method:oe.formMethod,pathname:D,routeId:O});Cr(x,O,it);return}let ce=b.fetchers.get(x),se=O2(oe,ce);b.fetchers.set(x,se),ye({fetchers:new Map(b.fetchers)});let ee=new AbortController,Ae=dc(e.history,D,ee.signal,oe);ie.set(x,ee);let He=he,me=await uc("action",Ae,z,Z,o,i,c);if(Ae.signal.aborted){ie.get(x)===ee&&ie.delete(x);return}if(Te.has(x)){b.fetchers.set(x,to(void 0)),ye({fetchers:new Map(b.fetchers)});return}if(da(me))if(ie.delete(x),xe>He){let it=to(void 0);b.fetchers.set(x,it),ye({fetchers:new Map(b.fetchers)});return}else{q.add(x);let it=fc(oe);return b.fetchers.set(x,it),ye({fetchers:new Map(b.fetchers)}),$t(b,me,{fetcherSubmission:oe})}if(Bc(me)){Cr(x,O,me.error);return}if(ss(me))throw On(400,{type:"defer-action"});let Le=b.navigation.location||b.location,ht=dc(e.history,Le,ee.signal),Yo=a||s,Qo=b.navigation.state!=="idle"?na(Yo,b.navigation.location,c):b.matches;de(Qo,"Didn't find any matches after fetcher action");let Za=++he;j.set(x,Za);let gh=fc(oe,me.data);b.fetchers.set(x,gh);let[ii,Qi]=Oy(e.history,b,Qo,oe,Le,Q,te,re,X,q,Yo,c,{[z.route.id]:me.data},void 0);Qi.filter(it=>it.key!==x).forEach(it=>{let ec=it.key,y0=b.fetchers.get(ec),vx=fc(void 0,y0?y0.data:void 0);b.fetchers.set(ec,vx),ie.has(ec)&&In(ec),it.controller&&ie.set(ec,it.controller)}),ye({fetchers:new Map(b.fetchers)});let Vl=()=>Qi.forEach(it=>In(it.key));ee.signal.addEventListener("abort",Vl);let{results:vh,loaderResults:yh,fetcherResults:bh}=await wr(b.matches,Qo,ii,Qi,ht);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",Vl),j.delete(x),ie.delete(x),Qi.forEach(it=>ie.delete(it.key));let _e=By(vh);if(_e){if(_e.idx>=ii.length){let it=Qi[_e.idx-ii.length].key;q.add(it)}return $t(b,_e.result)}let{loaderData:Xn,errors:Xi}=Dy(b,b.matches,ii,yh,void 0,Qi,bh,It);if(b.fetchers.has(x)){let it=to(me.data);b.fetchers.set(x,it)}ae(Za),b.navigation.state==="loading"&&Za>xe?(de(C,"Expected pending action"),T&&T.abort(),kr(b.navigation.location,{matches:Qo,loaderData:Xn,errors:Xi,fetchers:new Map(b.fetchers)})):(ye({errors:Xi,loaderData:Uy(b.loaderData,Xn,Qo,Xi),fetchers:new Map(b.fetchers)}),Q=!1)}async function Ls(x,O,D,z,Z,oe){let ce=b.fetchers.get(x),se=fc(oe,ce?ce.data:void 0);b.fetchers.set(x,se),ye({fetchers:new Map(b.fetchers)});let ee=new AbortController,Ae=dc(e.history,D,ee.signal);ie.set(x,ee);let He=he,me=await uc("loader",Ae,z,Z,o,i,c);if(ss(me)&&(me=await xw(me,Ae.signal,!0)||me),ie.get(x)===ee&&ie.delete(x),Ae.signal.aborted)return;if(Te.has(x)){b.fetchers.set(x,to(void 0)),ye({fetchers:new Map(b.fetchers)});return}if(da(me))if(xe>He){let ht=to(void 0);b.fetchers.set(x,ht),ye({fetchers:new Map(b.fetchers)});return}else{q.add(x),await $t(b,me);return}if(Bc(me)){Cr(x,O,me.error);return}de(!ss(me),"Unhandled fetcher deferred data");let Le=to(me.data);b.fetchers.set(x,Le),ye({fetchers:new Map(b.fetchers)})}async function $t(x,O,D){let{submission:z,fetcherSubmission:Z,replace:oe}=D===void 0?{}:D;O.revalidate&&(Q=!0);let ce=ll(x.location,O.location,{_isRedirect:!0});if(de(ce,"Expected a location on the redirect navigation"),n){let Le=!1;if(O.reloadDocument)Le=!0;else if(ww.test(O.location)){const ht=e.history.createURL(O.location);Le=ht.origin!==t.location.origin||Al(ht.pathname,c)==null}if(Le){oe?t.location.replace(O.location):t.location.assign(O.location);return}}T=null;let se=oe===!0?ot.Replace:ot.Push,{formMethod:ee,formAction:Ae,formEncType:He}=x.navigation;!z&&!Z&&ee&&Ae&&He&&(z=jy(x.navigation));let me=z||Z;if(b2.has(O.status)&&me&&nr(me.formMethod))await Gn(se,ce,{submission:et({},me,{formAction:O.location}),preventScrollReset:P});else{let Le=Kh(ce,z);await Gn(se,ce,{overrideNavigation:Le,fetcherSubmission:Z,preventScrollReset:P})}}async function wr(x,O,D,z,Z){let oe=await Promise.all([...D.map(ee=>uc("loader",Z,ee,O,o,i,c)),...z.map(ee=>ee.matches&&ee.match&&ee.controller?uc("loader",dc(e.history,ee.path,ee.controller.signal),ee.match,ee.matches,o,i,c):{type:st.error,error:On(404,{pathname:ee.path})})]),ce=oe.slice(0,D.length),se=oe.slice(D.length);return await Promise.all([$y(x,D,ce,ce.map(()=>Z.signal),!1,b.loaderData),$y(x,z.map(ee=>ee.match),se,z.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{results:oe,loaderResults:ce,fetcherResults:se}}function Yi(){Q=!0,te.push(...Go()),X.forEach((x,O)=>{ie.has(O)&&(re.push(O),In(O))})}function Cr(x,O,D){let z=Fc(b.matches,O);Qn(x),ye({errors:{[z.route.id]:D},fetchers:new Map(b.fetchers)})}function Qn(x){let O=b.fetchers.get(x);ie.has(x)&&!(O&&O.state==="loading"&&j.has(x))&&In(x),X.delete(x),j.delete(x),q.delete(x),Te.delete(x),b.fetchers.delete(x)}function ti(x){if(l.v7_fetcherPersist){let O=(ue.get(x)||0)-1;O<=0?(ue.delete(x),Te.add(x)):ue.set(x,O)}else Qn(x);ye({fetchers:new Map(b.fetchers)})}function In(x){let O=ie.get(x);de(O,"Expected fetch controller: "+x),O.abort(),ie.delete(x)}function Ho(x){for(let O of x){let D=Jo(O),z=to(D.data);b.fetchers.set(O,z)}}function qo(){let x=[],O=!1;for(let D of q){let z=b.fetchers.get(D);de(z,"Expected fetcher: "+D),z.state==="loading"&&(q.delete(D),x.push(D),O=!0)}return Ho(x),O}function ae(x){let O=[];for(let[D,z]of j)if(z<x){let Z=b.fetchers.get(D);de(Z,"Expected fetcher: "+D),Z.state==="loading"&&(In(D),j.delete(D),O.push(D))}return Ho(O),O.length>0}function Ko(x,O){let D=b.blockers.get(x)||lc;return Ue.get(x)!==O&&Ue.set(x,O),D}function ni(x){b.blockers.delete(x),Ue.delete(x)}function ri(x,O){let D=b.blockers.get(x)||lc;de(D.state==="unblocked"&&O.state==="blocked"||D.state==="blocked"&&O.state==="blocked"||D.state==="blocked"&&O.state==="proceeding"||D.state==="blocked"&&O.state==="unblocked"||D.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+O.state);let z=new Map(b.blockers);z.set(x,O),ye({blockers:z})}function Xa(x){let{currentLocation:O,nextLocation:D,historyAction:z}=x;if(Ue.size===0)return;Ue.size>1&&vs(!1,"A router only supports one blocker at a time");let Z=Array.from(Ue.entries()),[oe,ce]=Z[Z.length-1],se=b.blockers.get(oe);if(!(se&&se.state==="proceeding")&&ce({currentLocation:O,nextLocation:D,historyAction:z}))return oe}function Go(x){let O=[];return It.forEach((D,z)=>{(!x||x(z))&&(D.cancel(),O.push(z),It.delete(z))}),O}function K(x,O,D){if(f=x,g=O,m=D||null,!p&&b.navigation===qh){p=!0;let z=pe(b.location,b.matches);z!=null&&ye({restoreScrollPosition:z})}return()=>{f=null,g=null,m=null}}function ne(x,O){return m&&m(x,O.map(z=>GR(z,b.loaderData)))||x.key}function ke(x,O){if(f&&g){let D=ne(x,O);f[D]=g()}}function pe(x,O){if(f){let D=ne(x,O),z=f[D];if(typeof z=="number")return z}return null}function Ye(x){o={},a=km(x,i,void 0,o)}return k={get basename(){return c},get state(){return b},get routes(){return s},get window(){return t},initialize:rt,subscribe:Is,enableScrollRestoration:K,navigate:Ms,fetch:fn,revalidate:Os,createHref:x=>e.history.createHref(x),encodeLocation:x=>e.history.encodeLocation(x),getFetcher:Jo,deleteFetcher:ti,dispose:Kn,getBlocker:Ko,deleteBlocker:ni,_internalFetchControllers:ie,_internalActiveDeferreds:It,_internalSetRoutes:Ye},k}function C2(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function wm(e,t,n,r,i,o,s){let a,c;if(o!=null&&s!=="path"){a=[];for(let u of t)if(a.push(u),u.route.id===o){c=u;break}}else a=t,c=t[t.length-1];let l=bw(i||".",fv(a).map(u=>u.pathnameBase),Al(e.pathname,n)||e.pathname,s==="path");return i==null&&(l.search=e.search,l.hash=e.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!pv(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(l.pathname=l.pathname==="/"?n:To([n,l.pathname])),Ol(l)}function My(e,t,n,r){if(!r||!C2(r))return{path:n};if(r.formMethod&&!I2(r.formMethod))return{path:n,error:On(405,{method:r.formMethod})};let i=()=>({path:n,error:On(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=Ew(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!nr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[p,S]=g;return""+m+p+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!nr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}de(typeof FormData=="function","FormData is not available in this environment");let c,l;if(r.formData)c=Cm(r.formData),l=r.formData;else if(r.body instanceof FormData)c=Cm(r.body),l=r.body;else if(r.body instanceof URLSearchParams)c=r.body,l=Ny(c);else if(r.body==null)c=new URLSearchParams,l=new FormData;else try{c=new URLSearchParams(r.body),l=Ny(c)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(nr(u.formMethod))return{path:n,submission:u};let d=Hi(n);return t&&d.search&&pv(d.search)&&c.append("index",""),d.search="?"+c,{path:Ol(d),submission:u}}function T2(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Oy(e,t,n,r,i,o,s,a,c,l,u,d,f,m){let g=m?Object.values(m)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),S=e.createURL(i),v=m?Object.keys(m)[0]:void 0,k=T2(n,v).filter((C,P)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(E2(t.loaderData,t.matches[P],C)||s.some(R=>R===C.route.id))return!0;let T=t.matches[P],M=C;return Ay(C,et({currentUrl:p,currentParams:T.params,nextUrl:S,nextParams:M.params},r,{actionResult:g,defaultShouldRevalidate:o||p.pathname+p.search===S.pathname+S.search||p.search!==S.search||Tw(T,M)}))}),b=[];return c.forEach((C,P)=>{if(!n.some(V=>V.route.id===C.routeId))return;let T=na(u,C.path,d);if(!T){b.push({key:P,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let M=t.fetchers.get(P),R=Tm(T,C.path),I=!1;l.has(P)?I=!1:a.includes(P)?I=!0:M&&M.state!=="idle"&&M.data===void 0?I=o:I=Ay(R,et({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o})),I&&b.push({key:P,routeId:C.routeId,path:C.path,matches:T,match:R,controller:new AbortController})}),[k,b]}function E2(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function Tw(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ay(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Ly(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];de(i,"No route found in manifest");let o={};for(let s in r){let c=i[s]!==void 0&&s!=="hasErrorBoundary";vs(!c,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!c&&!qR.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,et({},t(i),{lazy:void 0}))}async function uc(e,t,n,r,i,o,s,a){a===void 0&&(a={});let c,l,u,d=g=>{let p,S=new Promise((v,y)=>p=y);return u=()=>p(),t.signal.addEventListener("abort",u),Promise.race([g({request:t,params:n.params,context:a.requestContext}),S])};try{let g=n.route[e];if(n.route.lazy)if(g){let p,S=await Promise.all([d(g).catch(v=>{p=v}),Ly(n.route,o,i)]);if(p)throw p;l=S[0]}else if(await Ly(n.route,o,i),g=n.route[e],g)l=await d(g);else if(e==="action"){let p=new URL(t.url),S=p.pathname+p.search;throw On(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:st.data,data:void 0};else if(g)l=await d(g);else{let p=new URL(t.url),S=p.pathname+p.search;throw On(404,{pathname:S})}de(l!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){c=st.error,l=g}finally{u&&t.signal.removeEventListener("abort",u)}if(_2(l)){let g=l.status;if(y2.has(g)){let v=l.headers.get("Location");if(de(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!ww.test(v))v=wm(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,v);else if(!a.isStaticRequest){let y=new URL(t.url),k=v.startsWith("//")?new URL(y.protocol+v):new URL(v),b=Al(k.pathname,s)!=null;k.origin===y.origin&&b&&(v=k.pathname+k.search+k.hash)}if(a.isStaticRequest)throw l.headers.set("Location",v),l;return{type:st.redirect,status:g,location:v,revalidate:l.headers.get("X-Remix-Revalidate")!==null,reloadDocument:l.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:c===st.error?st.error:st.data,response:l};let p,S=l.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?p=await l.json():p=await l.text(),c===st.error?{type:c,error:new hv(g,l.statusText,p),headers:l.headers}:{type:st.data,data:p,statusCode:l.status,headers:l.headers}}if(c===st.error)return{type:c,error:l};if(R2(l)){var f,m;return{type:st.deferred,deferredData:l,statusCode:(f=l.init)==null?void 0:f.status,headers:((m=l.init)==null?void 0:m.headers)&&new Headers(l.init.headers)}}return{type:st.data,data:l}}function dc(e,t,n,r){let i=e.createURL(Ew(t)).toString(),o={signal:n};if(r&&nr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Cm(r.formData):o.body=r.formData}return new Request(i,o)}function Cm(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Ny(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function x2(e,t,n,r,i){let o={},s=null,a,c=!1,l={};return n.forEach((u,d)=>{let f=t[d].route.id;if(de(!da(u),"Cannot handle redirect results in processLoaderData"),Bc(u)){let m=Fc(e,f),g=u.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=g),o[f]=void 0,c||(c=!0,a=Sw(u.error)?u.error.status:500),u.headers&&(l[f]=u.headers)}else ss(u)?(i.set(f,u.deferredData),o[f]=u.deferredData.data):o[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!c&&(a=u.statusCode),u.headers&&(l[f]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function Dy(e,t,n,r,i,o,s,a){let{loaderData:c,errors:l}=x2(t,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:f,controller:m}=o[u];de(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let g=s[u];if(!(m&&m.signal.aborted))if(Bc(g)){let p=Fc(e.matches,f==null?void 0:f.route.id);l&&l[p.route.id]||(l=et({},l,{[p.route.id]:g.error})),e.fetchers.delete(d)}else if(da(g))de(!1,"Unhandled fetcher revalidation redirect");else if(ss(g))de(!1,"Unhandled fetcher deferred data");else{let p=to(g.data);e.fetchers.set(d,p)}}return{loaderData:c,errors:l}}function Uy(e,t,n,r){let i=et({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Fc(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Fy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function On(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new hv(e||500,s,new Error(a),!0)}function By(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(da(n))return{result:n,idx:t}}}function Ew(e){let t=typeof e=="string"?Hi(e):e;return Ol(et({},t,{hash:""}))}function P2(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ss(e){return e.type===st.deferred}function Bc(e){return e.type===st.error}function da(e){return(e&&e.type)===st.redirect}function R2(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function _2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function I2(e){return v2.has(e.toLowerCase())}function nr(e){return m2.has(e.toLowerCase())}async function $y(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],c=t[s];if(!c)continue;let l=e.find(d=>d.route.id===c.route.id),u=l!=null&&!Tw(l,c)&&(o&&o[c.route.id])!==void 0;if(ss(a)&&(i||u)){let d=r[s];de(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await xw(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function xw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:st.data,data:e.deferredData.unwrappedData}}catch(i){return{type:st.error,error:i}}return{type:st.data,data:e.deferredData.data}}}function pv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Tm(e,t){let n=typeof t=="string"?Hi(t).search:t.search;if(e[e.length-1].route.index&&pv(n||""))return e[e.length-1];let r=fv(e);return r[r.length-1]}function jy(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Kh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M2(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function O2(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function to(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function A2(e,t){try{let n=e.sessionStorage.getItem(Cw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function L2(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Cw,JSON.stringify(n))}catch(r){vs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}const tf=h.createContext(null),Pw=h.createContext(null),nf=h.createContext(null),rf=h.createContext(null),Rs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Rw=h.createContext(null);function of(){return h.useContext(rf)!=null}function sf(){return of()||de(!1),h.useContext(rf).location}function _w(e){h.useContext(nf).static||h.useLayoutEffect(e)}function Ll(){let{isDataRoute:e}=h.useContext(Rs);return e?q2():N2()}function N2(){of()||de(!1);let e=h.useContext(tf),{basename:t,navigator:n}=h.useContext(nf),{matches:r}=h.useContext(Rs),{pathname:i}=sf(),o=JSON.stringify(fv(r).map(c=>c.pathnameBase)),s=h.useRef(!1);return _w(()=>{s.current=!0}),h.useCallback(function(c,l){if(l===void 0&&(l={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let u=bw(c,JSON.parse(o),i,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:To([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,o,i,e])}const D2=h.createContext(null);function U2(e){let t=h.useContext(Rs).outlet;return t&&h.createElement(D2.Provider,{value:e},t)}function F2(e,t,n){of()||de(!1);let{navigator:r}=h.useContext(nf),{matches:i}=h.useContext(Rs),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=sf(),l;if(t){var u;let p=typeof t=="string"?Hi(t):t;a==="/"||(u=p.pathname)!=null&&u.startsWith(a)||de(!1),l=p}else l=c;let d=l.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=na(e,{pathname:f}),g=V2(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:To([a,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:To([a,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n);return t&&g?h.createElement(rf.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:ot.Pop}},g):g}function B2(){let e=Ow(),t=Sw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:i},n):null,o)}const $2=h.createElement(B2,null);class j2 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?h.createElement(Rs.Provider,{value:this.props.routeContext},h.createElement(Rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z2(e){let{routeContext:t,match:n,children:r}=e,i=h.useContext(tf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Rs.Provider,{value:t},r)}function V2(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id]));a>=0||de(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,c,l)=>{let u=c.route.id?s==null?void 0:s[c.route.id]:null,d=null;n&&(d=c.route.errorElement||$2);let f=t.concat(o.slice(0,l+1)),m=()=>{let g;return u?g=d:c.route.Component?g=h.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=a,h.createElement(z2,{match:c,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||l===0)?h.createElement(j2,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Iw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Iw||{}),pd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pd||{});function W2(e){let t=h.useContext(tf);return t||de(!1),t}function J2(e){let t=h.useContext(Pw);return t||de(!1),t}function H2(e){let t=h.useContext(Rs);return t||de(!1),t}function Mw(e){let t=H2(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function Ow(){var e;let t=h.useContext(Rw),n=J2(pd.UseRouteError),r=Mw(pd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function q2(){let{router:e}=W2(Iw.UseNavigateStable),t=Mw(pd.UseNavigateStable),n=h.useRef(!1);return _w(()=>{n.current=!0}),h.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,hd({fromRouteId:t},o)))},[e,t])}function K2(e){return U2(e.context)}function G2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:o,static:s=!1}=e;of()&&de(!1);let a=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Hi(r));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:m="default"}=r,g=h.useMemo(()=>{let p=Al(l,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:i}},[a,l,u,d,f,m,i]);return g==null?null:h.createElement(nf.Provider,{value:c},h.createElement(rf.Provider,{children:n,value:g}))}new Promise(()=>{});function Y2(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:h.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function Q2(e,t){return w2({basename:t==null?void 0:t.basename,future:md({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:WR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||X2(),routes:e,mapRouteProperties:Y2,window:t==null?void 0:t.window}).initialize()}function X2(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=md({},t,{errors:Z2(t.errors)})),t}function Z2(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new hv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const e5=h.createContext({isTransitioning:!1}),t5=h.createContext(new Map),n5="startTransition",zy=Pp[n5];function r5(e){zy?zy(e):e()}class i5{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function o5(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=h.useState(n.state),[s,a]=h.useState(),[c,l]=h.useState({isTransitioning:!1}),[u,d]=h.useState(),[f,m]=h.useState(),[g,p]=h.useState(),S=h.useRef(new Map),{v7_startTransition:v}=r||{},y=h.useCallback(T=>{v?r5(T):T()},[v]),k=h.useCallback((T,M)=>{let{deletedFetchers:R,unstable_viewTransitionOpts:I}=M;R.forEach(V=>S.current.delete(V)),T.fetchers.forEach((V,Q)=>{V.data!==void 0&&S.current.set(Q,V.data)}),!I||n.window==null||typeof n.window.document.startViewTransition!="function"?y(()=>o(T)):f&&u?(u.resolve(),f.skipTransition(),p({state:T,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(T),l({isTransitioning:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,f,u,S,y]);h.useLayoutEffect(()=>n.subscribe(k),[n,k]),h.useEffect(()=>{c.isTransitioning&&d(new i5)},[c.isTransitioning]),h.useEffect(()=>{if(u&&s&&n.window){let T=s,M=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>o(T)),await M});R.finished.finally(()=>{d(void 0),m(void 0),a(void 0),l({isTransitioning:!1})}),m(R)}},[y,s,u,n.window]),h.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),h.useEffect(()=>{!c.isTransitioning&&g&&(a(g.state),l({isTransitioning:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),p(void 0))},[c.isTransitioning,g]);let b=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,M,R)=>n.navigate(T,{state:M,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(T,M,R)=>n.navigate(T,{replace:!0,state:M,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),C=n.basename||"/",P=h.useMemo(()=>({router:n,navigator:b,static:!1,basename:C}),[n,b,C]);return h.createElement(h.Fragment,null,h.createElement(tf.Provider,{value:P},h.createElement(Pw.Provider,{value:i},h.createElement(t5.Provider,{value:S.current},h.createElement(e5.Provider,{value:c},h.createElement(G2,{basename:C,location:i.location,navigationType:i.historyAction,navigator:b},i.initialized?h.createElement(s5,{routes:n.routes,state:i}):t))))),null)}function s5(e){let{routes:t,state:n}=e;return F2(t,void 0,n)}var Vy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vy||(Vy={}));var Wy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wy||(Wy={}));var Aw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=h;function a5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c5=typeof Object.is=="function"?Object.is:a5,l5=Oa.useState,u5=Oa.useEffect,d5=Oa.useLayoutEffect,f5=Oa.useDebugValue;function h5(e,t){var n=t(),r=l5({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return d5(function(){i.value=n,i.getSnapshot=t,Gh(i)&&o({inst:i})},[e,n,t]),u5(function(){return Gh(i)&&o({inst:i}),e(function(){Gh(i)&&o({inst:i})})},[e]),f5(n),n}function Gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!c5(e,n)}catch{return!0}}function p5(e,t){return t()}var m5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p5:h5;Lw.useSyncExternalStore=Oa.useSyncExternalStore!==void 0?Oa.useSyncExternalStore:m5;Aw.exports=Lw;var g5=Aw.exports,Nw={exports:{}},Dw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=h,v5=g5;function y5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b5=typeof Object.is=="function"?Object.is:y5,S5=v5.useSyncExternalStore,k5=af.useRef,w5=af.useEffect,C5=af.useMemo,T5=af.useDebugValue;Dw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=k5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=C5(function(){function c(m){if(!l){if(l=!0,u=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return d=g}return d=m}if(g=d,b5(u,m))return g;var p=r(m);return i!==void 0&&i(g,p)?g:(u=m,d=p)}var l=!1,u,d,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,i]);var a=S5(e,o[0],o[1]);return w5(function(){s.hasValue=!0,s.value=a},[a]),T5(a),a};Nw.exports=Dw;var E5=Nw.exports;function x5(e){e()}let Uw=x5;const P5=e=>Uw=e,R5=()=>Uw,Jy=Symbol.for("react-redux-context"),Hy=typeof globalThis<"u"?globalThis:{};function _5(){var e;if(!h.createContext)return{};const t=(e=Hy[Jy])!=null?e:Hy[Jy]=new Map;let n=t.get(h.createContext);return n||(n=h.createContext(null),t.set(h.createContext,n)),n}const Oo=_5();function mv(e=Oo){return function(){return h.useContext(e)}}const Fw=mv(),I5=()=>{throw new Error("uSES not initialized!")};let Bw=I5;const M5=e=>{Bw=e},O5=(e,t)=>e===t;function A5(e=Oo){const t=e===Oo?Fw:mv(e);return function(r,i={}){const{equalityFn:o=O5,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:d,noopCheck:f}=t();h.useRef(!0);const m=h.useCallback({[r.name](p){return r(p)}}[r.name],[r,d,s]),g=Bw(l.addNestedSub,c.getState,u||c.getState,m,o);return h.useDebugValue(g),g}}const gv=A5();function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function De(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $w={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,vv=Ct?Symbol.for("react.element"):60103,yv=Ct?Symbol.for("react.portal"):60106,cf=Ct?Symbol.for("react.fragment"):60107,lf=Ct?Symbol.for("react.strict_mode"):60108,uf=Ct?Symbol.for("react.profiler"):60114,df=Ct?Symbol.for("react.provider"):60109,ff=Ct?Symbol.for("react.context"):60110,bv=Ct?Symbol.for("react.async_mode"):60111,hf=Ct?Symbol.for("react.concurrent_mode"):60111,pf=Ct?Symbol.for("react.forward_ref"):60112,mf=Ct?Symbol.for("react.suspense"):60113,L5=Ct?Symbol.for("react.suspense_list"):60120,gf=Ct?Symbol.for("react.memo"):60115,vf=Ct?Symbol.for("react.lazy"):60116,N5=Ct?Symbol.for("react.block"):60121,D5=Ct?Symbol.for("react.fundamental"):60117,U5=Ct?Symbol.for("react.responder"):60118,F5=Ct?Symbol.for("react.scope"):60119;function Rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vv:switch(e=e.type,e){case bv:case hf:case cf:case uf:case lf:case mf:return e;default:switch(e=e&&e.$$typeof,e){case ff:case pf:case vf:case gf:case df:return e;default:return t}}case yv:return t}}}function jw(e){return Rn(e)===hf}Re.AsyncMode=bv;Re.ConcurrentMode=hf;Re.ContextConsumer=ff;Re.ContextProvider=df;Re.Element=vv;Re.ForwardRef=pf;Re.Fragment=cf;Re.Lazy=vf;Re.Memo=gf;Re.Portal=yv;Re.Profiler=uf;Re.StrictMode=lf;Re.Suspense=mf;Re.isAsyncMode=function(e){return jw(e)||Rn(e)===bv};Re.isConcurrentMode=jw;Re.isContextConsumer=function(e){return Rn(e)===ff};Re.isContextProvider=function(e){return Rn(e)===df};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vv};Re.isForwardRef=function(e){return Rn(e)===pf};Re.isFragment=function(e){return Rn(e)===cf};Re.isLazy=function(e){return Rn(e)===vf};Re.isMemo=function(e){return Rn(e)===gf};Re.isPortal=function(e){return Rn(e)===yv};Re.isProfiler=function(e){return Rn(e)===uf};Re.isStrictMode=function(e){return Rn(e)===lf};Re.isSuspense=function(e){return Rn(e)===mf};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cf||e===hf||e===uf||e===lf||e===mf||e===L5||typeof e=="object"&&e!==null&&(e.$$typeof===vf||e.$$typeof===gf||e.$$typeof===df||e.$$typeof===ff||e.$$typeof===pf||e.$$typeof===D5||e.$$typeof===U5||e.$$typeof===F5||e.$$typeof===N5)};Re.typeOf=Rn;$w.exports=Re;var B5=$w.exports,zw=B5,$5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vw={};Vw[zw.ForwardRef]=$5;Vw[zw.Memo]=j5;var Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=Symbol.for("react.element"),kv=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),kf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),z5=Symbol.for("react.server_context"),Cf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),V5=Symbol.for("react.offscreen"),Ww;Ww=Symbol.for("react.module.reference");function Wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sv:switch(e=e.type,e){case yf:case Sf:case bf:case Tf:case Ef:return e;default:switch(e=e&&e.$$typeof,e){case z5:case wf:case Cf:case Pf:case xf:case kf:return e;default:return t}}case kv:return t}}}Me.ContextConsumer=wf;Me.ContextProvider=kf;Me.Element=Sv;Me.ForwardRef=Cf;Me.Fragment=yf;Me.Lazy=Pf;Me.Memo=xf;Me.Portal=kv;Me.Profiler=Sf;Me.StrictMode=bf;Me.Suspense=Tf;Me.SuspenseList=Ef;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return Wn(e)===wf};Me.isContextProvider=function(e){return Wn(e)===kf};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sv};Me.isForwardRef=function(e){return Wn(e)===Cf};Me.isFragment=function(e){return Wn(e)===yf};Me.isLazy=function(e){return Wn(e)===Pf};Me.isMemo=function(e){return Wn(e)===xf};Me.isPortal=function(e){return Wn(e)===kv};Me.isProfiler=function(e){return Wn(e)===Sf};Me.isStrictMode=function(e){return Wn(e)===bf};Me.isSuspense=function(e){return Wn(e)===Tf};Me.isSuspenseList=function(e){return Wn(e)===Ef};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yf||e===Sf||e===bf||e===Tf||e===Ef||e===V5||typeof e=="object"&&e!==null&&(e.$$typeof===Pf||e.$$typeof===xf||e.$$typeof===kf||e.$$typeof===wf||e.$$typeof===Cf||e.$$typeof===Ww||e.getModuleId!==void 0)};Me.typeOf=Wn;function W5(){const e=R5();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const qy={notify(){},get:()=>[]};function J5(e,t){let n,r=qy,i=0,o=!1;function s(p){u();const S=r.subscribe(p);let v=!1;return()=>{v||(v=!0,S(),d())}}function a(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function l(){return o}function u(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=W5())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qy)}function f(){o||(o=!0,u())}function m(){o&&(o=!1,d())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return g}const H5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q5=H5?h.useLayoutEffect:h.useEffect;function K5({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=h.useMemo(()=>{const l=J5(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=h.useMemo(()=>e.getState(),[e]);q5(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const c=t||Oo;return h.createElement(c.Provider,{value:s},n)}function Jw(e=Oo){const t=e===Oo?Fw:mv(e);return function(){const{store:r}=t();return r}}const G5=Jw();function Y5(e=Oo){const t=e===Oo?G5:Jw(e);return function(){return t().dispatch}}const Hw=Y5();M5(E5.useSyncExternalStoreWithSelector);P5(gw.unstable_batchedUpdates);const Q5={black:"#000",white:"#fff"},ul=Q5,X5={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ds=X5,Z5={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Us=Z5,e_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fs=e_,t_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Bs=t_,n_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},$s=n_,r_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hc=r_,i_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},o_=i_;function ci(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function qw(e){if(!ci(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=qw(e[n])}),t}function vr(e,t,n={clone:!0}){const r=n.clone?N({},e):e;return ci(e)&&ci(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(ci(t[i])&&i in e&&ci(e[i])?r[i]=vr(e[i],t[i],n):n.clone?r[i]=ci(t[i])?qw(t[i]):t[i]:r[i]=t[i])}),r}function Aa(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Ne(e){if(typeof e!="string")throw new Error(Aa(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Kw(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Gw(e){return e&&e.ownerDocument||document}function Yw(e){return Gw(e).defaultView||window}function s_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const a_=typeof window<"u"?h.useLayoutEffect:h.useEffect,Qw=a_;function as(e){const t=h.useRef(e);return Qw(()=>{t.current=e}),h.useRef((...n)=>(0,t.current)(...n)).current}function Em(...e){return h.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{s_(n,t)})},e)}let Rf=!0,xm=!1,Ky;const c_={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l_(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&c_[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function u_(e){e.metaKey||e.altKey||e.ctrlKey||(Rf=!0)}function Yh(){Rf=!1}function d_(){this.visibilityState==="hidden"&&xm&&(Rf=!0)}function f_(e){e.addEventListener("keydown",u_,!0),e.addEventListener("mousedown",Yh,!0),e.addEventListener("pointerdown",Yh,!0),e.addEventListener("touchstart",Yh,!0),e.addEventListener("visibilitychange",d_,!0)}function h_(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Rf||l_(t)}function p_(){const e=h.useCallback(i=>{i!=null&&f_(i.ownerDocument)},[]),t=h.useRef(!1);function n(){return t.current?(xm=!0,window.clearTimeout(Ky),Ky=window.setTimeout(()=>{xm=!1},100),t.current=!1,!0):!1}function r(i){return h_(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}let js;function Xw(){if(js)return js;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),js="reverse",e.scrollLeft>0?js="default":(e.scrollLeft=1,e.scrollLeft===0&&(js="negative")),document.body.removeChild(e),js}function m_(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(Xw()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function wv(e,t){const n=N({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=N({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=N({},o),Object.keys(i).forEach(s=>{n[r][s]=wv(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function _n(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const Gy=e=>e,g_=()=>{let e=Gy;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Gy}}},v_=g_(),Zw=v_,y_={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ln(e,t,n="Mui"){const r=y_[t];return r?`${n}-${r}`:`${Zw.generate(e)}-${t}`}function un(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=ln(e,i,n)}),r}const _f="$$material";function eC(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var b_=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,S_=eC(function(e){return b_.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function k_(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function w_(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var C_=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(w_(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=k_(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),At="-ms-",gd="-moz-",we="-webkit-",tC="comm",Cv="rule",Tv="decl",T_="@import",nC="@keyframes",E_="@layer",x_=Math.abs,If=String.fromCharCode,P_=Object.assign;function R_(e,t){return xt(e,0)^45?(((t<<2^xt(e,0))<<2^xt(e,1))<<2^xt(e,2))<<2^xt(e,3):0}function rC(e){return e.trim()}function __(e,t){return(e=t.exec(e))?e[0]:e}function Ce(e,t,n){return e.replace(t,n)}function Pm(e,t){return e.indexOf(t)}function xt(e,t){return e.charCodeAt(t)|0}function dl(e,t,n){return e.slice(t,n)}function xr(e){return e.length}function Ev(e){return e.length}function au(e,t){return t.push(e),e}function I_(e,t){return e.map(t).join("")}var Mf=1,La=1,iC=0,cn=0,ut=0,Ha="";function Of(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Mf,column:La,length:s,return:""}}function pc(e,t){return P_(Of("",null,null,"",null,null,0),e,{length:-e.length},t)}function M_(){return ut}function O_(){return ut=cn>0?xt(Ha,--cn):0,La--,ut===10&&(La=1,Mf--),ut}function Sn(){return ut=cn<iC?xt(Ha,cn++):0,La++,ut===10&&(La=1,Mf++),ut}function Yr(){return xt(Ha,cn)}function Pu(){return cn}function Nl(e,t){return dl(Ha,e,t)}function fl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oC(e){return Mf=La=1,iC=xr(Ha=e),cn=0,[]}function sC(e){return Ha="",e}function Ru(e){return rC(Nl(cn-1,Rm(e===91?e+2:e===40?e+1:e)))}function A_(e){for(;(ut=Yr())&&ut<33;)Sn();return fl(e)>2||fl(ut)>3?"":" "}function L_(e,t){for(;--t&&Sn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return Nl(e,Pu()+(t<6&&Yr()==32&&Sn()==32))}function Rm(e){for(;Sn();)switch(ut){case e:return cn;case 34:case 39:e!==34&&e!==39&&Rm(ut);break;case 40:e===41&&Rm(e);break;case 92:Sn();break}return cn}function N_(e,t){for(;Sn()&&e+ut!==47+10;)if(e+ut===42+42&&Yr()===47)break;return"/*"+Nl(t,cn-1)+"*"+If(e===47?e:Sn())}function D_(e){for(;!fl(Yr());)Sn();return Nl(e,cn)}function U_(e){return sC(_u("",null,null,null,[""],e=oC(e),0,[0],e))}function _u(e,t,n,r,i,o,s,a,c){for(var l=0,u=0,d=s,f=0,m=0,g=0,p=1,S=1,v=1,y=0,k="",b=i,C=o,P=r,T=k;S;)switch(g=y,y=Sn()){case 40:if(g!=108&&xt(T,d-1)==58){Pm(T+=Ce(Ru(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=Ru(y);break;case 9:case 10:case 13:case 32:T+=A_(g);break;case 92:T+=L_(Pu()-1,7);continue;case 47:switch(Yr()){case 42:case 47:au(F_(N_(Sn(),Pu()),t,n),c);break;default:T+="/"}break;case 123*p:a[l++]=xr(T)*v;case 125*p:case 59:case 0:switch(y){case 0:case 125:S=0;case 59+u:v==-1&&(T=Ce(T,/\f/g,"")),m>0&&xr(T)-d&&au(m>32?Qy(T+";",r,n,d-1):Qy(Ce(T," ","")+";",r,n,d-2),c);break;case 59:T+=";";default:if(au(P=Yy(T,t,n,l,u,i,a,k,b=[],C=[],d),o),y===123)if(u===0)_u(T,t,P,P,b,o,d,a,C);else switch(f===99&&xt(T,3)===110?100:f){case 100:case 108:case 109:case 115:_u(e,P,P,r&&au(Yy(e,P,P,0,0,i,a,k,i,b=[],d),C),i,C,d,a,r?b:C);break;default:_u(T,P,P,P,[""],C,0,a,C)}}l=u=m=0,p=v=1,k=T="",d=s;break;case 58:d=1+xr(T),m=g;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&O_()==125)continue}switch(T+=If(y),y*p){case 38:v=u>0?1:(T+="\f",-1);break;case 44:a[l++]=(xr(T)-1)*v,v=1;break;case 64:Yr()===45&&(T+=Ru(Sn())),f=Yr(),u=d=xr(k=T+=D_(Pu())),y++;break;case 45:g===45&&xr(T)==2&&(p=0)}}return o}function Yy(e,t,n,r,i,o,s,a,c,l,u){for(var d=i-1,f=i===0?o:[""],m=Ev(f),g=0,p=0,S=0;g<r;++g)for(var v=0,y=dl(e,d+1,d=x_(p=s[g])),k=e;v<m;++v)(k=rC(p>0?f[v]+" "+y:Ce(y,/&\f/g,f[v])))&&(c[S++]=k);return Of(e,t,n,i===0?Cv:a,c,l,u)}function F_(e,t,n){return Of(e,t,n,tC,If(M_()),dl(e,2,-2),0)}function Qy(e,t,n,r){return Of(e,t,n,Tv,dl(e,0,r),dl(e,r+1,-1),r)}function fa(e,t){for(var n="",r=Ev(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function B_(e,t,n,r){switch(e.type){case E_:if(e.children.length)break;case T_:case Tv:return e.return=e.return||e.value;case tC:return"";case nC:return e.return=e.value+"{"+fa(e.children,r)+"}";case Cv:e.value=e.props.join(",")}return xr(n=fa(e.children,r))?e.return=e.value+"{"+n+"}":""}function $_(e){var t=Ev(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function j_(e){return function(t){t.root||(t=t.return)&&e(t)}}var z_=function(t,n,r){for(var i=0,o=0;i=o,o=Yr(),i===38&&o===12&&(n[r]=1),!fl(o);)Sn();return Nl(t,cn)},V_=function(t,n){var r=-1,i=44;do switch(fl(i)){case 0:i===38&&Yr()===12&&(n[r]=1),t[r]+=z_(cn-1,n,r);break;case 2:t[r]+=Ru(i);break;case 4:if(i===44){t[++r]=Yr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=If(i)}while(i=Sn());return t},W_=function(t,n){return sC(V_(oC(t),n))},Xy=new WeakMap,J_=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Xy.get(r))&&!i){Xy.set(t,!0);for(var o=[],s=W_(n,o),a=r.props,c=0,l=0;c<s.length;c++)for(var u=0;u<a.length;u++,l++)t.props[l]=o[c]?s[c].replace(/&\f/g,a[u]):a[u]+" "+s[c]}}},H_=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function aC(e,t){switch(R_(e,t)){case 5103:return we+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return we+e+gd+e+At+e+e;case 6828:case 4268:return we+e+At+e+e;case 6165:return we+e+At+"flex-"+e+e;case 5187:return we+e+Ce(e,/(\w+).+(:[^]+)/,we+"box-$1$2"+At+"flex-$1$2")+e;case 5443:return we+e+At+"flex-item-"+Ce(e,/flex-|-self/,"")+e;case 4675:return we+e+At+"flex-line-pack"+Ce(e,/align-content|flex-|-self/,"")+e;case 5548:return we+e+At+Ce(e,"shrink","negative")+e;case 5292:return we+e+At+Ce(e,"basis","preferred-size")+e;case 6060:return we+"box-"+Ce(e,"-grow","")+we+e+At+Ce(e,"grow","positive")+e;case 4554:return we+Ce(e,/([^-])(transform)/g,"$1"+we+"$2")+e;case 6187:return Ce(Ce(Ce(e,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),e,"")+e;case 5495:case 3959:return Ce(e,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Ce(Ce(e,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+e+e;case 4095:case 3583:case 4068:case 2532:return Ce(e,/(.+)-inline(.+)/,we+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xr(e)-1-t>6)switch(xt(e,t+1)){case 109:if(xt(e,t+4)!==45)break;case 102:return Ce(e,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+gd+(xt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Pm(e,"stretch")?aC(Ce(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(xt(e,t+1)!==115)break;case 6444:switch(xt(e,xr(e)-3-(~Pm(e,"!important")&&10))){case 107:return Ce(e,":",":"+we)+e;case 101:return Ce(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(xt(e,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+At+"$2box$3")+e}break;case 5936:switch(xt(e,t+11)){case 114:return we+e+At+Ce(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return we+e+At+Ce(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return we+e+At+Ce(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return we+e+At+e+e}return e}var q_=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Tv:t.return=aC(t.value,t.length);break;case nC:return fa([pc(t,{value:Ce(t.value,"@","@"+we)})],i);case Cv:if(t.length)return I_(t.props,function(o){switch(__(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fa([pc(t,{props:[Ce(o,/:(read-\w+)/,":"+gd+"$1")]})],i);case"::placeholder":return fa([pc(t,{props:[Ce(o,/:(plac\w+)/,":"+we+"input-$1")]}),pc(t,{props:[Ce(o,/:(plac\w+)/,":"+gd+"$1")]}),pc(t,{props:[Ce(o,/:(plac\w+)/,At+"input-$1")]})],i)}return""})}},K_=[q_],G_=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var S=p.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||K_,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var S=p.getAttribute("data-emotion").split(" "),v=1;v<S.length;v++)o[S[v]]=!0;a.push(p)});var c,l=[J_,H_];{var u,d=[B_,j_(function(p){u.insert(p)})],f=$_(l.concat(i,d)),m=function(S){return fa(U_(S),f)};c=function(S,v,y,k){u=y,m(S?S+"{"+v.styles+"}":v.styles),k&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new C_({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return g.sheet.hydrate(a),g},Y_=!0;function Q_(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var cC=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Y_===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},X_=function(t,n,r){cC(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Z_(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var eI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tI=/[A-Z]|^ms/g,nI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lC=function(t){return t.charCodeAt(1)===45},Zy=function(t){return t!=null&&typeof t!="boolean"},Qh=eC(function(e){return lC(e)?e:e.replace(tI,"-$&").toLowerCase()}),eb=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(nI,function(r,i,o){return Pr={name:i,styles:o,next:Pr},i})}return eI[t]!==1&&!lC(t)&&typeof n=="number"&&n!==0?n+"px":n};function hl(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Pr={name:n.name,styles:n.styles,next:Pr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Pr={name:r.name,styles:r.styles,next:Pr},r=r.next;var i=n.styles+";";return i}return rI(e,t,n)}case"function":{if(e!==void 0){var o=Pr,s=n(e);return Pr=o,hl(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function rI(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hl(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":Zy(s)&&(r+=Qh(o)+":"+eb(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)Zy(s[a])&&(r+=Qh(o)+":"+eb(o,s[a])+";");else{var c=hl(e,t,s);switch(o){case"animation":case"animationName":{r+=Qh(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var tb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pr,uC=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Pr=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=hl(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=hl(r,n,t[a]),i&&(o+=s[a]);tb.lastIndex=0;for(var c="",l;(l=tb.exec(o))!==null;)c+="-"+l[1];var u=Z_(o)+c;return{name:u,styles:o,next:Pr}},iI=function(t){return t()},oI=Pp["useInsertionEffect"]?Pp["useInsertionEffect"]:!1,sI=oI||iI,dC=h.createContext(typeof HTMLElement<"u"?G_({key:"css"}):null);dC.Provider;var aI=function(t){return h.forwardRef(function(n,r){var i=h.useContext(dC);return t(n,i,r)})},fC=h.createContext({});function cI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uC(t)}var xv=function(){var t=cI.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lI=S_,uI=function(t){return t!=="theme"},nb=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?lI:uI},rb=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},dI=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return cC(n,r,i),sI(function(){return X_(n,r,i)}),null},fI=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=rb(t,n,r),c=a||nb(i),l=!c("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,m=1;m<f;m++)d.push(u[m],u[0][m])}var g=aI(function(p,S,v){var y=l&&p.as||i,k="",b=[],C=p;if(p.theme==null){C={};for(var P in p)C[P]=p[P];C.theme=h.useContext(fC)}typeof p.className=="string"?k=Q_(S.registered,b,p.className):p.className!=null&&(k=p.className+" ");var T=uC(d.concat(b),S.registered,C);k+=S.key+"-"+T.name,s!==void 0&&(k+=" "+s);var M=l&&a===void 0?nb(y):c,R={};for(var I in p)l&&I==="as"||M(I)&&(R[I]=p[I]);return R.className=k,R.ref=v,h.createElement(h.Fragment,null,h.createElement(dI,{cache:S,serialized:T,isStringTag:typeof y=="string"}),h.createElement(y,R))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(p,S){return e(p,N({},n,S,{shouldForwardProp:rb(g,S,!0)})).apply(void 0,d)},g}},hI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_m=fI.bind();hI.forEach(function(e){_m[e]=_m(e)});/**
 * @mui/styled-engine v5.14.18
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hC(e,t){return _m(e,t)}const pI=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},mI=["values","unit","step"],gI=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>N({},n,{[r.key]:r.val}),{})};function vI(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=De(e,mI),o=gI(t),s=Object.keys(o);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function c(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function l(f,m){const g=s.indexOf(m);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:m)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?l(f,s[s.indexOf(f)+1]):a(f)}function d(f){const m=s.indexOf(f);return m===0?a(s[1]):m===s.length-1?c(s[m]):l(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return N({keys:s,values:o,up:a,down:c,between:l,only:u,not:d,unit:n},i)}const yI={borderRadius:4},bI=yI;function $c(e,t){return t?vr(e,t,{clone:!1}):e}const Pv={xs:0,sm:600,md:900,lg:1200,xl:1536},ib={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Pv[e]}px)`};function zn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||ib;return t.reduce((s,a,c)=>(s[o.up(o.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const o=r.breakpoints||ib;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||Pv).indexOf(a)!==-1){const c=o.up(a);s[c]=n(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return n(t)}function SI(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function kI(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function wI(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Af({values:e,breakpoints:t,base:n}){const r=n||wI(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[o],o=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Lf(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function vd(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Lf(e,n)||r,t&&(i=t(i,r,e)),i}function Ee(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,l=Lf(c,r)||{};return zn(s,a,d=>{let f=vd(l,i,d);return d===f&&typeof d=="string"&&(f=vd(l,i,`${t}${d==="default"?"":Ne(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[t],o}function CI(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const TI={m:"margin",p:"padding"},EI={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ob={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xI=CI(e=>{if(e.length>2)if(ob[e])e=ob[e];else return[e];const[t,n]=e.split(""),r=TI[t],i=EI[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Rv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_v=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Rv,..._v];function Dl(e,t,n,r){var i;const o=(i=Lf(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function pC(e){return Dl(e,"spacing",8)}function Ul(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function PI(e,t){return n=>e.reduce((r,i)=>(r[i]=Ul(t,n),r),{})}function RI(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=xI(n),o=PI(i,r),s=e[n];return zn(e,s,o)}function mC(e,t){const n=pC(e.theme);return Object.keys(e).map(r=>RI(e,t,r,n)).reduce($c,{})}function Qe(e){return mC(e,Rv)}Qe.propTypes={};Qe.filterProps=Rv;function Xe(e){return mC(e,_v)}Xe.propTypes={};Xe.filterProps=_v;function _I(e=8){if(e.mui)return e;const t=pC({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Nf(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?$c(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ir(e){return typeof e!="number"?e:`${e}px solid`}const II=Ee({prop:"border",themeKey:"borders",transform:Ir}),MI=Ee({prop:"borderTop",themeKey:"borders",transform:Ir}),OI=Ee({prop:"borderRight",themeKey:"borders",transform:Ir}),AI=Ee({prop:"borderBottom",themeKey:"borders",transform:Ir}),LI=Ee({prop:"borderLeft",themeKey:"borders",transform:Ir}),NI=Ee({prop:"borderColor",themeKey:"palette"}),DI=Ee({prop:"borderTopColor",themeKey:"palette"}),UI=Ee({prop:"borderRightColor",themeKey:"palette"}),FI=Ee({prop:"borderBottomColor",themeKey:"palette"}),BI=Ee({prop:"borderLeftColor",themeKey:"palette"}),Df=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Dl(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ul(t,r)});return zn(e,e.borderRadius,n)}return null};Df.propTypes={};Df.filterProps=["borderRadius"];Nf(II,MI,OI,AI,LI,NI,DI,UI,FI,BI,Df);const Uf=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Dl(e.theme,"spacing",8),n=r=>({gap:Ul(t,r)});return zn(e,e.gap,n)}return null};Uf.propTypes={};Uf.filterProps=["gap"];const Ff=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Dl(e.theme,"spacing",8),n=r=>({columnGap:Ul(t,r)});return zn(e,e.columnGap,n)}return null};Ff.propTypes={};Ff.filterProps=["columnGap"];const Bf=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Dl(e.theme,"spacing",8),n=r=>({rowGap:Ul(t,r)});return zn(e,e.rowGap,n)}return null};Bf.propTypes={};Bf.filterProps=["rowGap"];const $I=Ee({prop:"gridColumn"}),jI=Ee({prop:"gridRow"}),zI=Ee({prop:"gridAutoFlow"}),VI=Ee({prop:"gridAutoColumns"}),WI=Ee({prop:"gridAutoRows"}),JI=Ee({prop:"gridTemplateColumns"}),HI=Ee({prop:"gridTemplateRows"}),qI=Ee({prop:"gridTemplateAreas"}),KI=Ee({prop:"gridArea"});Nf(Uf,Ff,Bf,$I,jI,zI,VI,WI,JI,HI,qI,KI);function ha(e,t){return t==="grey"?t:e}const GI=Ee({prop:"color",themeKey:"palette",transform:ha}),YI=Ee({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ha}),QI=Ee({prop:"backgroundColor",themeKey:"palette",transform:ha});Nf(GI,YI,QI);function gn(e){return e<=1&&e!==0?`${e*100}%`:e}const XI=Ee({prop:"width",transform:gn}),Iv=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Pv[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:gn(n)}};return zn(e,e.maxWidth,t)}return null};Iv.filterProps=["maxWidth"];const ZI=Ee({prop:"minWidth",transform:gn}),eM=Ee({prop:"height",transform:gn}),tM=Ee({prop:"maxHeight",transform:gn}),nM=Ee({prop:"minHeight",transform:gn});Ee({prop:"size",cssProperty:"width",transform:gn});Ee({prop:"size",cssProperty:"height",transform:gn});const rM=Ee({prop:"boxSizing"});Nf(XI,Iv,ZI,eM,tM,nM,rM);const iM={border:{themeKey:"borders",transform:Ir},borderTop:{themeKey:"borders",transform:Ir},borderRight:{themeKey:"borders",transform:Ir},borderBottom:{themeKey:"borders",transform:Ir},borderLeft:{themeKey:"borders",transform:Ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Df},color:{themeKey:"palette",transform:ha},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ha},backgroundColor:{themeKey:"palette",transform:ha},p:{style:Xe},pt:{style:Xe},pr:{style:Xe},pb:{style:Xe},pl:{style:Xe},px:{style:Xe},py:{style:Xe},padding:{style:Xe},paddingTop:{style:Xe},paddingRight:{style:Xe},paddingBottom:{style:Xe},paddingLeft:{style:Xe},paddingX:{style:Xe},paddingY:{style:Xe},paddingInline:{style:Xe},paddingInlineStart:{style:Xe},paddingInlineEnd:{style:Xe},paddingBlock:{style:Xe},paddingBlockStart:{style:Xe},paddingBlockEnd:{style:Xe},m:{style:Qe},mt:{style:Qe},mr:{style:Qe},mb:{style:Qe},ml:{style:Qe},mx:{style:Qe},my:{style:Qe},margin:{style:Qe},marginTop:{style:Qe},marginRight:{style:Qe},marginBottom:{style:Qe},marginLeft:{style:Qe},marginX:{style:Qe},marginY:{style:Qe},marginInline:{style:Qe},marginInlineStart:{style:Qe},marginInlineEnd:{style:Qe},marginBlock:{style:Qe},marginBlockStart:{style:Qe},marginBlockEnd:{style:Qe},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Uf},rowGap:{style:Bf},columnGap:{style:Ff},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gn},maxWidth:{style:Iv},minWidth:{transform:gn},height:{transform:gn},maxHeight:{transform:gn},minHeight:{transform:gn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},$f=iM;function oM(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function sM(e,t){return typeof e=="function"?e(t):e}function aM(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:l,transform:u,style:d}=a;if(r==null)return null;if(l==="typography"&&r==="inherit")return{[n]:r};const f=Lf(i,l)||{};return d?d(s):zn(s,r,g=>{let p=vd(f,u,g);return g===p&&typeof g=="string"&&(p=vd(f,u,`${n}${g==="default"?"":Ne(g)}`,g)),c===!1?p:{[c]:p}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:$f;function a(c){let l=c;if(typeof c=="function")l=c(o);else if(typeof c!="object")return c;if(!l)return null;const u=SI(o.breakpoints),d=Object.keys(u);let f=u;return Object.keys(l).forEach(m=>{const g=sM(l[m],o);if(g!=null)if(typeof g=="object")if(s[m])f=$c(f,e(m,g,o,s));else{const p=zn({theme:o},g,S=>({[m]:S}));oM(p,g)?f[m]=t({sx:g,theme:o}):f=$c(f,p)}else f=$c(f,e(m,g,o,s))}),kI(d,f)}return Array.isArray(i)?i.map(a):a(i)}return t}const gC=aM();gC.filterProps=["sx"];const jf=gC,cM=["breakpoints","palette","spacing","shape"];function Mv(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=De(e,cM),a=vI(n),c=_I(i);let l=vr({breakpoints:a,direction:"ltr",components:{},palette:N({mode:"light"},r),spacing:c,shape:N({},bI,o)},s);return l=t.reduce((u,d)=>vr(u,d),l),l.unstable_sxConfig=N({},$f,s==null?void 0:s.unstable_sxConfig),l.unstable_sx=function(d){return jf({sx:d,theme:this})},l}function lM(e){return Object.keys(e).length===0}function uM(e=null){const t=h.useContext(fC);return!t||lM(t)?e:t}const dM=Mv();function Ov(e=dM){return uM(e)}const fM=["sx"],hM=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:$f;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function Av(e){const{sx:t}=e,n=De(e,fM),{systemProps:r,otherProps:i}=hM(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return ci(a)?N({},r,a):r}:o=N({},r,t),N({},i,{sx:o})}function vC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=vC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Se(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=vC(e))&&(r&&(r+=" "),r+=t);return r}const pM=["className","component"];function mM(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=hC("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(jf);return h.forwardRef(function(c,l){const u=Ov(n),d=Av(c),{className:f,component:m="div"}=d,g=De(d,pM);return L.jsx(o,N({as:m,ref:l,className:Se(f,i?i(r):r),theme:t&&u[t]||u},g))})}const gM=["variant"];function sb(e){return e.length===0}function yC(e){const{variant:t}=e,n=De(e,gM);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=sb(r)?e[i]:Ne(e[i]):r+=`${sb(r)?i:Ne(i)}${Ne(e[i].toString())}`}),r}const vM=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function yM(e){return Object.keys(e).length===0}function bM(e){return typeof e=="string"&&e.charCodeAt(0)>96}const SM=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,yd=e=>{const t={};return e&&e.forEach(n=>{const r=yC(n.props);t[r]=n.style}),t},kM=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),yd(n)},bd=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[yC(o.props)])}),i},wM=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return bd(e,t,o)};function Iu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const CM=Mv(),TM=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Mu({defaultTheme:e,theme:t,themeId:n}){return yM(t)?e:t[n]||t}function EM(e){return e?(t,n)=>n[e]:null}const ab=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(N({},t,{theme:Mu(N({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=bd(t,yd(o),o);return[i,...s]}return i};function xM(e={}){const{themeId:t,defaultTheme:n=CM,rootShouldForwardProp:r=Iu,slotShouldForwardProp:i=Iu}=e,o=s=>jf(N({},s,{theme:Mu(N({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{pI(s,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:c,slot:l,skipVariantsResolver:u,skipSx:d,overridesResolver:f=EM(TM(l))}=a,m=De(a,vM),g=u!==void 0?u:l&&l!=="Root"&&l!=="root"||!1,p=d||!1;let S,v=Iu;l==="Root"||l==="root"?v=r:l?v=i:bM(s)&&(v=void 0);const y=hC(s,N({shouldForwardProp:v,label:S},m)),k=(b,...C)=>{const P=C?C.map(I=>{if(typeof I=="function"&&I.__emotion_real!==I)return V=>ab({styledArg:I,props:V,defaultTheme:n,themeId:t});if(ci(I)){let V=I,Q;return I&&I.variants&&(Q=I.variants,delete V.variants,V=te=>{let re=I;return bd(te,yd(Q),Q).forEach(he=>{re=vr(re,he)}),re}),V}return I}):[];let T=b;if(ci(b)){let I;b&&b.variants&&(I=b.variants,delete T.variants,T=V=>{let Q=b;return bd(V,yd(I),I).forEach(re=>{Q=vr(Q,re)}),Q})}else typeof b=="function"&&b.__emotion_real!==b&&(T=I=>ab({styledArg:b,props:I,defaultTheme:n,themeId:t}));c&&f&&P.push(I=>{const V=Mu(N({},I,{defaultTheme:n,themeId:t})),Q=SM(c,V);if(Q){const te={};return Object.entries(Q).forEach(([re,ie])=>{te[re]=typeof ie=="function"?ie(N({},I,{theme:V})):ie}),f(I,te)}return null}),c&&!g&&P.push(I=>{const V=Mu(N({},I,{defaultTheme:n,themeId:t}));return wM(I,kM(c,V),V,c)}),p||P.push(o);const M=P.length-C.length;if(Array.isArray(b)&&M>0){const I=new Array(M).fill("");T=[...b,...I],T.raw=[...b.raw,...I]}const R=y(T,...P);return s.muiName&&(R.muiName=s.muiName),R};return y.withConfig&&(k.withConfig=y.withConfig),k}}function PM(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:wv(t.components[n].defaultProps,r)}function RM({props:e,name:t,defaultTheme:n,themeId:r}){let i=Ov(n);return r&&(i=i[r]||i),PM({theme:i,name:t,props:e})}function Lv(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function _M(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ys(e){if(e.type)return e;if(e.charAt(0)==="#")return ys(_M(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Aa(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Aa(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function zf(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function IM(e){e=ys(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(l,u=(l+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),zf({type:a,values:c})}function cb(e){e=ys(e);let t=e.type==="hsl"||e.type==="hsla"?ys(IM(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function MM(e,t){const n=cb(e),r=cb(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ra(e,t){return e=ys(e),t=Lv(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,zf(e)}function OM(e,t){if(e=ys(e),t=Lv(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return zf(e)}function AM(e,t){if(e=ys(e),t=Lv(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return zf(e)}function LM(e,t){return N({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const NM=["mode","contrastThreshold","tonalOffset"],lb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ul.white,default:ul.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xh={text:{primary:ul.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ul.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ub(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=AM(e.main,i):t==="dark"&&(e.dark=OM(e.main,o)))}function DM(e="light"){return e==="dark"?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[700],light:Fs[400],dark:Fs[800]}}function UM(e="light"){return e==="dark"?{main:Us[200],light:Us[50],dark:Us[400]}:{main:Us[500],light:Us[300],dark:Us[700]}}function FM(e="light"){return e==="dark"?{main:Ds[500],light:Ds[300],dark:Ds[700]}:{main:Ds[700],light:Ds[400],dark:Ds[800]}}function BM(e="light"){return e==="dark"?{main:Bs[400],light:Bs[300],dark:Bs[700]}:{main:Bs[700],light:Bs[500],dark:Bs[900]}}function $M(e="light"){return e==="dark"?{main:$s[400],light:$s[300],dark:$s[700]}:{main:$s[800],light:$s[500],dark:$s[900]}}function jM(e="light"){return e==="dark"?{main:hc[400],light:hc[300],dark:hc[700]}:{main:"#ed6c02",light:hc[500],dark:hc[900]}}function zM(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=De(e,NM),o=e.primary||DM(t),s=e.secondary||UM(t),a=e.error||FM(t),c=e.info||BM(t),l=e.success||$M(t),u=e.warning||jM(t);function d(p){return MM(p,Xh.text.primary)>=n?Xh.text.primary:lb.text.primary}const f=({color:p,name:S,mainShade:v=500,lightShade:y=300,darkShade:k=700})=>{if(p=N({},p),!p.main&&p[v]&&(p.main=p[v]),!p.hasOwnProperty("main"))throw new Error(Aa(11,S?` (${S})`:"",v));if(typeof p.main!="string")throw new Error(Aa(12,S?` (${S})`:"",JSON.stringify(p.main)));return ub(p,"light",y,r),ub(p,"dark",k,r),p.contrastText||(p.contrastText=d(p.main)),p},m={dark:Xh,light:lb};return vr(N({common:N({},ul),mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:l,name:"success"}),grey:o_,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},m[t]),i)}const VM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function WM(e){return Math.round(e*1e5)/1e5}const db={textTransform:"uppercase"},fb='"Roboto", "Helvetica", "Arial", sans-serif';function JM(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=fb,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:u,pxToRem:d}=n,f=De(n,VM),m=i/14,g=d||(v=>`${v/l*m}rem`),p=(v,y,k,b,C)=>N({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:k},r===fb?{letterSpacing:`${WM(b/y)}em`}:{},C,u),S={h1:p(o,96,1.167,-1.5),h2:p(o,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(a,14,1.75,.4,db),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,db),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr(N({htmlFontSize:l,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c},S),f,{clone:!1})}const HM=.2,qM=.14,KM=.12;function Ve(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${HM})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${qM})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${KM})`].join(",")}const GM=["none",Ve(0,2,1,-1,0,1,1,0,0,1,3,0),Ve(0,3,1,-2,0,2,2,0,0,1,5,0),Ve(0,3,3,-2,0,3,4,0,0,1,8,0),Ve(0,2,4,-1,0,4,5,0,0,1,10,0),Ve(0,3,5,-1,0,5,8,0,0,1,14,0),Ve(0,3,5,-1,0,6,10,0,0,1,18,0),Ve(0,4,5,-2,0,7,10,1,0,2,16,1),Ve(0,5,5,-3,0,8,10,1,0,3,14,2),Ve(0,5,6,-3,0,9,12,1,0,3,16,2),Ve(0,6,6,-3,0,10,14,1,0,4,18,3),Ve(0,6,7,-4,0,11,15,1,0,4,20,3),Ve(0,7,8,-4,0,12,17,2,0,5,22,4),Ve(0,7,8,-4,0,13,19,2,0,5,24,4),Ve(0,7,9,-4,0,14,21,2,0,5,26,4),Ve(0,8,9,-5,0,15,22,2,0,6,28,5),Ve(0,8,10,-5,0,16,24,2,0,6,30,5),Ve(0,8,11,-5,0,17,26,2,0,6,32,5),Ve(0,9,11,-5,0,18,28,2,0,7,34,6),Ve(0,9,12,-6,0,19,29,2,0,7,36,6),Ve(0,10,13,-6,0,20,31,3,0,8,38,7),Ve(0,10,13,-6,0,21,33,3,0,8,40,7),Ve(0,10,14,-6,0,22,35,3,0,8,42,7),Ve(0,11,14,-7,0,23,36,3,0,9,44,8),Ve(0,11,15,-7,0,24,38,3,0,9,46,8)],YM=GM,QM=["duration","easing","delay"],XM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ZM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hb(e){return`${Math.round(e)}ms`}function eO(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function tO(e){const t=N({},XM,e.easing),n=N({},ZM,e.duration);return N({getAutoHeightDuration:eO,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0}=o;return De(o,QM),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof s=="string"?s:hb(s)} ${a} ${typeof c=="string"?c:hb(c)}`).join(",")}},e,{easing:t,duration:n})}const nO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rO=nO,iO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function bC(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=De(e,iO);if(e.vars)throw new Error(Aa(18));const a=zM(r),c=Mv(e);let l=vr(c,{mixins:LM(c.breakpoints,n),palette:a,shadows:YM.slice(),typography:JM(a,o),transitions:tO(i),zIndex:N({},rO)});return l=vr(l,s),l=t.reduce((u,d)=>vr(u,d),l),l.unstable_sxConfig=N({},$f,s==null?void 0:s.unstable_sxConfig),l.unstable_sx=function(d){return jf({sx:d,theme:this})},l}const oO=bC(),Nv=oO;function Dv(){const e=Ov(Nv);return e[_f]||e}function dn({props:e,name:t}){return RM({props:e,name:t,defaultTheme:Nv,themeId:_f})}const SC=e=>Iu(e)&&e!=="classes",sO=xM({themeId:_f,defaultTheme:Nv,rootShouldForwardProp:SC}),nt=sO,aO=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},pb=aO;function cO(e){return ln("MuiSvgIcon",e)}un("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const lO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],uO=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Ne(t)}`,`fontSize${Ne(n)}`]};return _n(i,cO,r)},dO=nt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ne(n.color)}`],t[`fontSize${Ne(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,c,l,u,d,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(c=a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem",large:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,35))||"2.1875rem"}[t.fontSize],color:(d=(f=(e.vars||e).palette)==null||(f=f[t.color])==null?void 0:f.main)!=null?d:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),kC=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,m=De(r,lO),g=h.isValidElement(i)&&i.type==="svg",p=N({},r,{color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g}),S={};u||(S.viewBox=f);const v=uO(p);return L.jsxs(dO,N({as:a,className:Se(v.root,o),focusable:"false",color:l,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},S,m,g&&i.props,{ownerState:p,children:[g?i.props.children:i,d?L.jsx("title",{children:d}):null]}))});kC.muiName="SvgIcon";const mb=kC;function Fl(e,t){function n(r,i){return L.jsx(mb,N({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=mb.muiName,h.memo(h.forwardRef(n))}var Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=Symbol.for("react.element"),Fv=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),fO=Symbol.for("react.server_context"),Kf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),hO=Symbol.for("react.offscreen"),wC;wC=Symbol.for("react.module.reference");function Jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Uv:switch(e=e.type,e){case Vf:case Jf:case Wf:case Gf:case Yf:return e;default:switch(e=e&&e.$$typeof,e){case fO:case qf:case Kf:case Xf:case Qf:case Hf:return e;default:return t}}case Fv:return t}}}Oe.ContextConsumer=qf;Oe.ContextProvider=Hf;Oe.Element=Uv;Oe.ForwardRef=Kf;Oe.Fragment=Vf;Oe.Lazy=Xf;Oe.Memo=Qf;Oe.Portal=Fv;Oe.Profiler=Jf;Oe.StrictMode=Wf;Oe.Suspense=Gf;Oe.SuspenseList=Yf;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(e){return Jn(e)===qf};Oe.isContextProvider=function(e){return Jn(e)===Hf};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uv};Oe.isForwardRef=function(e){return Jn(e)===Kf};Oe.isFragment=function(e){return Jn(e)===Vf};Oe.isLazy=function(e){return Jn(e)===Xf};Oe.isMemo=function(e){return Jn(e)===Qf};Oe.isPortal=function(e){return Jn(e)===Fv};Oe.isProfiler=function(e){return Jn(e)===Jf};Oe.isStrictMode=function(e){return Jn(e)===Wf};Oe.isSuspense=function(e){return Jn(e)===Gf};Oe.isSuspenseList=function(e){return Jn(e)===Yf};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vf||e===Jf||e===Wf||e===Gf||e===Yf||e===hO||typeof e=="object"&&e!==null&&(e.$$typeof===Xf||e.$$typeof===Qf||e.$$typeof===Hf||e.$$typeof===qf||e.$$typeof===Kf||e.$$typeof===wC||e.getModuleId!==void 0)};Oe.typeOf=Jn;function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Im(e,t)}function pO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Im(e,t)}const gb=ns.createContext(null);function mO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bv(e,t){var n=function(o){return t&&h.isValidElement(o)?t(o):o},r=Object.create(null);return e&&h.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function gO(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var l=r[c][s];a[r[c][s]]=n(l)}a[c]=n(c)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function cs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function vO(e,t){return Bv(e.children,function(n){return h.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:cs(n,"appear",e),enter:cs(n,"enter",e),exit:cs(n,"exit",e)})})}function yO(e,t,n){var r=Bv(e.children),i=gO(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(h.isValidElement(s)){var a=o in t,c=o in r,l=t[o],u=h.isValidElement(l)&&!l.props.in;c&&(!a||u)?i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:cs(s,"exit",e),enter:cs(s,"enter",e)}):!c&&a&&!u?i[o]=h.cloneElement(s,{in:!1}):c&&a&&h.isValidElement(l)&&(i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:l.props.in,exit:cs(s,"exit",e),enter:cs(s,"enter",e)}))}}),i}var bO=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},SO={component:"div",childFactory:function(t){return t}},$v=function(e){pO(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(mO(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,c=o.firstRender;return{children:c?vO(i,a):yO(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Bv(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var c=N({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=De(i,["component","childFactory"]),c=this.state.contextValue,l=bO(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ns.createElement(gb.Provider,{value:c},l):ns.createElement(gb.Provider,{value:c},ns.createElement(o,a,l))},t}(ns.Component);$v.propTypes={};$v.defaultProps=SO;const kO=$v;function wO(e){return ln("MuiPaper",e)}un("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const CO=["className","component","elevation","square","variant"],TO=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return _n(o,wO,i)},EO=nt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return N({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&N({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ra("#fff",pb(t.elevation))}, ${ra("#fff",pb(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),xO=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:c="elevation"}=r,l=De(r,CO),u=N({},r,{component:o,elevation:s,square:a,variant:c}),d=TO(u);return L.jsx(EO,N({as:o,ownerState:u,className:Se(d.root,i),ref:n},l))}),CC=xO;function PO(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:c,timeout:l}=e,[u,d]=h.useState(!1),f=Se(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=Se(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),h.useEffect(()=>{if(!a&&c!=null){const p=setTimeout(c,l);return()=>{clearTimeout(p)}}},[c,a,l]),L.jsx("span",{className:f,style:m,children:L.jsx("span",{className:g})})}const RO=un("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),An=RO,_O=["center","classes","className"];let Zf=e=>e,vb,yb,bb,Sb;const Mm=550,IO=80,MO=xv(vb||(vb=Zf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),OO=xv(yb||(yb=Zf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),AO=xv(bb||(bb=Zf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),LO=nt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),NO=nt(PO,{name:"MuiTouchRipple",slot:"Ripple"})(Sb||(Sb=Zf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),An.rippleVisible,MO,Mm,({theme:e})=>e.transitions.easing.easeInOut,An.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,An.child,An.childLeaving,OO,Mm,({theme:e})=>e.transitions.easing.easeInOut,An.childPulsate,AO,({theme:e})=>e.transitions.easing.easeInOut),DO=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=De(r,_O),[c,l]=h.useState([]),u=h.useRef(0),d=h.useRef(null);h.useEffect(()=>{d.current&&(d.current(),d.current=null)},[c]);const f=h.useRef(!1),m=h.useRef(0),g=h.useRef(null),p=h.useRef(null);h.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const S=h.useCallback(b=>{const{pulsate:C,rippleX:P,rippleY:T,rippleSize:M,cb:R}=b;l(I=>[...I,L.jsx(NO,{classes:{ripple:Se(o.ripple,An.ripple),rippleVisible:Se(o.rippleVisible,An.rippleVisible),ripplePulsate:Se(o.ripplePulsate,An.ripplePulsate),child:Se(o.child,An.child),childLeaving:Se(o.childLeaving,An.childLeaving),childPulsate:Se(o.childPulsate,An.childPulsate)},timeout:Mm,pulsate:C,rippleX:P,rippleY:T,rippleSize:M},u.current)]),u.current+=1,d.current=R},[o]),v=h.useCallback((b={},C={},P=()=>{})=>{const{pulsate:T=!1,center:M=i||C.pulsate,fakeElement:R=!1}=C;if((b==null?void 0:b.type)==="mousedown"&&f.current){f.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(f.current=!0);const I=R?null:p.current,V=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,te,re;if(M||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)Q=Math.round(V.width/2),te=Math.round(V.height/2);else{const{clientX:ie,clientY:he}=b.touches&&b.touches.length>0?b.touches[0]:b;Q=Math.round(ie-V.left),te=Math.round(he-V.top)}if(M)re=Math.sqrt((2*V.width**2+V.height**2)/3),re%2===0&&(re+=1);else{const ie=Math.max(Math.abs((I?I.clientWidth:0)-Q),Q)*2+2,he=Math.max(Math.abs((I?I.clientHeight:0)-te),te)*2+2;re=Math.sqrt(ie**2+he**2)}b!=null&&b.touches?g.current===null&&(g.current=()=>{S({pulsate:T,rippleX:Q,rippleY:te,rippleSize:re,cb:P})},m.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},IO)):S({pulsate:T,rippleX:Q,rippleY:te,rippleSize:re,cb:P})},[i,S]),y=h.useCallback(()=>{v({},{pulsate:!0})},[v]),k=h.useCallback((b,C)=>{if(clearTimeout(m.current),(b==null?void 0:b.type)==="touchend"&&g.current){g.current(),g.current=null,m.current=setTimeout(()=>{k(b,C)});return}g.current=null,l(P=>P.length>0?P.slice(1):P),d.current=C},[]);return h.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:k}),[y,v,k]),L.jsx(LO,N({className:Se(An.root,o.root,s),ref:p},a,{children:L.jsx(kO,{component:null,exit:!0,children:c})}))}),UO=DO;function FO(e){return ln("MuiButtonBase",e)}const BO=un("MuiButtonBase",["root","disabled","focusVisible"]),$O=BO,jO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],zO=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=_n({root:["root",t&&"disabled",n&&"focusVisible"]},FO,i);return n&&r&&(s.root+=` ${r}`),s},VO=nt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$O.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),WO=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:c="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:p,onContextMenu:S,onDragLeave:v,onFocus:y,onFocusVisible:k,onKeyDown:b,onKeyUp:C,onMouseDown:P,onMouseLeave:T,onMouseUp:M,onTouchEnd:R,onTouchMove:I,onTouchStart:V,tabIndex:Q=0,TouchRippleProps:te,touchRippleRef:re,type:ie}=r,he=De(r,jO),xe=h.useRef(null),j=h.useRef(null),q=Em(j,re),{isFocusVisibleRef:X,onFocus:ue,onBlur:Te,ref:It}=p_(),[Ue,Yt]=h.useState(!1);l&&Ue&&Yt(!1),h.useImperativeHandle(i,()=>({focusVisible:()=>{Yt(!0),xe.current.focus()}}),[]);const[rt,Kn]=h.useState(!1);h.useEffect(()=>{Kn(!0)},[]);const Is=rt&&!u&&!l;h.useEffect(()=>{Ue&&f&&!u&&rt&&j.current.pulsate()},[u,f,Ue,rt]);function ye(ae,Ko,ni=d){return as(ri=>(Ko&&Ko(ri),!ni&&j.current&&j.current[ae](ri),!0))}const kr=ye("start",P),Ms=ye("stop",S),Os=ye("stop",v),Gn=ye("stop",M),As=ye("stop",ae=>{Ue&&ae.preventDefault(),T&&T(ae)}),Qa=ye("start",V),Jo=ye("stop",R),fn=ye("stop",I),Yn=ye("stop",ae=>{Te(ae),X.current===!1&&Yt(!1),g&&g(ae)},!1),Ls=as(ae=>{xe.current||(xe.current=ae.currentTarget),ue(ae),X.current===!0&&(Yt(!0),k&&k(ae)),y&&y(ae)}),$t=()=>{const ae=xe.current;return c&&c!=="button"&&!(ae.tagName==="A"&&ae.href)},wr=h.useRef(!1),Yi=as(ae=>{f&&!wr.current&&Ue&&j.current&&ae.key===" "&&(wr.current=!0,j.current.stop(ae,()=>{j.current.start(ae)})),ae.target===ae.currentTarget&&$t()&&ae.key===" "&&ae.preventDefault(),b&&b(ae),ae.target===ae.currentTarget&&$t()&&ae.key==="Enter"&&!l&&(ae.preventDefault(),p&&p(ae))}),Cr=as(ae=>{f&&ae.key===" "&&j.current&&Ue&&!ae.defaultPrevented&&(wr.current=!1,j.current.stop(ae,()=>{j.current.pulsate(ae)})),C&&C(ae),p&&ae.target===ae.currentTarget&&$t()&&ae.key===" "&&!ae.defaultPrevented&&p(ae)});let Qn=c;Qn==="button"&&(he.href||he.to)&&(Qn=m);const ti={};Qn==="button"?(ti.type=ie===void 0?"button":ie,ti.disabled=l):(!he.href&&!he.to&&(ti.role="button"),l&&(ti["aria-disabled"]=l));const In=Em(n,It,xe),Ho=N({},r,{centerRipple:o,component:c,disabled:l,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:Q,focusVisible:Ue}),qo=zO(Ho);return L.jsxs(VO,N({as:Qn,className:Se(qo.root,a),ownerState:Ho,onBlur:Yn,onClick:p,onContextMenu:Ms,onFocus:Ls,onKeyDown:Yi,onKeyUp:Cr,onMouseDown:kr,onMouseLeave:As,onMouseUp:Gn,onDragLeave:Os,onTouchEnd:Jo,onTouchMove:fn,onTouchStart:Qa,ref:In,tabIndex:l?-1:Q,type:ie},ti,he,{children:[s,Is?L.jsx(UO,N({ref:q,center:o},te)):null]}))}),eh=WO;function JO(e){return ln("MuiTypography",e)}un("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const HO=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qO=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${Ne(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return _n(a,JO,s)},KO=nt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ne(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>N({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),kb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},GO={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},YO=e=>GO[e]||e,QO=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiTypography"}),i=YO(r.color),o=Av(N({},r,{color:i})),{align:s="inherit",className:a,component:c,gutterBottom:l=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:m=kb}=o,g=De(o,HO),p=N({},o,{align:s,color:i,className:a,component:c,gutterBottom:l,noWrap:u,paragraph:d,variant:f,variantMapping:m}),S=c||(d?"p":m[f]||kb[f])||"span",v=qO(p);return L.jsx(KO,N({as:S,ref:n,ownerState:p,className:Se(v.root,a)},g))}),Na=QO;function XO(e){return ln("MuiAppBar",e)}un("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const ZO=["className","color","enableColorOnDark","position"],eA=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${Ne(t)}`,`position${Ne(n)}`]};return _n(i,XO,r)},cu=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,tA=nt(CC,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ne(n.position)}`],t[`color${Ne(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return N({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&N({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&N({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&N({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:cu(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:cu(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:cu(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:cu(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),nA=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,c=De(r,ZO),l=N({},r,{color:o,position:a,enableColorOnDark:s}),u=eA(l);return L.jsx(tA,N({square:!0,component:"header",ownerState:l,elevation:4,className:Se(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},c))}),rA=nA;function iA(e){return typeof e=="string"}function oA(e,t,n){return e===void 0||iA(e)?t:N({},t,{ownerState:N({},t.ownerState,n)})}function sA(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function aA(e,t,n){return typeof e=="function"?e(t,n):e}function wb(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function cA(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const m=Se(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=N({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=N({},n,i,r);return m.length>0&&(p.className=m),Object.keys(g).length>0&&(p.style=g),{props:p,internalRef:void 0}}const s=sA(N({},i,r)),a=wb(r),c=wb(i),l=t(s),u=Se(l==null?void 0:l.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=N({},l==null?void 0:l.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=N({},l,n,c,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:l.ref}}const lA=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Sd(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=De(e,lA),a=o?{}:aA(r,i),{props:c,internalRef:l}=cA(N({},s,{externalSlotProps:a})),u=Em(l,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return oA(n,N({},c,{ref:u}),i)}const Om=Math.min,pa=Math.max,kd=Math.round,Ao=e=>({x:e,y:e}),uA={left:"right",right:"left",bottom:"top",top:"bottom"},dA={start:"end",end:"start"};function Cb(e,t,n){return pa(e,Om(t,n))}function th(e,t){return typeof e=="function"?e(t):e}function bs(e){return e.split("-")[0]}function nh(e){return e.split("-")[1]}function TC(e){return e==="x"?"y":"x"}function EC(e){return e==="y"?"height":"width"}function rh(e){return["top","bottom"].includes(bs(e))?"y":"x"}function xC(e){return TC(rh(e))}function fA(e,t,n){n===void 0&&(n=!1);const r=nh(e),i=xC(e),o=EC(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=wd(s)),[s,wd(s)]}function hA(e){const t=wd(e);return[Am(e),t,Am(t)]}function Am(e){return e.replace(/start|end/g,t=>dA[t])}function pA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function mA(e,t,n,r){const i=nh(e);let o=pA(bs(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Am)))),o}function wd(e){return e.replace(/left|right|bottom|top/g,t=>uA[t])}function gA(e){return{top:0,right:0,bottom:0,left:0,...e}}function vA(e){return typeof e!="number"?gA(e):{top:e,right:e,bottom:e,left:e}}function Cd(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Tb(e,t,n){let{reference:r,floating:i}=e;const o=rh(t),s=xC(t),a=EC(s),c=bs(t),l=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(c){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(nh(t)){case"start":m[s]-=f*(n&&l?-1:1);break;case"end":m[s]+=f*(n&&l?-1:1);break}return m}const yA=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Tb(l,r,c),f=r,m={},g=0;for(let p=0;p<a.length;p++){const{name:S,fn:v}=a[p],{x:y,y:k,data:b,reset:C}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:l,platform:s,elements:{reference:e,floating:t}});if(u=y??u,d=k??d,m={...m,[S]:{...m[S],...b}},C&&g<=50){g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:u,y:d}=Tb(l,f,c)),p=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function PC(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=th(t,e),g=vA(m),S=a[f?d==="floating"?"reference":"floating":d],v=Cd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},C=Cd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:k,strategy:c}):y);return{top:(v.top-C.top+g.top)/b.y,bottom:(C.bottom-v.bottom+g.bottom)/b.y,left:(v.left-C.left+g.left)/b.x,right:(C.right-v.right+g.right)/b.x}}const bA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...S}=th(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=bs(i),y=bs(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(l.floating)),b=f||(y||!p?[wd(a)]:hA(a));!f&&g!=="none"&&b.push(...mA(a,p,g,k));const C=[a,...b],P=await PC(t,S),T=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&T.push(P[v]),d){const Q=fA(i,s,k);T.push(P[Q[0]],P[Q[1]])}if(M=[...M,{placement:i,overflows:T}],!T.every(Q=>Q<=0)){var R,I;const Q=(((R=o.flip)==null?void 0:R.index)||0)+1,te=C[Q];if(te)return{data:{index:Q,overflows:M},reset:{placement:te}};let re=(I=M.filter(ie=>ie.overflows[0]<=0).sort((ie,he)=>ie.overflows[1]-he.overflows[1])[0])==null?void 0:I.placement;if(!re)switch(m){case"bestFit":{var V;const ie=(V=M.map(he=>[he.placement,he.overflows.filter(xe=>xe>0).reduce((xe,j)=>xe+j,0)]).sort((he,xe)=>he[1]-xe[1])[0])==null?void 0:V[0];ie&&(re=ie);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function SA(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=bs(n),a=nh(n),c=rh(n)==="y",l=["left","top"].includes(s)?-1:1,u=o&&c?-1:1,d=th(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),c?{x:m*u,y:f*l}:{x:f*l,y:m*u}}const kA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await SA(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},wA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:v,y}=S;return{x:v,y}}},...c}=th(e,t),l={x:n,y:r},u=await PC(t,c),d=rh(bs(i)),f=TC(d);let m=l[f],g=l[d];if(o){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=m+u[S],k=m-u[v];m=Cb(y,m,k)}if(s){const S=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=g+u[S],k=g-u[v];g=Cb(y,g,k)}const p=a.fn({...t,[f]:m,[d]:g});return{...p,data:{x:p.x-n,y:p.y-r}}}}};function Lo(e){return RC(e)?(e.nodeName||"").toLowerCase():"#document"}function kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(RC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RC(e){return e instanceof Node||e instanceof kn(e).Node}function Vi(e){return e instanceof Element||e instanceof kn(e).Element}function Xr(e){return e instanceof HTMLElement||e instanceof kn(e).HTMLElement}function Eb(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kn(e).ShadowRoot}function Bl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function CA(e){return["table","td","th"].includes(Lo(e))}function jv(e){const t=zv(),n=Vn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TA(e){let t=Da(e);for(;Xr(t)&&!ih(t);){if(jv(t))return t;t=Da(t)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ih(e){return["html","body","#document"].includes(Lo(e))}function Vn(e){return kn(e).getComputedStyle(e)}function oh(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Da(e){if(Lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Eb(e)&&e.host||jo(e);return Eb(t)?t.host:t}function _C(e){const t=Da(e);return ih(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&Bl(t)?t:_C(t)}function Lm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_C(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=kn(i);return o?t.concat(s,s.visualViewport||[],Bl(i)?i:[],s.frameElement&&n?Lm(s.frameElement):[]):t.concat(i,Lm(i,[],n))}function IC(e){const t=Vn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Xr(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=kd(n)!==o||kd(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function MC(e){return Vi(e)?e:e.contextElement}function ma(e){const t=MC(e);if(!Xr(t))return Ao(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=IC(t);let s=(o?kd(n.width):n.width)/r,a=(o?kd(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const EA=Ao(0);function OC(e){const t=kn(e);return!zv()||!t.visualViewport?EA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kn(e)?!1:t}function pl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=MC(e);let s=Ao(1);t&&(r?Vi(r)&&(s=ma(r)):s=ma(e));const a=xA(o,n,r)?OC(o):Ao(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=kn(o),m=r&&Vi(r)?kn(r):r;let g=f.frameElement;for(;g&&r&&m!==f;){const p=ma(g),S=g.getBoundingClientRect(),v=Vn(g),y=S.left+(g.clientLeft+parseFloat(v.paddingLeft))*p.x,k=S.top+(g.clientTop+parseFloat(v.paddingTop))*p.y;c*=p.x,l*=p.y,u*=p.x,d*=p.y,c+=y,l+=k,g=kn(g).frameElement}}return Cd({width:u,height:d,x:c,y:l})}function PA(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Xr(n),o=jo(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=Ao(1);const c=Ao(0);if((i||!i&&r!=="fixed")&&((Lo(n)!=="body"||Bl(o))&&(s=oh(n)),Xr(n))){const l=pl(n);a=ma(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function RA(e){return Array.from(e.getClientRects())}function AC(e){return pl(jo(e)).left+oh(e).scrollLeft}function _A(e){const t=jo(e),n=oh(e),r=e.ownerDocument.body,i=pa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=pa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+AC(e);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(s+=pa(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function IA(e,t){const n=kn(e),r=jo(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const l=zv();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function MA(e,t){const n=pl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Xr(e)?ma(e):Ao(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,l=r*o.y;return{width:s,height:a,x:c,y:l}}function xb(e,t,n){let r;if(t==="viewport")r=IA(e,n);else if(t==="document")r=_A(jo(e));else if(Vi(t))r=MA(t,n);else{const i=OC(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Cd(r)}function LC(e,t){const n=Da(e);return n===t||!Vi(n)||ih(n)?!1:Vn(n).position==="fixed"||LC(n,t)}function OA(e,t){const n=t.get(e);if(n)return n;let r=Lm(e,[],!1).filter(a=>Vi(a)&&Lo(a)!=="body"),i=null;const o=Vn(e).position==="fixed";let s=o?Da(e):e;for(;Vi(s)&&!ih(s);){const a=Vn(s),c=jv(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bl(s)&&!c&&LC(e,s))?r=r.filter(u=>u!==s):i=a,s=Da(s)}return t.set(e,r),r}function AA(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?OA(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,u)=>{const d=xb(t,u,i);return l.top=pa(d.top,l.top),l.right=Om(d.right,l.right),l.bottom=Om(d.bottom,l.bottom),l.left=pa(d.left,l.left),l},xb(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LA(e){return IC(e)}function NA(e,t,n){const r=Xr(t),i=jo(t),o=n==="fixed",s=pl(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ao(0);if(r||!r&&!o)if((Lo(t)!=="body"||Bl(i))&&(a=oh(t)),r){const l=pl(t,!0,o,t);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else i&&(c.x=AC(i));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Pb(e,t){return!Xr(e)||Vn(e).position==="fixed"?null:t?t(e):e.offsetParent}function NC(e,t){const n=kn(e);if(!Xr(e))return n;let r=Pb(e,t);for(;r&&CA(r)&&Vn(r).position==="static";)r=Pb(r,t);return r&&(Lo(r)==="html"||Lo(r)==="body"&&Vn(r).position==="static"&&!jv(r))?n:r||TA(e)||n}const DA=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||NC,o=this.getDimensions;return{reference:NA(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function UA(e){return Vn(e).direction==="rtl"}const FA={convertOffsetParentRelativeRectToViewportRelativeRect:PA,getDocumentElement:jo,getClippingRect:AA,getOffsetParent:NC,getElementRects:DA,getClientRects:RA,getDimensions:LA,getScale:ma,isElement:Vi,isRTL:UA},BA=(e,t,n)=>{const r=new Map,i={platform:FA,...n},o={...i.platform,_c:r};return yA(e,t,{...i,platform:o})};function $A(e){return ln("MuiBottomNavigation",e)}un("MuiBottomNavigation",["root"]);const jA=["children","className","component","onChange","showLabels","value"],zA=e=>{const{classes:t}=e;return _n({root:["root"]},$A,t)},VA=nt("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),WA=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiBottomNavigation"}),{children:i,className:o,component:s="div",onChange:a,showLabels:c=!1,value:l}=r,u=De(r,jA),d=N({},r,{component:s,showLabels:c}),f=zA(d);return L.jsx(VA,N({as:s,className:Se(f.root,o),ref:n,ownerState:d},u,{children:h.Children.map(i,(m,g)=>{if(!h.isValidElement(m))return null;const p=m.props.value===void 0?g:m.props.value;return h.cloneElement(m,{selected:p===l,showLabel:m.props.showLabel!==void 0?m.props.showLabel:c,value:p,onChange:a})})}))}),JA=WA;function HA(e){return ln("MuiBottomNavigationAction",e)}const qA=un("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),DC=qA,KA=["className","icon","label","onChange","onClick","selected","showLabel","value"],GA=e=>{const{classes:t,showLabel:n,selected:r}=e;return _n({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},HA,t)},YA=nt(eh,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})(({theme:e,ownerState:t})=>N({transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(e.vars||e).palette.text.secondary,flexDirection:"column",flex:"1"},!t.showLabel&&!t.selected&&{paddingTop:14},!t.showLabel&&!t.selected&&!t.label&&{paddingTop:0},{[`&.${DC.selected}`]:{color:(e.vars||e).palette.primary.main}})),QA=nt("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e,ownerState:t})=>N({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!t.showLabel&&!t.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${DC.selected}`]:{fontSize:e.typography.pxToRem(14)}})),XA=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiBottomNavigationAction"}),{className:i,icon:o,label:s,onChange:a,onClick:c,value:l}=r,u=De(r,KA),d=r,f=GA(d),m=g=>{a&&a(g,l),c&&c(g)};return L.jsxs(YA,N({ref:n,className:Se(f.root,i),focusRipple:!0,onClick:m,ownerState:d},u,{children:[o,L.jsx(QA,{className:f.label,ownerState:d,children:s})]}))}),Zh=XA,ZA=bC(),eL=mM({themeId:_f,defaultTheme:ZA,defaultClassName:"MuiBox-root",generateClassName:Zw.generate}),Vv=eL;function tL(e){return ln("MuiButton",e)}const nL=un("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),lu=nL,rL=h.createContext({}),iL=rL,oL=h.createContext(void 0),sL=oL,aL=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],cL=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${Ne(t)}`,`size${Ne(i)}`,`${o}Size${Ne(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ne(i)}`],endIcon:["endIcon",`iconSize${Ne(i)}`]},c=_n(a,tL,s);return N({},s,c)},UC=e=>N({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),lL=nt(eh,{shouldForwardProp:e=>SC(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ne(n.color)}`],t[`size${Ne(n.size)}`],t[`${n.variant}Size${Ne(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return N({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":N({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ra(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ra(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ra(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":N({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${lu.focusVisible}`]:N({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${lu.disabled}`]:N({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ra(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lu.disabled}`]:{boxShadow:"none"}}),uL=nt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ne(n.size)}`]]}})(({ownerState:e})=>N({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},UC(e))),dL=nt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ne(n.size)}`]]}})(({ownerState:e})=>N({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},UC(e))),fL=h.forwardRef(function(t,n){const r=h.useContext(iL),i=h.useContext(sL),o=wv(r,t),s=dn({props:o,name:"MuiButton"}),{children:a,color:c="primary",component:l="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:p,fullWidth:S=!1,size:v="medium",startIcon:y,type:k,variant:b="text"}=s,C=De(s,aL),P=N({},s,{color:c,component:l,disabled:d,disableElevation:f,disableFocusRipple:m,fullWidth:S,size:v,type:k,variant:b}),T=cL(P),M=y&&L.jsx(uL,{className:T.startIcon,ownerState:P,children:y}),R=g&&L.jsx(dL,{className:T.endIcon,ownerState:P,children:g}),I=i||"";return L.jsxs(lL,N({ownerState:P,className:Se(r.className,T.root,u,I),component:l,disabled:d,focusRipple:!m,focusVisibleClassName:Se(T.focusVisible,p),ref:n,type:k},C,{classes:T,children:[M,a,R]}))}),$l=fL,hL=h.createContext(),Rb=hL;function pL(e){return ln("MuiGrid",e)}const mL=[0,1,2,3,4,5,6,7,8,9,10],gL=["column-reverse","column","row-reverse","row"],vL=["nowrap","wrap-reverse","wrap"],mc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ml=un("MuiGrid",["root","container","item","zeroMinWidth",...mL.map(e=>`spacing-xs-${e}`),...gL.map(e=>`direction-xs-${e}`),...vL.map(e=>`wrap-xs-${e}`),...mc.map(e=>`grid-xs-${e}`),...mc.map(e=>`grid-sm-${e}`),...mc.map(e=>`grid-md-${e}`),...mc.map(e=>`grid-lg-${e}`),...mc.map(e=>`grid-xl-${e}`)]),yL=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ga(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function bL({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Af({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const c=`${Math.round(n/a*1e8)/1e6}%`;let l={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${c} + ${ga(u)})`;l={flexBasis:d,maxWidth:d}}}o=N({flexBasis:c,flexGrow:0,maxWidth:c},l)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function SL({theme:e,ownerState:t}){const n=Af({values:t.direction,breakpoints:e.breakpoints.values});return zn({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${ml.item}`]={maxWidth:"none"}),i})}function FC({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function kL({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=Af({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=FC({breakpoints:e.breakpoints.values,values:o})),i=zn({theme:e},o,(a,c)=>{var l;const u=e.spacing(a);return u!=="0px"?{marginTop:`-${ga(u)}`,[`& > .${ml.item}`]:{paddingTop:ga(u)}}:(l=s)!=null&&l.includes(c)?{}:{marginTop:0,[`& > .${ml.item}`]:{paddingTop:0}}})}return i}function wL({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=Af({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=FC({breakpoints:e.breakpoints.values,values:o})),i=zn({theme:e},o,(a,c)=>{var l;const u=e.spacing(a);return u!=="0px"?{width:`calc(100% + ${ga(u)})`,marginLeft:`-${ga(u)}`,[`& > .${ml.item}`]:{paddingLeft:ga(u)}}:(l=s)!=null&&l.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${ml.item}`]:{paddingLeft:0}}})}return i}function CL(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const TL=nt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:c,breakpoints:l}=n;let u=[];r&&(u=CL(s,l,t));const d=[];return l.forEach(f=>{const m=n[f];m&&d.push(t[`grid-${f}-${String(m)}`])}),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...d]}})(({ownerState:e})=>N({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),SL,kL,wL,bL);function EL(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const xL=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:c}=e;let l=[];n&&(l=EL(o,c));const u=[];c.forEach(f=>{const m=e[f];m&&u.push(`grid-${f}-${String(m)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...l,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return _n(d,pL,t)},PL=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiGrid"}),{breakpoints:i}=Dv(),o=Av(r),{className:s,columns:a,columnSpacing:c,component:l="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:p="wrap",zeroMinWidth:S=!1}=o,v=De(o,yL),y=m||g,k=c||g,b=h.useContext(Rb),C=u?a||12:b,P={},T=N({},v);i.keys.forEach(I=>{v[I]!=null&&(P[I]=v[I],delete T[I])});const M=N({},o,{columns:C,container:u,direction:d,item:f,rowSpacing:y,columnSpacing:k,wrap:p,zeroMinWidth:S,spacing:g},P,{breakpoints:i.keys}),R=xL(M);return L.jsx(Rb.Provider,{value:C,children:L.jsx(TL,N({ownerState:M,className:Se(R.root,s),as:l,ref:n},T))})}),ep=PL;function RL(e){return ln("MuiTab",e)}const _L=un("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Xo=_L,IL=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],ML=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:c}=e,l={root:["root",o&&s&&"labelIcon",`textColor${Ne(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return _n(l,RL,t)},OL=nt(eh,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ne(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>N({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Xo.iconWrapper}`]:N({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Xo.selected}`]:{opacity:1},[`&.${Xo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Xo.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Xo.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Xo.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Xo.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),AL=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:l="top",indicator:u,label:d,onChange:f,onClick:m,onFocus:g,selected:p,selectionFollowsFocus:S,textColor:v="inherit",value:y,wrapped:k=!1}=r,b=De(r,IL),C=N({},r,{disabled:o,disableFocusRipple:s,selected:p,icon:!!c,iconPosition:l,label:!!d,fullWidth:a,textColor:v,wrapped:k}),P=ML(C),T=c&&d&&h.isValidElement(c)?h.cloneElement(c,{className:Se(P.iconWrapper,c.props.className)}):c,M=I=>{!p&&f&&f(I,y),m&&m(I)},R=I=>{S&&!p&&f&&f(I,y),g&&g(I)};return L.jsxs(OL,N({focusRipple:!s,className:Se(P.root,i),ref:n,role:"tab","aria-selected":p,disabled:o,onClick:M,onFocus:R,ownerState:C,tabIndex:p?0:-1},b,{children:[l==="top"||l==="start"?L.jsxs(h.Fragment,{children:[T,d]}):L.jsxs(h.Fragment,{children:[d,T]}),u]}))}),_b=AL;function LL(e){return ln("MuiToolbar",e)}un("MuiToolbar",["root","gutters","regular","dense"]);const NL=["className","component","disableGutters","variant"],DL=e=>{const{classes:t,disableGutters:n,variant:r}=e;return _n({root:["root",!n&&"gutters",r]},LL,t)},UL=nt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>N({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),FL=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,c=De(r,NL),l=N({},r,{component:o,disableGutters:s,variant:a}),u=DL(l);return L.jsx(UL,N({as:o,className:Se(u.root,i),ref:n,ownerState:l},c))}),BL=FL,$L=Fl(L.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jL=Fl(L.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function zL(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function VL(e,t,n,r={},i=()=>{}){const{ease:o=zL,duration:s=300}=r;let a=null;const c=t[e];let l=!1;const u=()=>{l=!0},d=f=>{if(l){i(new Error("Animation cancelled"));return}a===null&&(a=f);const m=Math.min(1,(f-a)/s);if(t[e]=o(m)*(n-c)+c,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return c===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const WL=["onChange"],JL={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function HL(e){const{onChange:t}=e,n=De(e,WL),r=h.useRef(),i=h.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Qw(()=>{const s=Kw(()=>{const c=r.current;o(),c!==r.current&&t(r.current)}),a=Yw(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),h.useEffect(()=>{o(),t(r.current)},[t]),L.jsx("div",N({style:JL,ref:i},n))}function qL(e){return ln("MuiTabScrollButton",e)}const KL=un("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),GL=KL,YL=["className","slots","slotProps","direction","orientation","disabled"],QL=e=>{const{classes:t,orientation:n,disabled:r}=e;return _n({root:["root",n,r&&"disabled"]},qL,t)},XL=nt(eh,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>N({width:40,flexShrink:0,opacity:.8,[`&.${GL.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),ZL=h.forwardRef(function(t,n){var r,i;const o=dn({props:t,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:c={},direction:l}=o,u=De(o,YL),f=Dv().direction==="rtl",m=N({isRtl:f},o),g=QL(m),p=(r=a.StartScrollButtonIcon)!=null?r:$L,S=(i=a.EndScrollButtonIcon)!=null?i:jL,v=Sd({elementType:p,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),y=Sd({elementType:S,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return L.jsx(XL,N({component:"div",className:Se(g.root,s),ref:n,role:null,ownerState:m,tabIndex:null},u,{children:l==="left"?L.jsx(p,N({},v)):L.jsx(S,N({},y))}))}),eN=ZL;function tN(e){return ln("MuiTabs",e)}const nN=un("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tp=nN,rN=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ib=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Mb=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,uu=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},iN=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return _n({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},tN,c)},oN=nt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tp.scrollButtons}`]:t.scrollButtons},{[`& .${tp.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>N({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${tp.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),sN=nt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>N({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),aN=nt("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>N({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),cN=nt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>N({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),lN=nt(HL)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ob={},uN=h.forwardRef(function(t,n){const r=dn({props:t,name:"MuiTabs"}),i=Dv(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":a,action:c,centered:l=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:p,orientation:S="horizontal",ScrollButtonComponent:v=eN,scrollButtons:y="auto",selectionFollowsFocus:k,slots:b={},slotProps:C={},TabIndicatorProps:P={},TabScrollButtonProps:T={},textColor:M="primary",value:R,variant:I="standard",visibleScrollbar:V=!1}=r,Q=De(r,rN),te=I==="scrollable",re=S==="vertical",ie=re?"scrollTop":"scrollLeft",he=re?"top":"left",xe=re?"bottom":"right",j=re?"clientHeight":"clientWidth",q=re?"height":"width",X=N({},r,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:S,vertical:re,scrollButtons:y,textColor:M,variant:I,visibleScrollbar:V,fixed:!te,hideScrollbar:te&&!V,scrollableX:te&&!re,scrollableY:te&&re,centered:l&&!te,scrollButtonsHideMobile:!m}),ue=iN(X),Te=Sd({elementType:b.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:X}),It=Sd({elementType:b.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:X}),[Ue,Yt]=h.useState(!1),[rt,Kn]=h.useState(Ob),[Is,ye]=h.useState(!1),[kr,Ms]=h.useState(!1),[Os,Gn]=h.useState(!1),[As,Qa]=h.useState({overflow:"hidden",scrollbarWidth:0}),Jo=new Map,fn=h.useRef(null),Yn=h.useRef(null),Ls=()=>{const K=fn.current;let ne;if(K){const pe=K.getBoundingClientRect();ne={clientWidth:K.clientWidth,scrollLeft:K.scrollLeft,scrollTop:K.scrollTop,scrollLeftNormalized:m_(K,i.direction),scrollWidth:K.scrollWidth,top:pe.top,bottom:pe.bottom,left:pe.left,right:pe.right}}let ke;if(K&&R!==!1){const pe=Yn.current.children;if(pe.length>0){const Ye=pe[Jo.get(R)];ke=Ye?Ye.getBoundingClientRect():null}}return{tabsMeta:ne,tabMeta:ke}},$t=as(()=>{const{tabsMeta:K,tabMeta:ne}=Ls();let ke=0,pe;if(re)pe="top",ne&&K&&(ke=ne.top-K.top+K.scrollTop);else if(pe=o?"right":"left",ne&&K){const x=o?K.scrollLeftNormalized+K.clientWidth-K.scrollWidth:K.scrollLeft;ke=(o?-1:1)*(ne[pe]-K[pe]+x)}const Ye={[pe]:ke,[q]:ne?ne[q]:0};if(isNaN(rt[pe])||isNaN(rt[q]))Kn(Ye);else{const x=Math.abs(rt[pe]-Ye[pe]),O=Math.abs(rt[q]-Ye[q]);(x>=1||O>=1)&&Kn(Ye)}}),wr=(K,{animation:ne=!0}={})=>{ne?VL(ie,fn.current,K,{duration:i.transitions.duration.standard}):fn.current[ie]=K},Yi=K=>{let ne=fn.current[ie];re?ne+=K:(ne+=K*(o?-1:1),ne*=o&&Xw()==="reverse"?-1:1),wr(ne)},Cr=()=>{const K=fn.current[j];let ne=0;const ke=Array.from(Yn.current.children);for(let pe=0;pe<ke.length;pe+=1){const Ye=ke[pe];if(ne+Ye[j]>K){pe===0&&(ne=K);break}ne+=Ye[j]}return ne},Qn=()=>{Yi(-1*Cr())},ti=()=>{Yi(Cr())},In=h.useCallback(K=>{Qa({overflow:null,scrollbarWidth:K})},[]),Ho=()=>{const K={};K.scrollbarSizeListener=te?L.jsx(lN,{onChange:In,className:Se(ue.scrollableX,ue.hideScrollbar)}):null;const ke=te&&(y==="auto"&&(Is||kr)||y===!0);return K.scrollButtonStart=ke?L.jsx(v,N({slots:{StartScrollButtonIcon:b.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Te},orientation:S,direction:o?"right":"left",onClick:Qn,disabled:!Is},T,{className:Se(ue.scrollButtons,T.className)})):null,K.scrollButtonEnd=ke?L.jsx(v,N({slots:{EndScrollButtonIcon:b.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:It},orientation:S,direction:o?"left":"right",onClick:ti,disabled:!kr},T,{className:Se(ue.scrollButtons,T.className)})):null,K},qo=as(K=>{const{tabsMeta:ne,tabMeta:ke}=Ls();if(!(!ke||!ne)){if(ke[he]<ne[he]){const pe=ne[ie]+(ke[he]-ne[he]);wr(pe,{animation:K})}else if(ke[xe]>ne[xe]){const pe=ne[ie]+(ke[xe]-ne[xe]);wr(pe,{animation:K})}}}),ae=as(()=>{te&&y!==!1&&Gn(!Os)});h.useEffect(()=>{const K=Kw(()=>{fn.current&&$t()});let ne;const ke=x=>{x.forEach(O=>{O.removedNodes.forEach(D=>{var z;(z=ne)==null||z.unobserve(D)}),O.addedNodes.forEach(D=>{var z;(z=ne)==null||z.observe(D)})}),K(),ae()},pe=Yw(fn.current);pe.addEventListener("resize",K);let Ye;return typeof ResizeObserver<"u"&&(ne=new ResizeObserver(K),Array.from(Yn.current.children).forEach(x=>{ne.observe(x)})),typeof MutationObserver<"u"&&(Ye=new MutationObserver(ke),Ye.observe(Yn.current,{childList:!0})),()=>{var x,O;K.clear(),pe.removeEventListener("resize",K),(x=Ye)==null||x.disconnect(),(O=ne)==null||O.disconnect()}},[$t,ae]),h.useEffect(()=>{const K=Array.from(Yn.current.children),ne=K.length;if(typeof IntersectionObserver<"u"&&ne>0&&te&&y!==!1){const ke=K[0],pe=K[ne-1],Ye={root:fn.current,threshold:.99},x=Z=>{ye(!Z[0].isIntersecting)},O=new IntersectionObserver(x,Ye);O.observe(ke);const D=Z=>{Ms(!Z[0].isIntersecting)},z=new IntersectionObserver(D,Ye);return z.observe(pe),()=>{O.disconnect(),z.disconnect()}}},[te,y,Os,u==null?void 0:u.length]),h.useEffect(()=>{Yt(!0)},[]),h.useEffect(()=>{$t()}),h.useEffect(()=>{qo(Ob!==rt)},[qo,rt]),h.useImperativeHandle(c,()=>({updateIndicator:$t,updateScrollButtons:ae}),[$t,ae]);const Ko=L.jsx(cN,N({},P,{className:Se(ue.indicator,P.className),ownerState:X,style:N({},rt,P.style)}));let ni=0;const ri=h.Children.map(u,K=>{if(!h.isValidElement(K))return null;const ne=K.props.value===void 0?ni:K.props.value;Jo.set(ne,ni);const ke=ne===R;return ni+=1,h.cloneElement(K,N({fullWidth:I==="fullWidth",indicator:ke&&!Ue&&Ko,selected:ke,selectionFollowsFocus:k,onChange:p,textColor:M,value:ne},ni===1&&R===!1&&!K.props.tabIndex?{tabIndex:0}:{}))}),Xa=K=>{const ne=Yn.current,ke=Gw(ne).activeElement;if(ke.getAttribute("role")!=="tab")return;let Ye=S==="horizontal"?"ArrowLeft":"ArrowUp",x=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&o&&(Ye="ArrowRight",x="ArrowLeft"),K.key){case Ye:K.preventDefault(),uu(ne,ke,Mb);break;case x:K.preventDefault(),uu(ne,ke,Ib);break;case"Home":K.preventDefault(),uu(ne,null,Ib);break;case"End":K.preventDefault(),uu(ne,null,Mb);break}},Go=Ho();return L.jsxs(oN,N({className:Se(ue.root,d),ownerState:X,ref:n,as:f},Q,{children:[Go.scrollButtonStart,Go.scrollbarSizeListener,L.jsxs(sN,{className:ue.scroller,ownerState:X,style:{overflow:As.overflow,[re?`margin${o?"Left":"Right"}`:"marginBottom"]:V?void 0:-As.scrollbarWidth},ref:fn,children:[L.jsx(aN,{"aria-label":s,"aria-labelledby":a,"aria-orientation":S==="vertical"?"vertical":null,className:ue.flexContainer,ownerState:X,onKeyDown:Xa,ref:Yn,role:"tablist",children:ri}),Ue&&Ko]}),Go.scrollButtonEnd]}))}),dN=uN;function or(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function No(e){return!!e&&!!e[We]}function Wi(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===SN}(e)||Array.isArray(e)||!!e[Bb]||!!(!((t=e.constructor)===null||t===void 0)&&t[Bb])||Wv(e)||Jv(e))}function Ss(e,t,n){n===void 0&&(n=!1),qa(e)===0?(n?Object.keys:ya)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function qa(e){var t=e[We];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Wv(e)?2:Jv(e)?3:0}function va(e,t){return qa(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fN(e,t){return qa(e)===2?e.get(t):e[t]}function BC(e,t,n){var r=qa(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $C(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Wv(e){return yN&&e instanceof Map}function Jv(e){return bN&&e instanceof Set}function ts(e){return e.o||e.t}function Hv(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=zC(e);delete t[We];for(var n=ya(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function qv(e,t){return t===void 0&&(t=!1),Kv(e)||No(e)||!Wi(e)||(qa(e)>1&&(e.set=e.add=e.clear=e.delete=hN),Object.freeze(e),t&&Ss(e,function(n,r){return qv(r,!0)},!0)),e}function hN(){or(2)}function Kv(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Qr(e){var t=Fm[e];return t||or(18,e),t}function pN(e,t){Fm[e]||(Fm[e]=t)}function Nm(){return gl}function np(e,t){t&&(Qr("Patches"),e.u=[],e.s=[],e.v=t)}function Td(e){Dm(e),e.p.forEach(mN),e.p=null}function Dm(e){e===gl&&(gl=e.l)}function Ab(e){return gl={p:[],l:gl,h:e,m:!0,_:0}}function mN(e){var t=e[We];t.i===0||t.i===1?t.j():t.g=!0}function rp(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Qr("ES5").S(t,e,r),r?(n[We].P&&(Td(t),or(4)),Wi(e)&&(e=Ed(t,e),t.l||xd(t,e)),t.u&&Qr("Patches").M(n[We].t,e,t.u,t.s)):e=Ed(t,n,[]),Td(t),t.u&&t.v(t.u,t.s),e!==jC?e:void 0}function Ed(e,t,n){if(Kv(t))return t;var r=t[We];if(!r)return Ss(t,function(a,c){return Lb(e,r,t,a,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return xd(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Hv(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Ss(o,function(a,c){return Lb(e,r,i,a,c,n,s)}),xd(e,i,!1),n&&e.u&&Qr("Patches").N(r,n,e.u,e.s)}return r.o}function Lb(e,t,n,r,i,o,s){if(No(i)){var a=Ed(e,i,o&&t&&t.i!==3&&!va(t.R,r)?o.concat(r):void 0);if(BC(n,r,a),!No(a))return;e.m=!1}else s&&n.add(i);if(Wi(i)&&!Kv(i)){if(!e.h.D&&e._<1)return;Ed(e,i),t&&t.A.l||xd(e,i)}}function xd(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&qv(t,n)}function ip(e,t){var n=e[We];return(n?ts(n):e)[t]}function Nb(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function so(e){e.P||(e.P=!0,e.l&&so(e.l))}function op(e){e.o||(e.o=Hv(e.t))}function Um(e,t,n){var r=Wv(t)?Qr("MapSet").F(t,n):Jv(t)?Qr("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Nm(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=a,l=vl;s&&(c=[a],l=xc);var u=Proxy.revocable(c,l),d=u.revoke,f=u.proxy;return a.k=f,a.j=d,f}(t,n):Qr("ES5").J(t,n);return(n?n.A:Nm()).p.push(r),r}function gN(e){return No(e)||or(22,e),function t(n){if(!Wi(n))return n;var r,i=n[We],o=qa(n);if(i){if(!i.P&&(i.i<4||!Qr("ES5").K(i)))return i.t;i.I=!0,r=Db(n,o),i.I=!1}else r=Db(n,o);return Ss(r,function(s,a){i&&fN(i.t,s)===a||BC(r,s,t(a))}),o===3?new Set(r):r}(e)}function Db(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Hv(e)}function vN(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var c=this[We];return vl.get(c,o)},set:function(c){var l=this[We];vl.set(l,o,c)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][We];if(!a.P)switch(a.i){case 5:r(a)&&so(a);break;case 4:n(a)&&so(a)}}}function n(o){for(var s=o.t,a=o.k,c=ya(a),l=c.length-1;l>=0;l--){var u=c[l];if(u!==We){var d=s[u];if(d===void 0&&!va(s,u))return!0;var f=a[u],m=f&&f[We];if(m?m.t!==d:!$C(f,d))return!0}}var g=!!s[We];return c.length!==ya(s).length+(g?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var c=0;c<s.length;c++)if(!s.hasOwnProperty(c))return!0;return!1}var i={};pN("ES5",{J:function(o,s){var a=Array.isArray(o),c=function(u,d){if(u){for(var f=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(f,""+m,e(m,!0));return f}var g=zC(d);delete g[We];for(var p=ya(g),S=0;S<p.length;S++){var v=p[S];g[v]=e(v,u||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,o),l={i:a?5:4,A:s?s.A:Nm(),P:!1,I:!1,R:{},l:s,t:o,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,We,{value:l,writable:!0}),c},S:function(o,s,a){a?No(s)&&s[We].A===o&&t(o.p):(o.u&&function c(l){if(l&&typeof l=="object"){var u=l[We];if(u){var d=u.t,f=u.k,m=u.R,g=u.i;if(g===4)Ss(f,function(k){k!==We&&(d[k]!==void 0||va(d,k)?m[k]||c(f[k]):(m[k]=!0,so(u)))}),Ss(d,function(k){f[k]!==void 0||va(f,k)||(m[k]=!1,so(u))});else if(g===5){if(r(u)&&(so(u),m.length=!0),f.length<d.length)for(var p=f.length;p<d.length;p++)m[p]=!1;else for(var S=d.length;S<f.length;S++)m[S]=!0;for(var v=Math.min(f.length,d.length),y=0;y<v;y++)f.hasOwnProperty(y)||(m[y]=!0),m[y]===void 0&&c(f[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Ub,gl,Gv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",yN=typeof Map<"u",bN=typeof Set<"u",Fb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",jC=Gv?Symbol.for("immer-nothing"):((Ub={})["immer-nothing"]=!0,Ub),Bb=Gv?Symbol.for("immer-draftable"):"__$immer_draftable",We=Gv?Symbol.for("immer-state"):"__$immer_state",SN=""+Object.prototype.constructor,ya=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,zC=Object.getOwnPropertyDescriptors||function(e){var t={};return ya(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Fm={},vl={get:function(e,t){if(t===We)return e;var n=ts(e);if(!va(n,t))return function(i,o,s){var a,c=Nb(o,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Wi(r)?r:r===ip(e.t,t)?(op(e),e.o[t]=Um(e.A.h,r,e)):r},has:function(e,t){return t in ts(e)},ownKeys:function(e){return Reflect.ownKeys(ts(e))},set:function(e,t,n){var r=Nb(ts(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ip(ts(e),t),o=i==null?void 0:i[We];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if($C(n,i)&&(n!==void 0||va(e.t,t)))return!0;op(e),so(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return ip(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,op(e),so(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ts(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){or(12)}},xc={};Ss(vl,function(e,t){xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xc.deleteProperty=function(e,t){return xc.set.call(this,e,t,void 0)},xc.set=function(e,t,n){return vl.set.call(this,e[0],t,n,e[0])};var kN=function(){function e(n){var r=this;this.O=Fb,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var c=r;return function(p){var S=this;p===void 0&&(p=a);for(var v=arguments.length,y=Array(v>1?v-1:0),k=1;k<v;k++)y[k-1]=arguments[k];return c.produce(p,function(b){var C;return(C=o).call.apply(C,[S,b].concat(y))})}}var l;if(typeof o!="function"&&or(6),s!==void 0&&typeof s!="function"&&or(7),Wi(i)){var u=Ab(r),d=Um(r,i,void 0),f=!0;try{l=o(d),f=!1}finally{f?Td(u):Dm(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(p){return np(u,s),rp(p,u)},function(p){throw Td(u),p}):(np(u,s),rp(l,u))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===jC&&(l=void 0),r.D&&qv(l,!0),s){var m=[],g=[];Qr("Patches").M(i,l,m,g),s(m,g)}return l}or(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var u=arguments.length,d=Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return r.produceWithPatches(l,function(m){return i.apply(void 0,[m].concat(d))})};var s,a,c=r.produce(i,o,function(l,u){s=l,a=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,s,a]}):[c,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Wi(n)||or(8),No(n)&&(n=gN(n));var r=Ab(this),i=Um(this,n,void 0);return i[We].C=!0,Dm(r),i},t.finishDraft=function(n,r){var i=n&&n[We],o=i.A;return np(o,r),rp(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Fb&&or(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Qr("Patches").$;return No(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Cn=new kN,VC=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseProxies.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function wN(e,t){if(yl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CN(e){var t=wN(e,"string");return yl(t)==="symbol"?t:String(t)}function TN(e,t,n){return t=CN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(n),!0).forEach(function(r){TN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pd={INIT:"@@redux/INIT"+sp(),REPLACE:"@@redux/REPLACE"+sp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sp()}};function EN(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function WC(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(WC)(e,t)}if(typeof e!="function")throw new Error(Lt(2));var i=e,o=t,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function u(){if(c)throw new Error(Lt(3));return o}function d(p){if(typeof p!="function")throw new Error(Lt(4));if(c)throw new Error(Lt(5));var S=!0;return l(),a.push(p),function(){if(S){if(c)throw new Error(Lt(6));S=!1,l();var y=a.indexOf(p);a.splice(y,1),s=null}}}function f(p){if(!EN(p))throw new Error(Lt(7));if(typeof p.type>"u")throw new Error(Lt(8));if(c)throw new Error(Lt(9));try{c=!0,o=i(o,p)}finally{c=!1}for(var S=s=a,v=0;v<S.length;v++){var y=S[v];y()}return p}function m(p){if(typeof p!="function")throw new Error(Lt(10));i=p,f({type:Pd.REPLACE})}function g(){var p,S=d;return p={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Lt(11));function k(){y.next&&y.next(u())}k();var b=S(k);return{unsubscribe:b}}},p[zb]=function(){return this},p}return f({type:Pd.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:m},r[zb]=g,r}function xN(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Pd.INIT});if(typeof r>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:Pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function PN(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{xN(n)}catch(a){s=a}return function(c,l){if(c===void 0&&(c={}),s)throw s;for(var u=!1,d={},f=0;f<o.length;f++){var m=o[f],g=n[m],p=c[m],S=g(p,l);if(typeof S>"u")throw l&&l.type,new Error(Lt(14));d[m]=S,u=u||S!==p}return u=u||o.length!==Object.keys(c).length,u?d:c}}function Rd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function RN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Lt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(c){return c(s)});return o=Rd.apply(void 0,a)(i.dispatch),jb(jb({},i),{},{dispatch:o})}}}function JC(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var HC=JC();HC.withExtraArgument=JC;const Vb=HC;var qC=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_N=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ua=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},IN=Object.defineProperty,MN=Object.defineProperties,ON=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,AN=Object.prototype.hasOwnProperty,LN=Object.prototype.propertyIsEnumerable,Jb=function(e,t,n){return t in e?IN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Eo=function(e,t){for(var n in t||(t={}))AN.call(t,n)&&Jb(e,n,t[n]);if(Wb)for(var r=0,i=Wb(t);r<i.length;r++){var n=i[r];LN.call(t,n)&&Jb(e,n,t[n])}return e},ap=function(e,t){return MN(e,ON(t))},NN=function(e,t,n){return new Promise(function(r,i){var o=function(c){try{a(n.next(c))}catch(l){i(l)}},s=function(c){try{a(n.throw(c))}catch(l){i(l)}},a=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(o,s)};a((n=n.apply(e,t)).next())})},DN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rd:Rd.apply(null,arguments)};function UN(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function xo(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Eo(Eo({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var FN=function(e){qC(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ua([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ua([void 0],n.concat(this))))},t}(Array),BN=function(e){qC(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ua([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ua([void 0],n.concat(this))))},t}(Array);function Bm(e){return Wi(e)?VC(e,function(){}):e}function $N(e){return typeof e=="boolean"}function jN(){return function(t){return zN(t)}}function zN(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new FN;return n&&($N(n)?r.push(Vb):r.push(Vb.withExtraArgument(n.extraArgument))),r}var VN=!0;function WN(e){var t=jN(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,c=a===void 0?!0:a,l=n.preloadedState,u=l===void 0?void 0:l,d=n.enhancers,f=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(UN(i))m=PN(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=s;typeof g=="function"&&(g=g(t));var p=RN.apply(void 0,g),S=Rd;c&&(S=DN(Eo({trace:!VN},typeof c=="object"&&c)));var v=new BN(p),y=v;Array.isArray(f)?y=Ua([p],f):typeof f=="function"&&(y=f(v));var k=S.apply(void 0,y);return WC(m,u,k)}function KC(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function JN(e){return typeof e=="function"}function HN(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?KC(t):[t,n,r],o=i[0],s=i[1],a=i[2],c;if(JN(e))c=function(){return Bm(e())};else{var l=Bm(e);c=function(){return l}}function u(d,f){d===void 0&&(d=c());var m=Ua([o[f.type]],s.filter(function(g){var p=g.matcher;return p(f)}).map(function(g){var p=g.reducer;return p}));return m.filter(function(g){return!!g}).length===0&&(m=[a]),m.reduce(function(g,p){if(p)if(No(g)){var S=g,v=p(S,f);return v===void 0?g:v}else{if(Wi(g))return VC(g,function(y){return p(y,f)});var v=p(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return g},d)}return u.getInitialState=c,u}function qN(e,t){return e+"/"+t}function KN(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Bm(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(u){var d=r[u],f=qN(t,u),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,o[u]=m,s[f]=m,a[u]=g?xo(f,g):xo(f)});function c(){var u=typeof e.extraReducers=="function"?KC(e.extraReducers):[e.extraReducers],d=u[0],f=d===void 0?{}:d,m=u[1],g=m===void 0?[]:m,p=u[2],S=p===void 0?void 0:p,v=Eo(Eo({},f),s);return HN(n,function(y){for(var k in v)y.addCase(k,v[k]);for(var b=0,C=g;b<C.length;b++){var P=C[b];y.addMatcher(P.matcher,P.reducer)}S&&y.addDefaultCase(S)})}var l;return{name:t,reducer:function(u,d){return l||(l=c()),l(u,d)},actions:a,caseReducers:o,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var GN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YN=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=GN[Math.random()*64|0];return t},QN=["name","message","stack","code"],cp=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Hb=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),XN=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=QN;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=xo(t+"/fulfilled",function(l,u,d,f){return{payload:l,meta:ap(Eo({},f||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),o=xo(t+"/pending",function(l,u,d){return{payload:void 0,meta:ap(Eo({},d||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),s=xo(t+"/rejected",function(l,u,d,f,m){return{payload:f,error:(r&&r.serializeError||XN)(l||"Rejected"),meta:ap(Eo({},m||{}),{arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,d,f){var m=r!=null&&r.idGenerator?r.idGenerator(l):YN(),g=new a,p;function S(y){p=y,g.abort()}var v=function(){return NN(this,null,function(){var y,k,b,C,P,T,M;return _N(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),C=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:d,extra:f}),eD(C)?[4,C]:[3,2];case 1:C=R.sent(),R.label=2;case 2:if(C===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return P=new Promise(function(I,V){return g.signal.addEventListener("abort",function(){return V({name:"AbortError",message:p||"Aborted"})})}),u(o(m,l,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:m,arg:l},{getState:d,extra:f}))),[4,Promise.race([P,Promise.resolve(n(l,{dispatch:u,getState:d,extra:f,requestId:m,signal:g.signal,abort:S,rejectWithValue:function(I,V){return new cp(I,V)},fulfillWithValue:function(I,V){return new Hb(I,V)}})).then(function(I){if(I instanceof cp)throw I;return I instanceof Hb?i(I.payload,m,l,I.meta):i(I,m,l)})])];case 3:return b=R.sent(),[3,5];case 4:return T=R.sent(),b=T instanceof cp?s(null,m,l,T.payload,T.meta):s(T,m,l),[3,5];case 5:return M=r&&!r.dispatchConditionRejection&&s.match(b)&&b.meta.condition,M||u(b),[2,b]}})})}();return Object.assign(v,{abort:S,requestId:m,arg:l,unwrap:function(){return v.then(ZN)}})}}return Object.assign(c,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function ZN(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function eD(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Yv="listenerMiddleware";xo(Yv+"/add");xo(Yv+"/removeAll");xo(Yv+"/remove");var qb;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);vN();const GC=KN({name:"user",initialState:{name:"",online:!1},reducers:{login:(e,t)=>{e.name=t.payload.name,e.online=!0},logout:e=>{e.name="",e.online=!1}}}),{login:tD,logout:nD}=GC.actions,rD=GC.reducer;function iD(e){const t=Hw(),{name:n,online:r}=gv(a=>a.user),{showLogout:i}=e,o=Ll(),s=()=>{t(nD()),o("/")};return L.jsx(Vv,{sx:{flexGrow:1},children:L.jsx(rA,{position:"static",children:L.jsxs(BL,{children:[L.jsx(Na,{variant:"h6",component:"div",sx:{flexGrow:1},children:"LiveFeed"}),r&&L.jsxs(Na,{variant:"h6",component:"div",sx:{flexGrow:1},children:["Welcome ",n,"!"]}),i&&L.jsx($l,{variant:"contained",color:"error",onClick:s,children:"Logout"})]})})})}const oD=Fl(L.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle"),sD=Fl([L.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87z"},"0"),L.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),L.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24zm-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"},"2")],"PeopleAlt"),aD=Fl(L.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");function cD(){const e=sf(),[t,n]=h.useState(0),r=Ll();h.useEffect(()=>{e.pathname=="/wall"?n(0):e.pathname=="/friends"?n(1):n(0)},[e.pathname]);const i=o=>{switch(n(o),o){case 0:r("/wall");break;case 1:r("/friends");break}};return L.jsx(CC,{elevation:3,sx:{position:"fixed",bottom:0,left:0,right:0},children:L.jsxs(JA,{showLabels:!0,value:t,onChange:(o,s)=>i(s),children:[L.jsx(Zh,{label:"Wall",icon:L.jsx(oD,{})}),L.jsx(Zh,{label:"Friends",icon:L.jsx(sD,{})}),L.jsx(Zh,{label:"History",icon:L.jsx(aD,{})})]})})}function lD(){const e=sf(),{online:t}=gv(i=>i.user),[n,r]=h.useState(!1);return h.useEffect(()=>{t&&e.pathname!=="/room"?r(!0):r(!1)},[t,e.pathname]),L.jsxs(L.Fragment,{children:[L.jsx(iD,{showLogout:n}),L.jsxs(Vv,{sx:{pb:n?7:0},children:[L.jsx(K2,{}),n&&L.jsx(cD,{})]})]})}const uD=WN({reducer:{user:rD}});function dD(){return L.jsx(K5,{store:uD,children:L.jsx(lD,{})})}function fD(){const e=Ow();return L.jsxs("div",{id:"error-page",children:[L.jsx("h1",{children:"Oops!"}),L.jsx("p",{children:"Sorry, an unexpected error has occurred."}),L.jsx("p",{children:L.jsx("i",{children:e.statusText||e.message})})]})}function hD(){return L.jsx(L.Fragment,{children:L.jsx(Na,{variant:"h1",component:"h1",children:"Wall"})})}const pD=()=>{const e=Ll(),t=Hw(),n=()=>{t(tD({name:"Ruturaj"})),e("/wall")};return L.jsx(L.Fragment,{children:L.jsx($l,{variant:"contained",color:"primary",onClick:n,children:"Log In"})})},mD=e=>{const t=()=>{e.setPage(0)};return L.jsx(L.Fragment,{children:L.jsx($l,{variant:"outlined",color:"primary",onClick:t,children:"Register"})})};function gD(){const[e,t]=h.useState(0);gv(r=>r.user);const n=(r,i)=>{t(i)};return L.jsxs(L.Fragment,{children:[L.jsx(Na,{color:"whitesmoke",variant:"h3",children:"This is Home"}),L.jsxs(ep,{container:!0,spacing:1,children:[L.jsx(ep,{item:!0,xs:0,md:6,lg:8}),L.jsxs(ep,{item:!0,xs:12,md:6,lg:4,children:[L.jsx(Vv,{sx:{backgroundColor:"background.paper"},children:L.jsxs(dN,{value:e,onChange:n,centered:!0,textColor:"primary",children:[L.jsx(_b,{label:"Log In"}),L.jsx(_b,{label:"Register"})]})}),e===0?L.jsx(pD,{}):L.jsx(mD,{setPage:t})]})]})]})}function vD(){const e=Ll(),t=()=>{e("/room")};return L.jsxs(L.Fragment,{children:[L.jsx(Na,{variant:"h1",children:"Friends"}),L.jsx($l,{variant:"contained",color:"success",onClick:t,children:"Call"})]})}const yD=e=>{const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),t},bD=yD;function SD(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var kD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YC={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(kD,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(p,S){var v=p[S];if(typeof v.bind=="function")return v.bind(p);try{return Function.prototype.bind.call(v,p)}catch{return function(){return Function.prototype.apply.apply(v,[p,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?s:console[p]!==void 0?o(console,p):console.log!==void 0?o(console,"log"):t}function c(p,S){for(var v=0;v<i.length;v++){var y=i[v];this[y]=v<p?t:this.methodFactory(y,p,S)}this.log=this.debug}function l(p,S,v){return function(){typeof console!==n&&(c.call(this,S,v),this[p].apply(this,arguments))}}function u(p,S,v){return a(p)||l.apply(this,arguments)}function d(p,S,v){var y=this,k;S=S??"WARN";var b="loglevel";typeof p=="string"?b+=":"+p:typeof p=="symbol"&&(b=void 0);function C(R){var I=(i[R]||"silent").toUpperCase();if(!(typeof window===n||!b)){try{window.localStorage[b]=I;return}catch{}try{window.document.cookie=encodeURIComponent(b)+"="+I+";"}catch{}}}function P(){var R;if(!(typeof window===n||!b)){try{R=window.localStorage[b]}catch{}if(typeof R===n)try{var I=window.document.cookie,V=I.indexOf(encodeURIComponent(b)+"=");V!==-1&&(R=/^([^;]+)/.exec(I.slice(V))[1])}catch{}return y.levels[R]===void 0&&(R=void 0),R}}function T(){if(!(typeof window===n||!b)){try{window.localStorage.removeItem(b);return}catch{}try{window.document.cookie=encodeURIComponent(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}y.name=p,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=v||u,y.getLevel=function(){return k},y.setLevel=function(R,I){if(typeof R=="string"&&y.levels[R.toUpperCase()]!==void 0&&(R=y.levels[R.toUpperCase()]),typeof R=="number"&&R>=0&&R<=y.levels.SILENT){if(k=R,I!==!1&&C(R),c.call(y,R,p),typeof console===n&&R<y.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+R},y.setDefaultLevel=function(R){S=R,P()||y.setLevel(R,!1)},y.resetLevel=function(){y.setLevel(S,!1),T()},y.enableAll=function(R){y.setLevel(y.levels.TRACE,R)},y.disableAll=function(R){y.setLevel(y.levels.SILENT,R)};var M=P();M==null&&(M=S),y.setLevel(M,!1)}var f=new d,m={};f.getLogger=function(S){if(typeof S!="symbol"&&typeof S!="string"||S==="")throw new TypeError("You must supply a name when creating a logger.");var v=m[S];return v||(v=m[S]=new d(S,f.getLevel(),f.methodFactory)),v};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return m},f.default=f,f})})(YC);var QC=YC.exports,$m;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})($m||($m={}));const E=QC.getLogger("livekit");E.setDefaultLevel($m.info);QC.getLogger("lk-e2ee");function Zt(e,t){if(!e)throw new Error(t)}const CD=34028234663852886e22,TD=-34028234663852886e22,ED=4294967295,xD=2147483647,PD=-2147483648;function Ou(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>xD||e<PD)throw new Error("invalid int 32: "+e)}function jm(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>ED||e<0)throw new Error("invalid uint 32: "+e)}function XC(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>CD||e<TD))throw new Error("invalid float 32: "+e)}const ZC=Symbol("@bufbuild/protobuf/enum-type");function RD(e){const t=e[ZC];return Zt(t,"missing enum type on enum object"),t}function eT(e,t,n,r){e[ZC]=tT(t,n.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}function tT(e,t,n){const r=Object.create(null),i=Object.create(null),o=[];for(const s of t){const a=nT(s);o.push(a),r[s.name]=a,i[s.no]=a}return{typeName:e,values:o,findName(s){return r[s]},findNumber(s){return i[s]}}}function _D(e,t,n){const r={};for(const i of t){const o=nT(i);r[o.localName]=o.no,r[o.no]=o.localName}return eT(r,e,t),r}function nT(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class H{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType(),i=r.runtime.bin,o=i.makeReadOptions(n);return i.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,n){const r=this.getType(),i=r.runtime.json,o=i.makeReadOptions(n);return i.readMessage(r,t,o,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(t),o=i.writerFactory();return r.writeMessage(this,o,i),o.finish()}toJson(t){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function ID(e,t,n,r){var i;const o=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),s={[o]:function(a){e.util.initFields(this),e.util.initPartial(a,this)}}[o];return Object.setPrototypeOf(s.prototype,new H),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(a,c){return new s().fromBinary(a,c)},fromJson(a,c){return new s().fromJson(a,c)},fromJsonString(a,c){return new s().fromJsonString(a,c)},equals(a,c){return e.util.equals(s,a,c)}}),s}function MD(e,t,n,r){return{syntax:e,json:t,bin:n,util:r,makeMessageType(i,o,s){return ID(this,i,o,s)},makeEnum:_D,makeEnumType:tT,getEnumType:RD}}var F;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(F||(F={}));function OD(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function lp(e,t,n){for(let o=0;o<28;o=o+7){const s=e>>>o,a=!(!(s>>>7)&&t==0),c=(a?s|128:s)&255;if(n.push(c),!a)return}const r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const s=t>>>o,a=!!(s>>>7),c=(a?s|128:s)&255;if(n.push(c),!a)return}n.push(t>>>31&1)}}const Au=4294967296;function Kb(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(s,a){const c=Number(e.slice(s,a));i*=n,r=r*n+c,r>=Au&&(i=i+(r/Au|0),r=r%Au)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?iT(r,i):Qv(r,i)}function AD(e,t){let n=Qv(e,t);const r=n.hi&2147483648;r&&(n=iT(n.lo,n.hi));const i=rT(n.lo,n.hi);return r?"-"+i:i}function rT(e,t){if({lo:e,hi:t}=LD(e,t),t<=2097151)return String(Au*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let o=n+r*6777216+i*6710656,s=r+i*8147497,a=i*2;const c=1e7;return o>=c&&(s+=Math.floor(o/c),o%=c),s>=c&&(a+=Math.floor(s/c),s%=c),a.toString()+Gb(s)+Gb(o)}function LD(e,t){return{lo:e>>>0,hi:t>>>0}}function Qv(e,t){return{lo:e|0,hi:t|0}}function iT(e,t){return t=~t,e?e=~e+1:t+=1,Qv(e,t)}const Gb=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Yb(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function ND(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function DD(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>o||l<i)throw new Error("int64 invalid: ".concat(c));return l},uParse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>a||l<s)throw new Error("uint64 invalid: ".concat(c));return l},enc(c){return e.setBigInt64(0,this.parse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(c){return e.setBigInt64(0,this.uParse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)},uDec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0)}}}const n=i=>Zt(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>Zt(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),Kb(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),Kb(i)},dec(i,o){return AD(i,o)},uDec(i,o){return rT(i,o)}}}const le=DD();var at;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(at||(at={}));class UD{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(jm(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Ou(t),Yb(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){XC(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){jm(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Ou(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Ou(t),t=(t<<1^t>>31)>>>0,Yb(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=le.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=le.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=le.enc(t);return lp(n.lo,n.hi,this.buf),this}sint64(t){let n=le.enc(t),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return lp(i,o,this.buf),this}uint64(t){let n=le.uEnc(t);return lp(n.lo,n.hi,this.buf),this}}class FD{constructor(t,n){this.varint64=OD,this.uint32=ND,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t){let n=this.pos;switch(t){case at.Varint:for(;this.buf[this.pos++]&128;);break;case at.Bit64:this.pos+=4;case at.Bit32:this.pos+=4;break;case at.LengthDelimited:let r=this.uint32();this.pos+=r;break;case at.StartGroup:let i;for(;(i=this.tag()[1])!==at.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return le.dec(...this.varint64())}uint64(){return le.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,le.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return le.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return le.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function zm(e,t){return t instanceof H||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}F.DOUBLE,F.FLOAT,F.INT64,F.UINT64,F.INT32,F.UINT32,F.BOOL,F.STRING,F.BYTES;function eo(e,t,n){if(t===n)return!0;if(e==F.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return t==n}return!1}function Vm(e){switch(e){case F.BOOL:return!1;case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return le.zero;case F.DOUBLE:case F.FLOAT:return 0;case F.BYTES:return new Uint8Array(0);case F.STRING:return"";default:return 0}}function oT(e,t){const n=t===void 0;let r=at.Varint,i=t===0;switch(e){case F.STRING:i=n||!t.length,r=at.LengthDelimited;break;case F.BOOL:i=t===!1;break;case F.DOUBLE:r=at.Bit64;break;case F.FLOAT:r=at.Bit32;break;case F.INT64:i=n||t==0;break;case F.UINT64:i=n||t==0;break;case F.FIXED64:i=n||t==0,r=at.Bit64;break;case F.BYTES:i=n||!t.byteLength,r=at.LengthDelimited;break;case F.FIXED32:r=at.Bit32;break;case F.SFIXED32:r=at.Bit32;break;case F.SFIXED64:i=n||t==0,r=at.Bit64;break;case F.SINT64:i=n||t==0;break}const o=F[e].toLowerCase();return[r,o,n||i]}const zs=Symbol("@bufbuild/protobuf/unknown-fields"),Qb={readUnknownFields:!0,readerFactory:e=>new FD(e)},Xb={writeUnknownFields:!0,writerFactory:()=>new UD};function BD(e){return e?Object.assign(Object.assign({},Qb),e):Qb}function $D(e){return e?Object.assign(Object.assign({},Xb),e):Xb}function jD(){return{makeReadOptions:BD,makeWriteOptions:$D,listUnknownFields(e){var t;return(t=e[zs])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[zs]},writeUnknownFields(e,t){const r=e[zs];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[zs])||(i[zs]=[]),i[zs].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r){const i=e.getType(),o=n===void 0?t.len:t.pos+n;for(;t.pos<o;){const[s,a]=t.tag(),c=i.fields.find(s);if(!c){const f=t.skip(a);r.readUnknownFields&&this.onUnknownField(e,s,a,f);continue}let l=e,u=c.repeated,d=c.localName;switch(c.oneof&&(l=l[c.oneof.localName],l.case!=d&&delete l.value,l.case=d,d="value"),c.kind){case"scalar":case"enum":const f=c.kind=="enum"?F.INT32:c.T;if(u){let S=l[d];if(a==at.LengthDelimited&&f!=F.STRING&&f!=F.BYTES){let v=t.uint32()+t.pos;for(;t.pos<v;)S.push(jc(t,f))}else S.push(jc(t,f))}else l[d]=jc(t,f);break;case"message":const m=c.T;u?l[d].push(Lu(t,new m,r)):l[d]instanceof H?Lu(t,l[d],r):(l[d]=Lu(t,new m,r),m.fieldWrapper&&!c.oneof&&!c.repeated&&(l[d]=m.fieldWrapper.unwrapField(l[d])));break;case"map":let[g,p]=zD(c,t,r);l[d][g]=p;break}}}}}function Lu(e,t,n){return t.getType().runtime.bin.readMessage(t,e,e.uint32(),n),t}function zD(e,t,n){const r=t.uint32(),i=t.pos+r;let o,s;for(;t.pos<i;){let[a]=t.tag();switch(a){case 1:o=jc(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=jc(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Lu(t,new e.V.T,n);break}break}}if(o===void 0){let a=Vm(e.K);o=e.K==F.BOOL?a.toString():a}if(typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Vm(e.V.T);break;case"enum":s=0;break;case"message":s=new e.V.T;break}return[o,s]}function jc(e,t){switch(t){case F.STRING:return e.string();case F.BOOL:return e.bool();case F.DOUBLE:return e.double();case F.FLOAT:return e.float();case F.INT32:return e.int32();case F.INT64:return e.int64();case F.UINT64:return e.uint64();case F.FIXED64:return e.fixed64();case F.BYTES:return e.bytes();case F.FIXED32:return e.fixed32();case F.SFIXED32:return e.sfixed32();case F.SFIXED64:return e.sfixed64();case F.SINT64:return e.sint64();case F.UINT32:return e.uint32();case F.SINT32:return e.sint32()}}function VD(e,t,n,r,i){e.tag(n.no,at.LengthDelimited),e.fork();let o=r;switch(n.K){case F.INT32:case F.FIXED32:case F.UINT32:case F.SFIXED32:case F.SINT32:o=Number.parseInt(r);break;case F.BOOL:Zt(r=="true"||r=="false"),o=r=="true";break}switch(zc(e,n.K,1,o,!0),n.V.kind){case"scalar":zc(e,n.V.T,2,i,!0);break;case"enum":zc(e,F.INT32,2,i,!0);break;case"message":Wm(e,t,n.V.T,2,i);break}e.join()}function Wm(e,t,n,r,i){if(i!==void 0){const o=zm(n,i);e.tag(r,at.LengthDelimited).bytes(o.toBinary(t))}}function zc(e,t,n,r,i){let[o,s,a]=oT(t,r);(!a||i)&&e.tag(n,o)[s](r)}function WD(e,t,n,r){if(!r.length)return;e.tag(n,at.LengthDelimited).fork();let[,i]=oT(t);for(let o=0;o<r.length;o++)e[i](r[o]);e.join()}function JD(){return Object.assign(Object.assign({},jD()),{writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){let o,s=i.repeated,a=i.localName;if(i.oneof){const c=e[i.oneof.localName];if(c.case!==a)continue;o=c.value}else o=e[a];switch(i.kind){case"scalar":case"enum":let c=i.kind=="enum"?F.INT32:i.T;if(s)if(i.packed)WD(t,c,i.no,o);else for(const l of o)zc(t,c,i.no,l,!0);else o!==void 0&&zc(t,c,i.no,o,!!i.oneof||i.opt);break;case"message":if(s)for(const l of o)Wm(t,n,i.T,i.no,l);else Wm(t,n,i.T,i.no,o);break;case"map":for(const[l,u]of Object.entries(o))VD(t,n,i,l,u);break}}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}})}let li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sh=[];for(let e=0;e<li.length;e++)sh[li[e].charCodeAt(0)]=e;sh["-".charCodeAt(0)]=li.indexOf("+");sh["_".charCodeAt(0)]=li.indexOf("/");const sT={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,o,s=0;for(let a=0;a<e.length;a++){if(o=sh[e.charCodeAt(a)],o===void 0)switch(e[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:n[r++]=s<<2|(o&48)>>4,s=o,i=2;break;case 2:n[r++]=(s&15)<<4|(o&60)>>2,s=o,i=3;break;case 3:n[r++]=(s&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let o=0;o<e.length;o++)switch(r=e[o],n){case 0:t+=li[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=li[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=li[i|r>>6],t+=li[r&63],n=0;break}return n&&(t+=li[i],t+="=",n==1&&(t+="=")),t}},Zb={ignoreUnknownFields:!1},eS={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function HD(e){return e?Object.assign(Object.assign({},Zb),e):Zb}function qD(e){return e?Object.assign(Object.assign({},eS),e):eS}function KD(e){const t=e(GD,tS);return{makeReadOptions:HD,makeWriteOptions:qD,readMessage(n,r,i,o){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error("cannot decode message ".concat(n.typeName," from JSON: ").concat(this.debug(r)));o=o??new n;const s={};for(const[a,c]of Object.entries(r)){const l=n.fields.findJsonName(a);if(!l){if(!i.ignoreUnknownFields)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: key "').concat(a,'" is unknown'));continue}let u=l.localName,d=o;if(l.oneof){if(c===null&&l.kind=="scalar")continue;const f=s[l.oneof.localName];if(f)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: multiple keys for oneof "').concat(l.oneof.name,'" present: "').concat(f,'", "').concat(a,'"'));s[l.oneof.localName]=a,d=d[l.oneof.localName]={case:u},u="value"}if(l.repeated){if(c===null)continue;if(!Array.isArray(c))throw new Error("cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(c)));const f=d[u];for(const m of c){if(m===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(m)));let g;switch(l.kind){case"message":g=l.T.fromJson(m,i);break;case"enum":if(g=up(l.T,m,i.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=gc(l.T,m)}catch(p){let S="cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(m));throw p instanceof Error&&p.message.length>0&&(S+=": ".concat(p.message)),new Error(S)}break}f.push(g)}}else if(l.kind=="map"){if(c===null)continue;if(Array.isArray(c)||typeof c!="object")throw new Error("cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(c)));const f=d[u];for(const[m,g]of Object.entries(c)){if(g===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: map value null"));let p;switch(l.V.kind){case"message":p=l.V.T.fromJson(g,i);break;case"enum":if(p=up(l.V.T,g,i.ignoreUnknownFields),p===void 0)continue;break;case"scalar":try{p=gc(l.V.T,g)}catch(S){let v="cannot decode map value for field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(c));throw S instanceof Error&&S.message.length>0&&(v+=": ".concat(S.message)),new Error(v)}break}try{f[gc(l.K,l.K==F.BOOL?m=="true"?!0:m=="false"?!1:m:m).toString()]=p}catch(S){let v="cannot decode map key for field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(c));throw S instanceof Error&&S.message.length>0&&(v+=": ".concat(S.message)),new Error(v)}}}else switch(l.kind){case"message":const f=l.T;if(c===null&&f.typeName!="google.protobuf.Value"){if(l.oneof)throw new Error("cannot decode field ".concat(n.typeName,".").concat(l.name,' from JSON: null is invalid for oneof field "').concat(a,'"'));continue}d[u]instanceof H?d[u].fromJson(c,i):(d[u]=f.fromJson(c,i),f.fieldWrapper&&!l.oneof&&(d[u]=f.fieldWrapper.unwrapField(d[u])));break;case"enum":const m=up(l.T,c,i.ignoreUnknownFields);m!==void 0&&(d[u]=m);break;case"scalar":try{d[u]=gc(l.T,c)}catch(g){let p="cannot decode field ".concat(n.typeName,".").concat(l.name," from JSON: ").concat(this.debug(c));throw g instanceof Error&&g.message.length>0&&(p+=": ".concat(g.message)),new Error(p)}break}}return o},writeMessage(n,r){const i=n.getType(),o={};let s;try{for(const a of i.fields.byMember()){let c;if(a.kind=="oneof"){const l=n[a.localName];if(l.value===void 0)continue;if(s=a.findField(l.case),!s)throw"oneof case not found: "+l.case;c=t(s,l.value,r)}else s=a,c=t(s,n[s.localName],r);c!==void 0&&(o[r.useProtoFieldName?s.name:s.jsonName]=c)}}catch(a){const c=s?"cannot encode field ".concat(i.typeName,".").concat(s.name," to JSON"):"cannot encode message ".concat(i.typeName," to JSON"),l=a instanceof Error?a.message:String(a);throw new Error(c+(l.length>0?": ".concat(l):""))}return o},readScalar:gc,writeScalar:tS,debug:aT}}function aT(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function gc(e,t){switch(e){case F.DOUBLE:case F.FLOAT:if(t===null)return 0;if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const n=Number(t);if(Number.isNaN(n)||!Number.isFinite(n))break;return e==F.FLOAT&&XC(n),n;case F.INT32:case F.FIXED32:case F.SFIXED32:case F.SINT32:case F.UINT32:if(t===null)return 0;let r;if(typeof t=="number"?r=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(r=Number(t)),r===void 0)break;return e==F.UINT32?jm(r):Ou(r),r;case F.INT64:case F.SFIXED64:case F.SINT64:if(t===null)return le.zero;if(typeof t!="number"&&typeof t!="string")break;return le.parse(t);case F.FIXED64:case F.UINT64:if(t===null)return le.zero;if(typeof t!="number"&&typeof t!="string")break;return le.uParse(t);case F.BOOL:if(t===null)return!1;if(typeof t!="boolean")break;return t;case F.STRING:if(t===null)return"";if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case F.BYTES:if(t===null||t==="")return new Uint8Array(0);if(typeof t!="string")break;return sT.dec(t)}throw new Error}function up(e,t,n){if(t===null)return 0;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r||n)return r==null?void 0:r.no;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(aT(t)))}function GD(e,t,n,r){var i;if(t===void 0)return t;if(t===0&&!n)return;if(r)return t;if(e.typeName=="google.protobuf.NullValue")return null;const o=e.findNumber(t);return(i=o==null?void 0:o.name)!==null&&i!==void 0?i:t}function tS(e,t,n){if(t!==void 0)switch(e){case F.INT32:case F.SFIXED32:case F.SINT32:case F.FIXED32:case F.UINT32:return Zt(typeof t=="number"),t!=0||n?t:void 0;case F.FLOAT:case F.DOUBLE:return Zt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t!==0||n?t:void 0;case F.STRING:return Zt(typeof t=="string"),t.length>0||n?t:void 0;case F.BOOL:return Zt(typeof t=="boolean"),t||n?t:void 0;case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return Zt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),n||t!=0?t.toString(10):void 0;case F.BYTES:return Zt(t instanceof Uint8Array),n||t.byteLength>0?sT.enc(t):void 0}}function YD(){return KD((e,t)=>function(r,i,o){if(r.kind=="map"){const s={};switch(r.V.kind){case"scalar":for(const[c,l]of Object.entries(i)){const u=t(r.V.T,l,!0);Zt(u!==void 0),s[c.toString()]=u}break;case"message":for(const[c,l]of Object.entries(i))s[c.toString()]=l.toJson(o);break;case"enum":const a=r.V.T;for(const[c,l]of Object.entries(i)){Zt(l===void 0||typeof l=="number");const u=e(a,l,!0,o.enumAsInteger);Zt(u!==void 0),s[c.toString()]=u}break}return o.emitDefaultValues||Object.keys(s).length>0?s:void 0}else if(r.repeated){const s=[];switch(r.kind){case"scalar":for(let a=0;a<i.length;a++)s.push(t(r.T,i[a],!0));break;case"enum":for(let a=0;a<i.length;a++)s.push(e(r.T,i[a],!0,o.enumAsInteger));break;case"message":for(let a=0;a<i.length;a++)s.push(zm(r.T,i[a]).toJson(o));break}return o.emitDefaultValues||s.length>0?s:void 0}else switch(r.kind){case"scalar":return t(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues);case"enum":return e(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return i!==void 0?zm(r.T,i).toJson(o):void 0}})}function QD(){return{setEnumType:eT,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const i=r.localName,o=t,s=e;if(s[i]!==void 0)switch(r.kind){case"oneof":const a=s[i].case;if(a===void 0)continue;const c=r.findField(a);let l=s[i].value;c&&c.kind=="message"&&!(l instanceof c.T)?l=new c.T(l):c&&c.kind==="scalar"&&c.T===F.BYTES&&(l=vc(l)),o[i]={case:a,value:l};break;case"scalar":case"enum":let u=s[i];r.T===F.BYTES&&(u=r.repeated?u.map(vc):vc(u)),o[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===F.BYTES)for(const[m,g]of Object.entries(s[i]))o[i][m]=vc(g);else Object.assign(o[i],s[i]);break;case"message":const f=r.V.T;for(const m of Object.keys(s[i])){let g=s[i][m];f.fieldWrapper||(g=new f(g)),o[i][m]=g}break}break;case"message":const d=r.T;if(r.repeated)o[i]=s[i].map(f=>f instanceof d?f:new d(f));else if(s[i]!==void 0){const f=s[i];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?o[i]=vc(f):o[i]=f:o[i]=f instanceof d?f:new d(f)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{const i=t[r.localName],o=n[r.localName];if(r.repeated){if(i.length!==o.length)return!1;switch(r.kind){case"message":return i.every((s,a)=>r.T.equals(s,o[a]));case"scalar":return i.every((s,a)=>eo(r.T,s,o[a]));case"enum":return i.every((s,a)=>eo(F.INT32,s,o[a]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":return r.T.equals(i,o);case"enum":return eo(F.INT32,i,o);case"scalar":return eo(r.T,i,o);case"oneof":if(i.case!==o.case)return!1;const s=r.findField(i.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(i.value,o.value);case"enum":return eo(F.INT32,i.value,o.value);case"scalar":return eo(s.T,i.value,o.value)}throw new Error("oneof cannot contain ".concat(s.kind));case"map":const a=Object.keys(i).concat(Object.keys(o));switch(r.V.kind){case"message":const c=r.V.T;return a.every(u=>c.equals(i[u],o[u]));case"enum":return a.every(u=>eo(F.INT32,i[u],o[u]));case"scalar":const l=r.V.T;return a.every(u=>eo(l,i[u],o[u]))}break}})},clone(e){const t=e.getType(),n=new t,r=n;for(const i of t.fields.byMember()){const o=e[i.localName];let s;if(i.repeated)s=o.map(du);else if(i.kind=="map"){s=r[i.localName];for(const[a,c]of Object.entries(o))s[a]=du(c)}else i.kind=="oneof"?s=i.findField(o.case)?{case:o.case,value:du(o.value)}:{case:void 0}:s=du(o);r[i.localName]=s}return n}}}function du(e){if(e===void 0)return e;if(e instanceof H)return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function vc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class XD{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function cT(e,t){const n=lT(e);return t?n:i3(r3(n))}function ZD(e){return cT(e,!1)}const e3=lT;function lT(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const t3=new Set(["constructor","toString","toJSON","valueOf"]),n3=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),uT=e=>"".concat(e,"$"),r3=e=>n3.has(e)?uT(e):e,i3=e=>t3.has(e)?uT(e):e;class o3{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=ZD(t)}addField(t){Zt(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}const w=MD("proto3",YD(),JD(),Object.assign(Object.assign({},QD()),{newFieldList(e){return new XD(e,s3)},initFields(e){for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Vm(t.T);break}}}}));function s3(e){var t,n,r;const i=[];let o;for(const s of typeof e=="function"?e():e){const a=s;if(a.localName=cT(s.name,s.oneof!==void 0),a.jsonName=(t=s.jsonName)!==null&&t!==void 0?t:e3(s.name),a.repeated=(n=s.repeated)!==null&&n!==void 0?n:!1,a.packed=(r=s.packed)!==null&&r!==void 0?r:s.kind=="enum"||s.kind=="scalar"&&s.T!=F.BYTES&&s.T!=F.STRING,s.oneof!==void 0){const c=typeof s.oneof=="string"?s.oneof:s.oneof.name;(!o||o.name!=c)&&(o=new o3(c)),a.oneof=o,o.addField(a)}i.push(a)}return i}class bt extends H{constructor(t){super(),this.seconds=le.zero,this.nanos=0,w.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(w.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=le.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return bt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new bt({seconds:le.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new bt().fromBinary(t,n)}static fromJson(t,n){return new bt().fromJson(t,n)}static fromJsonString(t,n){return new bt().fromJsonString(t,n)}static equals(t,n){return w.util.equals(bt,t,n)}}bt.runtime=w;bt.typeName="google.protobuf.Timestamp";bt.fields=w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Jm;(function(e){e[e.DEFAULT_AC=0]="DEFAULT_AC",e[e.OPUS=1]="OPUS",e[e.AAC=2]="AAC"})(Jm||(Jm={}));w.util.setEnumType(Jm,"livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]);var Hm;(function(e){e[e.DEFAULT_VC=0]="DEFAULT_VC",e[e.H264_BASELINE=1]="H264_BASELINE",e[e.H264_MAIN=2]="H264_MAIN",e[e.H264_HIGH=3]="H264_HIGH",e[e.VP8=4]="VP8"})(Hm||(Hm={}));w.util.setEnumType(Hm,"livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]);var qm;(function(e){e[e.IC_DEFAULT=0]="IC_DEFAULT",e[e.IC_JPEG=1]="IC_JPEG"})(qm||(qm={}));w.util.setEnumType(qm,"livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]);var Ut;(function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA"})(Ut||(Ut={}));w.util.setEnumType(Ut,"livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]);var ct;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CAMERA=1]="CAMERA",e[e.MICROPHONE=2]="MICROPHONE",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"})(ct||(ct={}));w.util.setEnumType(ct,"livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]);var vt;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"})(vt||(vt={}));w.util.setEnumType(vt,"livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]);var Po;(function(e){e[e.POOR=0]="POOR",e[e.GOOD=1]="GOOD",e[e.EXCELLENT=2]="EXCELLENT"})(Po||(Po={}));w.util.setEnumType(Po,"livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"}]);var br;(function(e){e[e.UNSET=0]="UNSET",e[e.DISABLED=1]="DISABLED",e[e.ENABLED=2]="ENABLED"})(br||(br={}));w.util.setEnumType(br,"livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]);var Di;(function(e){e[e.UNKNOWN_REASON=0]="UNKNOWN_REASON",e[e.CLIENT_INITIATED=1]="CLIENT_INITIATED",e[e.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",e[e.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",e[e.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",e[e.ROOM_DELETED=5]="ROOM_DELETED",e[e.STATE_MISMATCH=6]="STATE_MISMATCH",e[e.JOIN_FAILURE=7]="JOIN_FAILURE"})(Di||(Di={}));w.util.setEnumType(Di,"livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"}]);var Mn;(function(e){e[e.RR_UNKNOWN=0]="RR_UNKNOWN",e[e.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",e[e.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",e[e.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",e[e.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE"})(Mn||(Mn={}));w.util.setEnumType(Mn,"livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]);var bl;(function(e){e[e.SE_UNKNOWN=0]="SE_UNKNOWN",e[e.SE_CODEC_UNSUPPORTED=1]="SE_CODEC_UNSUPPORTED",e[e.SE_TRACK_NOTFOUND=2]="SE_TRACK_NOTFOUND"})(bl||(bl={}));w.util.setEnumType(bl,"livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]);let Ka=class Pc extends H{constructor(t){super(),this.sid="",this.name="",this.emptyTimeout=0,this.maxParticipants=0,this.creationTime=le.zero,this.turnPassword="",this.enabledCodecs=[],this.metadata="",this.numParticipants=0,this.numPublishers=0,this.activeRecording=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new Pc().fromBinary(t,n)}static fromJson(t,n){return new Pc().fromJson(t,n)}static fromJsonString(t,n){return new Pc().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Pc,t,n)}};Ka.runtime=w;Ka.typeName="livekit.Room";Ka.fields=w.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:sr,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8}]);class sr extends H{constructor(t){super(),this.mime="",this.fmtpLine="",w.util.initPartial(t,this)}static fromBinary(t,n){return new sr().fromBinary(t,n)}static fromJson(t,n){return new sr().fromJson(t,n)}static fromJsonString(t,n){return new sr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(sr,t,n)}}sr.runtime=w;sr.typeName="livekit.Codec";sr.fields=w.util.newFieldList(()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]);class lo extends H{constructor(t){super(),this.enabled=!1,this.min=0,this.max=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new lo().fromBinary(t,n)}static fromJson(t,n){return new lo().fromJson(t,n)}static fromJsonString(t,n){return new lo().fromJsonString(t,n)}static equals(t,n){return w.util.equals(lo,t,n)}}lo.runtime=w;lo.typeName="livekit.PlayoutDelay";lo.fields=w.util.newFieldList(()=>[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"min",kind:"scalar",T:13},{no:3,name:"max",kind:"scalar",T:13}]);class fi extends H{constructor(t){super(),this.canSubscribe=!1,this.canPublish=!1,this.canPublishData=!1,this.canPublishSources=[],this.hidden=!1,this.recorder=!1,this.canUpdateMetadata=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new fi().fromBinary(t,n)}static fromJson(t,n){return new fi().fromJson(t,n)}static fromJsonString(t,n){return new fi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(fi,t,n)}}fi.runtime=w;fi.typeName="livekit.ParticipantPermission";fi.fields=w.util.newFieldList(()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:w.getEnumType(ct),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8}]);class yn extends H{constructor(t){super(),this.sid="",this.identity="",this.state=ks.JOINING,this.tracks=[],this.metadata="",this.joinedAt=le.zero,this.name="",this.version=0,this.region="",this.isPublisher=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new yn().fromBinary(t,n)}static fromJson(t,n){return new yn().fromJson(t,n)}static fromJsonString(t,n){return new yn().fromJsonString(t,n)}static equals(t,n){return w.util.equals(yn,t,n)}}yn.runtime=w;yn.typeName="livekit.ParticipantInfo";yn.fields=w.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:w.getEnumType(ks)},{no:4,name:"tracks",kind:"message",T:tn,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:fi},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8}]);var ks;(function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED"})(ks||(ks={}));w.util.setEnumType(ks,"livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]);class uo extends H{constructor(t){super(),w.util.initPartial(t,this)}static fromBinary(t,n){return new uo().fromBinary(t,n)}static fromJson(t,n){return new uo().fromJson(t,n)}static fromJsonString(t,n){return new uo().fromJsonString(t,n)}static equals(t,n){return w.util.equals(uo,t,n)}}uo.runtime=w;uo.typeName="livekit.Encryption";uo.fields=w.util.newFieldList(()=>[]);var Wt;(function(e){e[e.NONE=0]="NONE",e[e.GCM=1]="GCM",e[e.CUSTOM=2]="CUSTOM"})(Wt||(Wt={}));w.util.setEnumType(Wt,"livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]);class hi extends H{constructor(t){super(),this.mimeType="",this.mid="",this.cid="",this.layers=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new hi().fromBinary(t,n)}static fromJson(t,n){return new hi().fromJson(t,n)}static fromJsonString(t,n){return new hi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(hi,t,n)}}hi.runtime=w;hi.typeName="livekit.SimulcastCodecInfo";hi.fields=w.util.newFieldList(()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:Jt,repeated:!0}]);class tn extends H{constructor(t){super(),this.sid="",this.type=Ut.AUDIO,this.name="",this.muted=!1,this.width=0,this.height=0,this.simulcast=!1,this.disableDtx=!1,this.source=ct.UNKNOWN,this.layers=[],this.mimeType="",this.mid="",this.codecs=[],this.stereo=!1,this.disableRed=!1,this.encryption=Wt.NONE,this.stream="",w.util.initPartial(t,this)}static fromBinary(t,n){return new tn().fromBinary(t,n)}static fromJson(t,n){return new tn().fromJson(t,n)}static fromJsonString(t,n){return new tn().fromJsonString(t,n)}static equals(t,n){return w.util.equals(tn,t,n)}}tn.runtime=w;tn.typeName="livekit.TrackInfo";tn.fields=w.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:w.getEnumType(Ut)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:w.getEnumType(ct)},{no:10,name:"layers",kind:"message",T:Jt,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:hi,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:w.getEnumType(Wt)},{no:17,name:"stream",kind:"scalar",T:9}]);class Jt extends H{constructor(t){super(),this.quality=vt.LOW,this.width=0,this.height=0,this.bitrate=0,this.ssrc=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new Jt().fromBinary(t,n)}static fromJson(t,n){return new Jt().fromJson(t,n)}static fromJsonString(t,n){return new Jt().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Jt,t,n)}}Jt.runtime=w;Jt.typeName="livekit.VideoLayer";Jt.fields=w.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:w.getEnumType(vt)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]);class Mr extends H{constructor(t){super(),this.kind=mt.RELIABLE,this.value={case:void 0},w.util.initPartial(t,this)}static fromBinary(t,n){return new Mr().fromBinary(t,n)}static fromJson(t,n){return new Mr().fromJson(t,n)}static fromJsonString(t,n){return new Mr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Mr,t,n)}}Mr.runtime=w;Mr.typeName="livekit.DataPacket";Mr.fields=w.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:w.getEnumType(mt)},{no:2,name:"user",kind:"message",T:Ar,oneof:"value"},{no:3,name:"speaker",kind:"message",T:pi,oneof:"value"}]);var mt;(function(e){e[e.RELIABLE=0]="RELIABLE",e[e.LOSSY=1]="LOSSY"})(mt||(mt={}));w.util.setEnumType(mt,"livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]);class pi extends H{constructor(t){super(),this.speakers=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new pi().fromBinary(t,n)}static fromJson(t,n){return new pi().fromJson(t,n)}static fromJsonString(t,n){return new pi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(pi,t,n)}}pi.runtime=w;pi.typeName="livekit.ActiveSpeakerUpdate";pi.fields=w.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Or,repeated:!0}]);class Or extends H{constructor(t){super(),this.sid="",this.level=0,this.active=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new Or().fromBinary(t,n)}static fromJson(t,n){return new Or().fromJson(t,n)}static fromJsonString(t,n){return new Or().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Or,t,n)}}Or.runtime=w;Or.typeName="livekit.SpeakerInfo";Or.fields=w.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]);class Ar extends H{constructor(t){super(),this.participantSid="",this.participantIdentity="",this.payload=new Uint8Array(0),this.destinationSids=[],this.destinationIdentities=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Ar().fromBinary(t,n)}static fromJson(t,n){return new Ar().fromJson(t,n)}static fromJsonString(t,n){return new Ar().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ar,t,n)}}Ar.runtime=w;Ar.typeName="livekit.UserPacket";Ar.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0}]);class Lr extends H{constructor(t){super(),this.participantSid="",this.trackSids=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Lr().fromBinary(t,n)}static fromJson(t,n){return new Lr().fromJson(t,n)}static fromJsonString(t,n){return new Lr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Lr,t,n)}}Lr.runtime=w;Lr.typeName="livekit.ParticipantTracks";Lr.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]);class mi extends H{constructor(t){super(),this.edition=Fa.Standard,this.version="",this.protocol=0,this.region="",this.nodeId="",this.debugInfo="",w.util.initPartial(t,this)}static fromBinary(t,n){return new mi().fromBinary(t,n)}static fromJson(t,n){return new mi().fromJson(t,n)}static fromJsonString(t,n){return new mi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(mi,t,n)}}mi.runtime=w;mi.typeName="livekit.ServerInfo";mi.fields=w.util.newFieldList(()=>[{no:1,name:"edition",kind:"enum",T:w.getEnumType(Fa)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9}]);var Fa;(function(e){e[e.Standard=0]="Standard",e[e.Cloud=1]="Cloud"})(Fa||(Fa={}));w.util.setEnumType(Fa,"livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]);class gi extends H{constructor(t){super(),this.sdk=Ba.UNKNOWN,this.version="",this.protocol=0,this.os="",this.osVersion="",this.deviceModel="",this.browser="",this.browserVersion="",this.address="",this.network="",w.util.initPartial(t,this)}static fromBinary(t,n){return new gi().fromBinary(t,n)}static fromJson(t,n){return new gi().fromJson(t,n)}static fromJsonString(t,n){return new gi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(gi,t,n)}}gi.runtime=w;gi.typeName="livekit.ClientInfo";gi.fields=w.util.newFieldList(()=>[{no:1,name:"sdk",kind:"enum",T:w.getEnumType(Ba)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9}]);var Ba;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JS=1]="JS",e[e.SWIFT=2]="SWIFT",e[e.ANDROID=3]="ANDROID",e[e.FLUTTER=4]="FLUTTER",e[e.GO=5]="GO",e[e.UNITY=6]="UNITY",e[e.REACT_NATIVE=7]="REACT_NATIVE",e[e.RUST=8]="RUST",e[e.PYTHON=9]="PYTHON",e[e.CPP=10]="CPP"})(Ba||(Ba={}));w.util.setEnumType(Ba,"livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"}]);class Nr extends H{constructor(t){super(),this.resumeConnection=br.UNSET,this.forceRelay=br.UNSET,w.util.initPartial(t,this)}static fromBinary(t,n){return new Nr().fromBinary(t,n)}static fromJson(t,n){return new Nr().fromJson(t,n)}static fromJsonString(t,n){return new Nr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Nr,t,n)}}Nr.runtime=w;Nr.typeName="livekit.ClientConfiguration";Nr.fields=w.util.newFieldList(()=>[{no:1,name:"video",kind:"message",T:Dr},{no:2,name:"screen",kind:"message",T:Dr},{no:3,name:"resume_connection",kind:"enum",T:w.getEnumType(br)},{no:4,name:"disabled_codecs",kind:"message",T:vi},{no:5,name:"force_relay",kind:"enum",T:w.getEnumType(br)}]);class Dr extends H{constructor(t){super(),this.hardwareEncoder=br.UNSET,w.util.initPartial(t,this)}static fromBinary(t,n){return new Dr().fromBinary(t,n)}static fromJson(t,n){return new Dr().fromJson(t,n)}static fromJsonString(t,n){return new Dr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Dr,t,n)}}Dr.runtime=w;Dr.typeName="livekit.VideoConfiguration";Dr.fields=w.util.newFieldList(()=>[{no:1,name:"hardware_encoder",kind:"enum",T:w.getEnumType(br)}]);class vi extends H{constructor(t){super(),this.codecs=[],this.publish=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new vi().fromBinary(t,n)}static fromJson(t,n){return new vi().fromJson(t,n)}static fromJsonString(t,n){return new vi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(vi,t,n)}}vi.runtime=w;vi.typeName="livekit.DisabledCodecs";vi.fields=w.util.newFieldList(()=>[{no:1,name:"codecs",kind:"message",T:sr,repeated:!0},{no:2,name:"publish",kind:"message",T:sr,repeated:!0}]);class Ur extends H{constructor(t){super(),this.duration=0,this.startTimestamp=le.zero,this.endTimestamp=le.zero,this.rtpClockTicks=le.zero,this.driftSamples=le.zero,this.driftMs=0,this.clockRate=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new Ur().fromBinary(t,n)}static fromJson(t,n){return new Ur().fromJson(t,n)}static fromJsonString(t,n){return new Ur().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ur,t,n)}}Ur.runtime=w;Ur.typeName="livekit.RTPDrift";Ur.fields=w.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:bt},{no:2,name:"end_time",kind:"message",T:bt},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}]);class fo extends H{constructor(t){super(),this.duration=0,this.packets=0,this.packetRate=0,this.bytes=le.zero,this.headerBytes=le.zero,this.bitrate=0,this.packetsLost=0,this.packetLossRate=0,this.packetLossPercentage=0,this.packetsDuplicate=0,this.packetDuplicateRate=0,this.bytesDuplicate=le.zero,this.headerBytesDuplicate=le.zero,this.bitrateDuplicate=0,this.packetsPadding=0,this.packetPaddingRate=0,this.bytesPadding=le.zero,this.headerBytesPadding=le.zero,this.bitratePadding=0,this.packetsOutOfOrder=0,this.frames=0,this.frameRate=0,this.jitterCurrent=0,this.jitterMax=0,this.gapHistogram={},this.nacks=0,this.nackAcks=0,this.nackMisses=0,this.nackRepeated=0,this.plis=0,this.firs=0,this.rttCurrent=0,this.rttMax=0,this.keyFrames=0,this.layerLockPlis=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new fo().fromBinary(t,n)}static fromJson(t,n){return new fo().fromJson(t,n)}static fromJsonString(t,n){return new fo().fromJsonString(t,n)}static equals(t,n){return w.util.equals(fo,t,n)}}fo.runtime=w;fo.typeName="livekit.RTPStats";fo.fields=w.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:bt},{no:2,name:"end_time",kind:"message",T:bt},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"packets",kind:"scalar",T:13},{no:5,name:"packet_rate",kind:"scalar",T:1},{no:6,name:"bytes",kind:"scalar",T:4},{no:39,name:"header_bytes",kind:"scalar",T:4},{no:7,name:"bitrate",kind:"scalar",T:1},{no:8,name:"packets_lost",kind:"scalar",T:13},{no:9,name:"packet_loss_rate",kind:"scalar",T:1},{no:10,name:"packet_loss_percentage",kind:"scalar",T:2},{no:11,name:"packets_duplicate",kind:"scalar",T:13},{no:12,name:"packet_duplicate_rate",kind:"scalar",T:1},{no:13,name:"bytes_duplicate",kind:"scalar",T:4},{no:40,name:"header_bytes_duplicate",kind:"scalar",T:4},{no:14,name:"bitrate_duplicate",kind:"scalar",T:1},{no:15,name:"packets_padding",kind:"scalar",T:13},{no:16,name:"packet_padding_rate",kind:"scalar",T:1},{no:17,name:"bytes_padding",kind:"scalar",T:4},{no:41,name:"header_bytes_padding",kind:"scalar",T:4},{no:18,name:"bitrate_padding",kind:"scalar",T:1},{no:19,name:"packets_out_of_order",kind:"scalar",T:13},{no:20,name:"frames",kind:"scalar",T:13},{no:21,name:"frame_rate",kind:"scalar",T:1},{no:22,name:"jitter_current",kind:"scalar",T:1},{no:23,name:"jitter_max",kind:"scalar",T:1},{no:24,name:"gap_histogram",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:25,name:"nacks",kind:"scalar",T:13},{no:37,name:"nack_acks",kind:"scalar",T:13},{no:26,name:"nack_misses",kind:"scalar",T:13},{no:38,name:"nack_repeated",kind:"scalar",T:13},{no:27,name:"plis",kind:"scalar",T:13},{no:28,name:"last_pli",kind:"message",T:bt},{no:29,name:"firs",kind:"scalar",T:13},{no:30,name:"last_fir",kind:"message",T:bt},{no:31,name:"rtt_current",kind:"scalar",T:13},{no:32,name:"rtt_max",kind:"scalar",T:13},{no:33,name:"key_frames",kind:"scalar",T:13},{no:34,name:"last_key_frame",kind:"message",T:bt},{no:35,name:"layer_lock_plis",kind:"scalar",T:13},{no:36,name:"last_layer_lock_pli",kind:"message",T:bt},{no:44,name:"packet_drift",kind:"message",T:Ur},{no:45,name:"report_drift",kind:"message",T:Ur}]);class ho extends H{constructor(t){super(),this.unixMicro=le.zero,this.ticks=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new ho().fromBinary(t,n)}static fromJson(t,n){return new ho().fromJson(t,n)}static fromJsonString(t,n){return new ho().fromJsonString(t,n)}static equals(t,n){return w.util.equals(ho,t,n)}}ho.runtime=w;ho.typeName="livekit.TimedVersion";ho.fields=w.util.newFieldList(()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]);const yc=7e3,a3=[0,300,2*2*300,3*3*300,4*4*300,yc,yc,yc,yc,yc];class c3{constructor(t){this._retryDelays=t!==void 0?[...t]:a3}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function _(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function nS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nS=="function"?nS(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Xv={exports:{}},ba=typeof Reflect=="object"?Reflect:null,rS=ba&&typeof ba.apply=="function"?ba.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Nu;ba&&typeof ba.ownKeys=="function"?Nu=ba.ownKeys:Object.getOwnPropertySymbols?Nu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Nu=function(t){return Object.getOwnPropertyNames(t)};function l3(e){console&&console.warn&&console.warn(e)}var dT=Number.isNaN||function(t){return t!==t};function Ie(){Ie.init.call(this)}Xv.exports=Ie;Xv.exports.once=h3;Ie.EventEmitter=Ie;Ie.prototype._events=void 0;Ie.prototype._eventsCount=0;Ie.prototype._maxListeners=void 0;var iS=10;function ah(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ie,"defaultMaxListeners",{enumerable:!0,get:function(){return iS},set:function(e){if(typeof e!="number"||e<0||dT(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");iS=e}});Ie.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ie.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||dT(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fT(e){return e._maxListeners===void 0?Ie.defaultMaxListeners:e._maxListeners}Ie.prototype.getMaxListeners=function(){return fT(this)};Ie.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")rS(c,this,n);else for(var l=c.length,u=vT(c,l),r=0;r<l;++r)rS(u[r],this,n);return!0};function hT(e,t,n,r){var i,o,s;if(ah(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=fT(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,l3(a)}return e}Ie.prototype.addListener=function(t,n){return hT(this,t,n,!1)};Ie.prototype.on=Ie.prototype.addListener;Ie.prototype.prependListener=function(t,n){return hT(this,t,n,!0)};function u3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pT(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u3.bind(r);return i.listener=n,r.wrapFn=i,i}Ie.prototype.once=function(t,n){return ah(n),this.on(t,pT(this,t,n)),this};Ie.prototype.prependOnceListener=function(t,n){return ah(n),this.prependListener(t,pT(this,t,n)),this};Ie.prototype.removeListener=function(t,n){var r,i,o,s,a;if(ah(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():d3(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function mT(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?f3(i):vT(i,i.length)}Ie.prototype.listeners=function(t){return mT(this,t,!0)};Ie.prototype.rawListeners=function(t){return mT(this,t,!1)};Ie.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):gT.call(e,t)};Ie.prototype.listenerCount=gT;function gT(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ie.prototype.eventNames=function(){return this._eventsCount>0?Nu(this._events):[]};function vT(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function d3(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function f3(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function h3(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}yT(e,t,o,{once:!0}),t!=="error"&&p3(e,i,{once:!0})})}function p3(e,t,n){typeof e.on=="function"&&yT(e,"error",t,n)}function yT(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Zr=Xv.exports;let bT=!0,ST=!0;function Du(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function _s(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,a){if(s!==t)return i.apply(this,arguments);const c=l=>{const u=n(l);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,c),i.apply(this,[s,c])};const o=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(a))return o.apply(this,arguments);const c=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function m3(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(bT=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function g3(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(ST=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function kT(){if(typeof window=="object"){if(bT)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Zv(e,t){ST&&console.warn(e+" is deprecated, please use "+t+" instead.")}function v3(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Du(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Du(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Du(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function oS(e){return Object.prototype.toString.call(e)==="[object Object]"}function wT(e){return oS(e)?Object.keys(e).reduce(function(t,n){const r=oS(e[n]),i=r?wT(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function Km(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Km(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{Km(e,e.get(i),n)})}))}function sS(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(a=>{a.type===r&&a.trackId===s.id&&Km(e,a,i)})}),i}const aS=kT;function CT(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const u=typeof a[l]=="object"?a[l]:{ideal:a[l]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(f,m){return f?f+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(u.ideal!==void 0){c.optional=c.optional||[];let f={};typeof u.ideal=="number"?(f[d("min",l)]=u.ideal,c.optional.push(f),f={},f[d("max",l)]=u.ideal,c.optional.push(f)):(f[d("",l)]=u.ideal,c.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[d("",l)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[d(f,l)]=u[f])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},i=function(a,c){if(t.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const l=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const u=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let d;if(l.exact==="environment"||l.ideal==="environment"?d=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(g=>g.kind==="videoinput");let m=f.find(g=>d.some(p=>g.label.toLowerCase().includes(p)));return!m&&f.length&&d.includes("back")&&(m=f[f.length-1]),m&&(a.video.deviceId=l.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=r(a.video),aS("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return aS("chrome: "+JSON.stringify(a)),c(a)},o=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,c,l){i(a,u=>{n.webkitGetUserMedia(u,c,d=>{l&&l(o(d))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,l=>a(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function y3(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(r)})}}}function TT(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ET(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else _s(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function xT(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,c){let l=i.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const a=this._senders.find(c=>c.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function PT(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const s=function(c){const l={};return c.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(m=>{f[m]=d.stat(m)}),l[f.id]=f}),l},a=function(c){return new Map(Object.keys(c).map(l=>[l,c[l]]))};if(arguments.length>=2){const c=function(l){i(a(s(l)))};return t.apply(this,[c,r])}return new Promise((c,l)=>{t.apply(this,[function(u){c(a(s(u)))},l])}).then(i,o)}}function RT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>sS(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),_s(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>sS(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(a=>{a.track===r&&(i?s=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(o?s=!0:o=a),a.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function _T(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(l=>{if(this.getSenders().find(d=>d.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[s.id]=[s].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(s);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function IT(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return _T(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(m=>m.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new e.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(p=>p===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[d.id];if(g)g.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new e.MediaStream([u]);this._streams[d.id]=p,this._reverseStreams[p.id]=d,this.addStream(p)}return this.getSenders().find(p=>p.track===u)};function o(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const m=l._reverseStreams[f],g=l._streams[m.id];d=d.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function s(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const m=l._reverseStreams[f],g=l._streams[m.id];d=d.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(l){const u=e.RTCPeerConnection.prototype[l],d={[l](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[g=>{const p=o(this,g);f[0].apply(null,[p])},g=>{f[1]&&f[1].apply(null,g)},arguments[2]]):u.apply(this,arguments).then(g=>o(this,g))}};e.RTCPeerConnection.prototype[l]=d[l]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:o(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(p=>u.track===p)&&(f=this._streams[m])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Gm(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function MT(e,t){_s(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var cS=Object.freeze({__proto__:null,fixNegotiationNeeded:MT,shimAddTrackRemoveTrack:IT,shimAddTrackRemoveTrackWithNative:_T,shimGetDisplayMedia:y3,shimGetSendersWithDtmf:xT,shimGetStats:PT,shimGetUserMedia:CT,shimMediaStream:TT,shimOnTrack:ET,shimPeerConnection:Gm,shimSenderReceiverGetStats:RT});function OT(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){Zv("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,a,c){a in s&&!(c in s)&&(s[c]=s[a],delete s[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function b3(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function AT(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ym(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,a]=arguments;return r.apply(this,[o||null]).then(c=>{if(t.version<53&&!s)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((u,d)=>{c.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return c}).then(s,a)}}function LT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function NT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),_s(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function DT(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Zv("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function UT(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function FT(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function BT(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function $T(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function jT(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var lS=Object.freeze({__proto__:null,shimAddTransceiver:FT,shimCreateAnswer:jT,shimCreateOffer:$T,shimGetDisplayMedia:b3,shimGetParameters:BT,shimGetUserMedia:OT,shimOnTrack:AT,shimPeerConnection:Ym,shimRTCDataChannel:UT,shimReceiverGetStats:NT,shimRemoveStream:DT,shimSenderGetStats:LT});function zT(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function VT(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function WT(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(l,u),Promise.resolve()):f},t.createAnswer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(l,u),Promise.resolve()):f};let a=function(c,l,u){const d=i.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d};t.setLocalDescription=a,a=function(c,l,u){const d=o.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},t.setRemoteDescription=a,a=function(c,l,u){const d=s.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},t.addIceCandidate=a}function JT(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(HT(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}).bind(t))}function HT(e){return e&&e.video!==void 0?Object.assign({},e,{video:wT(e.video)}):e}function qT(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(Zv("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function KT(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function GT(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function YT(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var uS=Object.freeze({__proto__:null,shimAudioContext:YT,shimCallbacksAPI:WT,shimConstraints:HT,shimCreateOfferLegacy:GT,shimGetUserMedia:JT,shimLocalStreamsAPI:zT,shimRTCIceServerUrls:qT,shimRemoteStreamsAPI:VT,shimTrackEventTransceiver:KT}),QT={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const c=o[a],l=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(l){const u=t.parseRtpMap(l),d=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(u.parameters=d.length?t.parseFmtp(d[0]):{},u.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const s=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(c=>{a.rtcpFeedback.find(u=>u.type===c.type&&u.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});let o=0;return r.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(f=>t.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),c=a.length>0&&a[0].ssrc;let l;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(g=>parseInt(g,10)));u.length>0&&u[0].length>1&&u[0][0]===c&&(l=u[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let m={ssrc:c,codecPayloadType:parseInt(f.parameters.apt,10)};c&&l&&(m.rtx={ssrc:l}),r.push(m),o&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&c&&r.push({ssrc:c});let d=t.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,r.forEach(f=>{f.maxBitrate=d})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let o;const s=r!==void 0?r:2;return n?o=n:o=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(QT);var XT=QT.exports,Sa=wD(XT),S3=SD({__proto__:null,default:Sa},[XT]);function Uu(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),o=Sa.parseCandidate(r.candidate);for(const s in o)s in i||Object.defineProperty(i,s,{value:o[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,_s(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Qm(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||_s(e,"icecandidate",t=>{if(t.candidate){const n=Sa.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Fu(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=Sa.splitSections(a.sdp);return c.shift(),c.some(l=>{const u=Sa.parseMLine(l);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},i=function(a){let c=65536;return t.browser==="firefox"&&(t.version<57?a===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},o=function(a,c){let l=65536;t.browser==="firefox"&&t.version===57&&(l=65535);const u=Sa.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(l=2147483637),l},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),l=i(c),u=o(arguments[0],c);let d;l===0&&u===0?d=Number.POSITIVE_INFINITY:l===0||u===0?d=Math.max(l,u):d=Math.min(l,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return s.apply(this,arguments)}}function Bu(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},_s(e,"datachannel",r=>(t(r.channel,r.target),r))}function Xm(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Zm(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function $u(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ju(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var k3=Object.freeze({__proto__:null,removeExtmapAllowMixed:Zm,shimAddIceCandidateNullOrEmpty:$u,shimConnectionState:Xm,shimMaxMessageSize:Fu,shimParameterlessSetLocalDescription:ju,shimRTCIceCandidate:Uu,shimRTCIceCandidateRelayProtocol:Qm,shimSendThrowTypeError:Bu});function w3(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=kT,r=v3(e),i={browserDetails:r,commonShim:k3,extractVersion:Du,disableLog:m3,disableWarnings:g3,sdp:S3};switch(r.browser){case"chrome":if(!cS||!Gm||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=cS,$u(e,r),ju(e),CT(e,r),TT(e),Gm(e,r),ET(e),IT(e,r),xT(e),PT(e),RT(e),MT(e,r),Uu(e),Qm(e),Xm(e),Fu(e,r),Bu(e),Zm(e,r);break;case"firefox":if(!lS||!Ym||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=lS,$u(e,r),ju(e),OT(e,r),Ym(e,r),AT(e),DT(e),LT(e),NT(e),UT(e),FT(e),BT(e),$T(e),jT(e),Uu(e),Xm(e),Fu(e,r),Bu(e);break;case"safari":if(!uS||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=uS,$u(e,r),ju(e),qT(e),GT(e),WT(e),zT(e),VT(e),KT(e),JT(e),YT(e),Uu(e),Qm(e),Fu(e,r),Bu(e),Zm(e,r);break;default:n("Unsupported browser!");break}return i}w3({window:typeof window>"u"?void 0:window});var nn;(function(e){e[e.PUBLISHER=0]="PUBLISHER",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(nn||(nn={}));w.util.setEnumType(nn,"livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]);var ws;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.PAUSED=1]="PAUSED"})(ws||(ws={}));w.util.setEnumType(ws,"livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]);var _d;(function(e){e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.TLS=2]="TLS"})(_d||(_d={}));w.util.setEnumType(_d,"livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]);class yi extends H{constructor(t){super(),this.message={case:void 0},w.util.initPartial(t,this)}static fromBinary(t,n){return new yi().fromBinary(t,n)}static fromJson(t,n){return new yi().fromJson(t,n)}static fromJsonString(t,n){return new yi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(yi,t,n)}}yi.runtime=w;yi.typeName="livekit.SignalRequest";yi.fields=w.util.newFieldList(()=>[{no:1,name:"offer",kind:"message",T:Ht,oneof:"message"},{no:2,name:"answer",kind:"message",T:Ht,oneof:"message"},{no:3,name:"trickle",kind:"message",T:lr,oneof:"message"},{no:4,name:"add_track",kind:"message",T:cr,oneof:"message"},{no:5,name:"mute",kind:"message",T:ur,oneof:"message"},{no:6,name:"subscription",kind:"message",T:Un,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:Br,oneof:"message"},{no:8,name:"leave",kind:"message",T:Fn,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:$r,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:Wr,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:Jr,oneof:"message"},{no:13,name:"simulate",kind:"message",T:zt,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:jr,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:qr,oneof:"message"}]);class Fr extends H{constructor(t){super(),this.message={case:void 0},w.util.initPartial(t,this)}static fromBinary(t,n){return new Fr().fromBinary(t,n)}static fromJson(t,n){return new Fr().fromJson(t,n)}static fromJsonString(t,n){return new Fr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Fr,t,n)}}Fr.runtime=w;Fr.typeName="livekit.SignalResponse";Fr.fields=w.util.newFieldList(()=>[{no:1,name:"join",kind:"message",T:bi,oneof:"message"},{no:2,name:"answer",kind:"message",T:Ht,oneof:"message"},{no:3,name:"offer",kind:"message",T:Ht,oneof:"message"},{no:4,name:"trickle",kind:"message",T:lr,oneof:"message"},{no:5,name:"update",kind:"message",T:wi,oneof:"message"},{no:6,name:"track_published",kind:"message",T:dr,oneof:"message"},{no:8,name:"leave",kind:"message",T:Fn,oneof:"message"},{no:9,name:"mute",kind:"message",T:ur,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:Ci,oneof:"message"},{no:11,name:"room_update",kind:"message",T:Ti,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:xi,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:Ri,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:Ii,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:Mi,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:ki,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:Si,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:Oi,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:Li,oneof:"message"}]);class ar extends H{constructor(t){super(),this.codec="",this.cid="",w.util.initPartial(t,this)}static fromBinary(t,n){return new ar().fromBinary(t,n)}static fromJson(t,n){return new ar().fromJson(t,n)}static fromJsonString(t,n){return new ar().fromJsonString(t,n)}static equals(t,n){return w.util.equals(ar,t,n)}}ar.runtime=w;ar.typeName="livekit.SimulcastCodec";ar.fields=w.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]);class cr extends H{constructor(t){super(),this.cid="",this.name="",this.type=Ut.AUDIO,this.width=0,this.height=0,this.muted=!1,this.disableDtx=!1,this.source=ct.UNKNOWN,this.layers=[],this.simulcastCodecs=[],this.sid="",this.stereo=!1,this.disableRed=!1,this.encryption=Wt.NONE,this.stream="",w.util.initPartial(t,this)}static fromBinary(t,n){return new cr().fromBinary(t,n)}static fromJson(t,n){return new cr().fromJson(t,n)}static fromJsonString(t,n){return new cr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(cr,t,n)}}cr.runtime=w;cr.typeName="livekit.AddTrackRequest";cr.fields=w.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:w.getEnumType(Ut)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:w.getEnumType(ct)},{no:9,name:"layers",kind:"message",T:Jt,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:ar,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:w.getEnumType(Wt)},{no:15,name:"stream",kind:"scalar",T:9}]);class lr extends H{constructor(t){super(),this.candidateInit="",this.target=nn.PUBLISHER,w.util.initPartial(t,this)}static fromBinary(t,n){return new lr().fromBinary(t,n)}static fromJson(t,n){return new lr().fromJson(t,n)}static fromJsonString(t,n){return new lr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(lr,t,n)}}lr.runtime=w;lr.typeName="livekit.TrickleRequest";lr.fields=w.util.newFieldList(()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:w.getEnumType(nn)}]);class ur extends H{constructor(t){super(),this.sid="",this.muted=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new ur().fromBinary(t,n)}static fromJson(t,n){return new ur().fromJson(t,n)}static fromJsonString(t,n){return new ur().fromJsonString(t,n)}static equals(t,n){return w.util.equals(ur,t,n)}}ur.runtime=w;ur.typeName="livekit.MuteTrackRequest";ur.fields=w.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]);class bi extends H{constructor(t){super(),this.otherParticipants=[],this.serverVersion="",this.iceServers=[],this.subscriberPrimary=!1,this.alternativeUrl="",this.serverRegion="",this.pingTimeout=0,this.pingInterval=0,this.sifTrailer=new Uint8Array(0),w.util.initPartial(t,this)}static fromBinary(t,n){return new bi().fromBinary(t,n)}static fromJson(t,n){return new bi().fromJson(t,n)}static fromJsonString(t,n){return new bi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(bi,t,n)}}bi.runtime=w;bi.typeName="livekit.JoinResponse";bi.fields=w.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:Ka},{no:2,name:"participant",kind:"message",T:yn},{no:3,name:"other_participants",kind:"message",T:yn,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:zr,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Nr},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:mi},{no:13,name:"sif_trailer",kind:"scalar",T:12}]);class Si extends H{constructor(t){super(),this.iceServers=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Si().fromBinary(t,n)}static fromJson(t,n){return new Si().fromJson(t,n)}static fromJsonString(t,n){return new Si().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Si,t,n)}}Si.runtime=w;Si.typeName="livekit.ReconnectResponse";Si.fields=w.util.newFieldList(()=>[{no:1,name:"ice_servers",kind:"message",T:zr,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Nr}]);class dr extends H{constructor(t){super(),this.cid="",w.util.initPartial(t,this)}static fromBinary(t,n){return new dr().fromBinary(t,n)}static fromJson(t,n){return new dr().fromJson(t,n)}static fromJsonString(t,n){return new dr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(dr,t,n)}}dr.runtime=w;dr.typeName="livekit.TrackPublishedResponse";dr.fields=w.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:tn}]);class ki extends H{constructor(t){super(),this.trackSid="",w.util.initPartial(t,this)}static fromBinary(t,n){return new ki().fromBinary(t,n)}static fromJson(t,n){return new ki().fromJson(t,n)}static fromJsonString(t,n){return new ki().fromJsonString(t,n)}static equals(t,n){return w.util.equals(ki,t,n)}}ki.runtime=w;ki.typeName="livekit.TrackUnpublishedResponse";ki.fields=w.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);class Ht extends H{constructor(t){super(),this.type="",this.sdp="",w.util.initPartial(t,this)}static fromBinary(t,n){return new Ht().fromBinary(t,n)}static fromJson(t,n){return new Ht().fromJson(t,n)}static fromJsonString(t,n){return new Ht().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ht,t,n)}}Ht.runtime=w;Ht.typeName="livekit.SessionDescription";Ht.fields=w.util.newFieldList(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]);class wi extends H{constructor(t){super(),this.participants=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new wi().fromBinary(t,n)}static fromJson(t,n){return new wi().fromJson(t,n)}static fromJsonString(t,n){return new wi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(wi,t,n)}}wi.runtime=w;wi.typeName="livekit.ParticipantUpdate";wi.fields=w.util.newFieldList(()=>[{no:1,name:"participants",kind:"message",T:yn,repeated:!0}]);class Un extends H{constructor(t){super(),this.trackSids=[],this.subscribe=!1,this.participantTracks=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Un().fromBinary(t,n)}static fromJson(t,n){return new Un().fromJson(t,n)}static fromJsonString(t,n){return new Un().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Un,t,n)}}Un.runtime=w;Un.typeName="livekit.UpdateSubscription";Un.fields=w.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Lr,repeated:!0}]);class Br extends H{constructor(t){super(),this.trackSids=[],this.disabled=!1,this.quality=vt.LOW,this.width=0,this.height=0,this.fps=0,this.priority=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new Br().fromBinary(t,n)}static fromJson(t,n){return new Br().fromJson(t,n)}static fromJsonString(t,n){return new Br().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Br,t,n)}}Br.runtime=w;Br.typeName="livekit.UpdateTrackSettings";Br.fields=w.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:w.getEnumType(vt)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]);class Fn extends H{constructor(t){super(),this.canReconnect=!1,this.reason=Di.UNKNOWN_REASON,w.util.initPartial(t,this)}static fromBinary(t,n){return new Fn().fromBinary(t,n)}static fromJson(t,n){return new Fn().fromJson(t,n)}static fromJsonString(t,n){return new Fn().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Fn,t,n)}}Fn.runtime=w;Fn.typeName="livekit.LeaveRequest";Fn.fields=w.util.newFieldList(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:w.getEnumType(Di)}]);class $r extends H{constructor(t){super(),this.trackSid="",this.layers=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new $r().fromBinary(t,n)}static fromJson(t,n){return new $r().fromJson(t,n)}static fromJsonString(t,n){return new $r().fromJsonString(t,n)}static equals(t,n){return w.util.equals($r,t,n)}}$r.runtime=w;$r.typeName="livekit.UpdateVideoLayers";$r.fields=w.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:Jt,repeated:!0}]);class jr extends H{constructor(t){super(),this.metadata="",this.name="",w.util.initPartial(t,this)}static fromBinary(t,n){return new jr().fromBinary(t,n)}static fromJson(t,n){return new jr().fromJson(t,n)}static fromJsonString(t,n){return new jr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(jr,t,n)}}jr.runtime=w;jr.typeName="livekit.UpdateParticipantMetadata";jr.fields=w.util.newFieldList(()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]);class zr extends H{constructor(t){super(),this.urls=[],this.username="",this.credential="",w.util.initPartial(t,this)}static fromBinary(t,n){return new zr().fromBinary(t,n)}static fromJson(t,n){return new zr().fromJson(t,n)}static fromJsonString(t,n){return new zr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(zr,t,n)}}zr.runtime=w;zr.typeName="livekit.ICEServer";zr.fields=w.util.newFieldList(()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]);class Ci extends H{constructor(t){super(),this.speakers=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Ci().fromBinary(t,n)}static fromJson(t,n){return new Ci().fromJson(t,n)}static fromJsonString(t,n){return new Ci().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ci,t,n)}}Ci.runtime=w;Ci.typeName="livekit.SpeakersChanged";Ci.fields=w.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Or,repeated:!0}]);class Ti extends H{constructor(t){super(),w.util.initPartial(t,this)}static fromBinary(t,n){return new Ti().fromBinary(t,n)}static fromJson(t,n){return new Ti().fromJson(t,n)}static fromJsonString(t,n){return new Ti().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ti,t,n)}}Ti.runtime=w;Ti.typeName="livekit.RoomUpdate";Ti.fields=w.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:Ka}]);class Ei extends H{constructor(t){super(),this.participantSid="",this.quality=Po.POOR,this.score=0,w.util.initPartial(t,this)}static fromBinary(t,n){return new Ei().fromBinary(t,n)}static fromJson(t,n){return new Ei().fromJson(t,n)}static fromJsonString(t,n){return new Ei().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ei,t,n)}}Ei.runtime=w;Ei.typeName="livekit.ConnectionQualityInfo";Ei.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:w.getEnumType(Po)},{no:3,name:"score",kind:"scalar",T:2}]);class xi extends H{constructor(t){super(),this.updates=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new xi().fromBinary(t,n)}static fromJson(t,n){return new xi().fromJson(t,n)}static fromJsonString(t,n){return new xi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(xi,t,n)}}xi.runtime=w;xi.typeName="livekit.ConnectionQualityUpdate";xi.fields=w.util.newFieldList(()=>[{no:1,name:"updates",kind:"message",T:Ei,repeated:!0}]);class Pi extends H{constructor(t){super(),this.participantSid="",this.trackSid="",this.state=ws.ACTIVE,w.util.initPartial(t,this)}static fromBinary(t,n){return new Pi().fromBinary(t,n)}static fromJson(t,n){return new Pi().fromJson(t,n)}static fromJsonString(t,n){return new Pi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Pi,t,n)}}Pi.runtime=w;Pi.typeName="livekit.StreamStateInfo";Pi.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:w.getEnumType(ws)}]);class Ri extends H{constructor(t){super(),this.streamStates=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Ri().fromBinary(t,n)}static fromJson(t,n){return new Ri().fromJson(t,n)}static fromJsonString(t,n){return new Ri().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ri,t,n)}}Ri.runtime=w;Ri.typeName="livekit.StreamStateUpdate";Ri.fields=w.util.newFieldList(()=>[{no:1,name:"stream_states",kind:"message",T:Pi,repeated:!0}]);class fr extends H{constructor(t){super(),this.quality=vt.LOW,this.enabled=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new fr().fromBinary(t,n)}static fromJson(t,n){return new fr().fromJson(t,n)}static fromJsonString(t,n){return new fr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(fr,t,n)}}fr.runtime=w;fr.typeName="livekit.SubscribedQuality";fr.fields=w.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:w.getEnumType(vt)},{no:2,name:"enabled",kind:"scalar",T:8}]);class _i extends H{constructor(t){super(),this.codec="",this.qualities=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new _i().fromBinary(t,n)}static fromJson(t,n){return new _i().fromJson(t,n)}static fromJsonString(t,n){return new _i().fromJsonString(t,n)}static equals(t,n){return w.util.equals(_i,t,n)}}_i.runtime=w;_i.typeName="livekit.SubscribedCodec";_i.fields=w.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:fr,repeated:!0}]);class Ii extends H{constructor(t){super(),this.trackSid="",this.subscribedQualities=[],this.subscribedCodecs=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Ii().fromBinary(t,n)}static fromJson(t,n){return new Ii().fromJson(t,n)}static fromJsonString(t,n){return new Ii().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ii,t,n)}}Ii.runtime=w;Ii.typeName="livekit.SubscribedQualityUpdate";Ii.fields=w.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:fr,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:_i,repeated:!0}]);class Vr extends H{constructor(t){super(),this.participantSid="",this.allTracks=!1,this.trackSids=[],this.participantIdentity="",w.util.initPartial(t,this)}static fromBinary(t,n){return new Vr().fromBinary(t,n)}static fromJson(t,n){return new Vr().fromJson(t,n)}static fromJsonString(t,n){return new Vr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Vr,t,n)}}Vr.runtime=w;Vr.typeName="livekit.TrackPermission";Vr.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]);class Wr extends H{constructor(t){super(),this.allParticipants=!1,this.trackPermissions=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Wr().fromBinary(t,n)}static fromJson(t,n){return new Wr().fromJson(t,n)}static fromJsonString(t,n){return new Wr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Wr,t,n)}}Wr.runtime=w;Wr.typeName="livekit.SubscriptionPermission";Wr.fields=w.util.newFieldList(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:Vr,repeated:!0}]);class Mi extends H{constructor(t){super(),this.participantSid="",this.trackSid="",this.allowed=!1,w.util.initPartial(t,this)}static fromBinary(t,n){return new Mi().fromBinary(t,n)}static fromJson(t,n){return new Mi().fromJson(t,n)}static fromJsonString(t,n){return new Mi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Mi,t,n)}}Mi.runtime=w;Mi.typeName="livekit.SubscriptionPermissionUpdate";Mi.fields=w.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]);class Jr extends H{constructor(t){super(),this.publishTracks=[],this.dataChannels=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new Jr().fromBinary(t,n)}static fromJson(t,n){return new Jr().fromJson(t,n)}static fromJsonString(t,n){return new Jr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Jr,t,n)}}Jr.runtime=w;Jr.typeName="livekit.SyncState";Jr.fields=w.util.newFieldList(()=>[{no:1,name:"answer",kind:"message",T:Ht},{no:2,name:"subscription",kind:"message",T:Un},{no:3,name:"publish_tracks",kind:"message",T:dr,repeated:!0},{no:4,name:"data_channels",kind:"message",T:Hr,repeated:!0},{no:5,name:"offer",kind:"message",T:Ht}]);class Hr extends H{constructor(t){super(),this.label="",this.id=0,this.target=nn.PUBLISHER,w.util.initPartial(t,this)}static fromBinary(t,n){return new Hr().fromBinary(t,n)}static fromJson(t,n){return new Hr().fromJson(t,n)}static fromJsonString(t,n){return new Hr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Hr,t,n)}}Hr.runtime=w;Hr.typeName="livekit.DataChannelInfo";Hr.fields=w.util.newFieldList(()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:w.getEnumType(nn)}]);class zt extends H{constructor(t){super(),this.scenario={case:void 0},w.util.initPartial(t,this)}static fromBinary(t,n){return new zt().fromBinary(t,n)}static fromJson(t,n){return new zt().fromJson(t,n)}static fromJsonString(t,n){return new zt().fromJsonString(t,n)}static equals(t,n){return w.util.equals(zt,t,n)}}zt.runtime=w;zt.typeName="livekit.SimulateScenario";zt.fields=w.util.newFieldList(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:w.getEnumType(_d),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"}]);class qr extends H{constructor(t){super(),this.timestamp=le.zero,this.rtt=le.zero,w.util.initPartial(t,this)}static fromBinary(t,n){return new qr().fromBinary(t,n)}static fromJson(t,n){return new qr().fromJson(t,n)}static fromJsonString(t,n){return new qr().fromJsonString(t,n)}static equals(t,n){return w.util.equals(qr,t,n)}}qr.runtime=w;qr.typeName="livekit.Ping";qr.fields=w.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]);class Oi extends H{constructor(t){super(),this.lastPingTimestamp=le.zero,this.timestamp=le.zero,w.util.initPartial(t,this)}static fromBinary(t,n){return new Oi().fromBinary(t,n)}static fromJson(t,n){return new Oi().fromJson(t,n)}static fromJsonString(t,n){return new Oi().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Oi,t,n)}}Oi.runtime=w;Oi.typeName="livekit.Pong";Oi.fields=w.util.newFieldList(()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]);class po extends H{constructor(t){super(),this.regions=[],w.util.initPartial(t,this)}static fromBinary(t,n){return new po().fromBinary(t,n)}static fromJson(t,n){return new po().fromJson(t,n)}static fromJsonString(t,n){return new po().fromJsonString(t,n)}static equals(t,n){return w.util.equals(po,t,n)}}po.runtime=w;po.typeName="livekit.RegionSettings";po.fields=w.util.newFieldList(()=>[{no:1,name:"regions",kind:"message",T:Ai,repeated:!0}]);class Ai extends H{constructor(t){super(),this.region="",this.url="",this.distance=le.zero,w.util.initPartial(t,this)}static fromBinary(t,n){return new Ai().fromBinary(t,n)}static fromJson(t,n){return new Ai().fromJson(t,n)}static fromJsonString(t,n){return new Ai().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Ai,t,n)}}Ai.runtime=w;Ai.typeName="livekit.RegionInfo";Ai.fields=w.util.newFieldList(()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]);class Li extends H{constructor(t){super(),this.trackSid="",this.err=bl.SE_UNKNOWN,w.util.initPartial(t,this)}static fromBinary(t,n){return new Li().fromBinary(t,n)}static fromJson(t,n){return new Li().fromJson(t,n)}static fromJsonString(t,n){return new Li().fromJsonString(t,n)}static equals(t,n){return w.util.equals(Li,t,n)}}Li.runtime=w;Li.typeName="livekit.SubscriptionResponse";Li.fields=w.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:w.getEnumType(bl)}]);class Ga extends Error{constructor(t,n){super(n||"an error has occured"),this.code=t}}class tt extends Ga{constructor(t,n,r){super(1,t),this.status=r,this.reason=n}}class e0 extends Ga{constructor(t){super(21,t??"device is unsupported")}}class Rr extends Ga{constructor(t){super(20,t??"track is invalid")}}class C3 extends Ga{constructor(t){super(10,t??"unsupported server")}}class Nt extends Ga{constructor(t){super(12,t??"unexpected connection state")}}class eg extends Ga{constructor(t){super(13,t??"unable to negotiate")}}var Sl;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(Sl||(Sl={}));(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(Sl||(Sl={}));class Ft{}Ft.setTimeout=function(){return setTimeout(...arguments)};Ft.setInterval=function(){return setInterval(...arguments)};Ft.clearTimeout=function(){return clearTimeout(...arguments)};Ft.clearInterval=function(){return clearInterval(...arguments)};const T3=/version\/(\d+(\.?_?\d+)+)/i;let dp;function Cs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e>"u"&&typeof navigator>"u")return;const n=(e??navigator.userAgent).toLowerCase();if(dp===void 0||t){const r=E3.find(i=>{let{test:o}=i;return o.test(n)});dp=r==null?void 0:r.describe(n)}return dp}const E3=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:fp(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:fp(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:fp(T3,e),os:e.includes("mobile/")?"iOS":"macOS"}}}];function fp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}var x3="1.14.2";const P3=x3,R3=10;class Fe{constructor(t,n,r,i,o){this.width=t,this.height=n,this.encoding={maxBitrate:r,maxFramerate:i,priority:o}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}const _3=["vp8","h264"],ZT=["vp8","h264","vp9","av1"];function I3(e){return!!_3.find(t=>t===e)}var Id;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3},e.musicStereo={maxBitrate:48e3},e.musicHighQuality={maxBitrate:64e3},e.musicHighQualityStereo={maxBitrate:96e3}})(Id||(Id={}));const kl={h90:new Fe(160,90,9e4,20),h180:new Fe(320,180,16e4,20),h216:new Fe(384,216,18e4,20),h360:new Fe(640,360,45e4,20),h540:new Fe(960,540,8e5,25),h720:new Fe(1280,720,17e5,30),h1080:new Fe(1920,1080,3e6,30),h1440:new Fe(2560,1440,5e6,30),h2160:new Fe(3840,2160,8e6,30)},tg={h120:new Fe(160,120,7e4,20),h180:new Fe(240,180,125e3,20),h240:new Fe(320,240,14e4,20),h360:new Fe(480,360,33e4,20),h480:new Fe(640,480,5e5,20),h540:new Fe(720,540,6e5,25),h720:new Fe(960,720,13e5,30),h1080:new Fe(1440,1080,23e5,30),h1440:new Fe(1920,1440,38e5,30)},eE={h360fps3:new Fe(640,360,2e5,3,"medium"),h720fps5:new Fe(1280,720,4e5,5,"medium"),h720fps15:new Fe(1280,720,15e5,15,"medium"),h720fps30:new Fe(1280,720,2e6,30,"medium"),h1080fps15:new Fe(1920,1080,25e5,15,"medium"),h1080fps30:new Fe(1920,1080,4e6,30,"medium")};function M3(e){if(!(typeof e>"u"))return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}var U;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.StateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged"})(U||(U={}));var $;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded"})($||($={}));var G;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate"})(G||(G={}));var W;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed"})(W||(W={}));const O3=5e3,bc=[];class A extends Zr.EventEmitter{constructor(t,n){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=A.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),O3):this.handleAppVisibilityChanged()},this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=A.Source.Unknown}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===A.Kind.Video&&(n="video"),this.attachedElements.length===0&&A.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(bc.forEach(i=>{i.parentElement===null&&!t&&(t=i)}),t&&bc.splice(bc.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),ia(this.mediaStreamTrack,t);const r=t.srcObject.getTracks();return r.some(i=>i.kind==="audio")&&t.play().then(()=>{this.emit(W.AudioPlaybackStarted)}).catch(i=>{i.name==="NotAllowedError"?this.emit(W.AudioPlaybackFailed,i):E.warn("could not playback audio",i),t&&r.some(o=>o.kind==="video")&&i.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(W.ElementAttached,t),t}detach(t){try{if(t){ka(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(W.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{ka(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(W.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),bc.forEach(r=>{r.parentElement||(n=!1)}),n&&bc.push(t)}}handleAppVisibilityChanged(){return _(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden"})}addAppVisibilityListener(){an()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){an()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function ia(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let r;e.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(e)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(e)),t.autoplay=!0,t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(lh()||$a())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function ka(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(l){l.Audio="audio",l.Video="video",l.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(l){l.Camera="camera",l.Microphone="microphone",l.ScreenShare="screen_share",l.ScreenShareAudio="screen_share_audio",l.Unknown="unknown"})(n=e.Source||(e.Source={}));let r;(function(l){l.Active="active",l.Paused="paused",l.Unknown="unknown"})(r=e.StreamState||(e.StreamState={}));function i(l){switch(l){case t.Audio:return Ut.AUDIO;case t.Video:return Ut.VIDEO;default:return Ut.DATA}}e.kindToProto=i;function o(l){switch(l){case Ut.AUDIO:return t.Audio;case Ut.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=o;function s(l){switch(l){case n.Camera:return ct.CAMERA;case n.Microphone:return ct.MICROPHONE;case n.ScreenShare:return ct.SCREEN_SHARE;case n.ScreenShareAudio:return ct.SCREEN_SHARE_AUDIO;default:return ct.UNKNOWN}}e.sourceToProto=s;function a(l){switch(l){case ct.CAMERA:return n.Camera;case ct.MICROPHONE:return n.Microphone;case ct.SCREEN_SHARE:return n.ScreenShare;case ct.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=a;function c(l){switch(l){case ws.ACTIVE:return r.Active;case ws.PAUSED:return r.Paused;default:return r.Unknown}}e.streamStateFromProto=c})(A||(A={}));function tE(e,t,n){var r;const i=(r=M3(e))!==null&&r!==void 0?r:{};return i.audio===!0&&(i.audio={}),i.video===!0&&(i.video={}),i.audio&&ng(i.audio,t),i.video&&ng(i.video,n),i}function ng(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function ch(e){const t={};if(e.video)if(typeof e.video=="object"){const n={},r=n,i=e.video;Object.keys(i).forEach(o=>{switch(o){case"resolution":ng(r,i.resolution);break;default:r[o]=i[o]}}),t.video=n}else t.video=e.video;else t.video=!1;return e.audio?typeof e.audio=="object"?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function A3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return _(this,void 0,void 0,function*(){const n=nE();if(n){const r=n.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,o=new Uint8Array(i);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),yield Ro(t),r.getByteTimeDomainData(o);const a=o.some(c=>c!==128&&c!==0);return n.close(),!a}return!1})}function nE(){const e=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(e)return new e({latencyHint:"interactive"})}function L3(e){return e===A.Source.Microphone?"audioinput":e===A.Source.Camera?"videoinput":void 0}function N3(e){var t,n;let r=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&(r=typeof r=="boolean"?{}:r,lh()?r=Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio}}function rE(e){const t=e.split("/")[1].toLowerCase();if(!ZT.includes(t))throw Error("Video codec not supported: ".concat(t));return t}const D3="|",dS="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function U3(e){const t=e.split(D3);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function Ro(e){return _(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}function fS(){return"addTransceiver"in RTCPeerConnection.prototype}function hS(){return"addTrack"in RTCPeerConnection.prototype}function F3(){if(!("getCapabilities"in RTCRtpSender))return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/AV1"){t=!0;break}}return t}function B3(){if(!("getCapabilities"in RTCRtpSender)||$a())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/VP9"){t=!0;break}}return t}function Vc(e){return e==="av1"||e==="vp9"}function rg(e){return document?(e||(e=document.createElement("audio")),"setSinkId"in e):!1}const $3={Chrome:"100",Safari:"15",Firefox:"100"};function j3(e){if(!an()||!("setCodecPreferences"in e))return!1;const t=Cs();if(!(t!=null&&t.name)||!t.version)return!1;const n=$3[t.name];return n?aE(t.version,n)>=0:!1}function $a(){var e;return((e=Cs())===null||e===void 0?void 0:e.name)==="Firefox"}function z3(){var e;return((e=Cs())===null||e===void 0?void 0:e.name)==="Chrome"}function lh(){var e;return((e=Cs())===null||e===void 0?void 0:e.name)==="Safari"}function iE(){return an()?/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function an(){return typeof document<"u"}function Ts(){return navigator.product=="ReactNative"}function ig(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function oE(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function sE(){if(!Ts())return;let e=oE();if(e)return e.platform}function pS(){if(an())return window.devicePixelRatio;if(Ts()){let e=oE();if(e)return e.devicePixelRatio}return 1}function aE(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let o=0;o<i;++o){const s=parseInt(n[o],10),a=parseInt(r[o],10);if(s>a)return 1;if(s<a)return-1;if(o===i-1&&s===a)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function V3(e){for(const t of e)t.target.handleResize(t)}function W3(e){for(const t of e)t.target.handleVisibilityChanged(t)}let hp=null;const mS=()=>(hp||(hp=new ResizeObserver(V3)),hp);let pp=null;const gS=()=>(pp||(pp=new IntersectionObserver(W3,{root:null,rootMargin:"0px"})),pp);function J3(){var e;const t=new gi({sdk:Ba.JS,protocol:R3,version:P3});return Ts()&&(t.os=(e=sE())!==null&&e!==void 0?e:""),t}function vS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=e,i.height=t;const o=i.getContext("2d");o==null||o.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(e/2,t/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());const s=i.captureStream(),[a]=s.getTracks();if(!a)throw Error("Could not get empty media stream video track");return a.enabled=n,a}let Sc;function mp(){if(!Sc){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Sc]=r.stream.getAudioTracks(),!Sc)throw Error("Could not get empty media stream audio track");Sc.enabled=!1}return Sc.clone()}class cE{constructor(t,n){this.onFinally=n,this.promise=new Promise((r,i)=>_(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,t&&(yield t(r,i))})).finally(()=>{var r;return(r=this.onFinally)===null||r===void 0?void 0:r.call(this)})}}class Ui{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(i=>t=()=>{this._locks-=1,i()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}}function H3(e){return ZT.includes(e)}function ds(e){if(typeof e=="string")return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function q3(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function yS(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}var Wc;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(Wc||(Wc={}));class K3{constructor(){this.pendingTasks=new Map,this.taskMutex=new Ui,this.nextTaskIndex=0}run(t){return _(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Wc.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=Wc.RUNNING,yield t()}finally{n.status=Wc.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return _(this,void 0,void 0,function*(){return this.run(()=>_(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}const G3=["syncState","trickle","offer","answer","simulate","leave"];function Y3(e){const t=G3.indexOf(e.case)>=0;return E.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}class t0{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.rtt=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.isConnected=!1,this.isReconnecting=!1,this.useJSON=t,this.requestQueue=new K3,this.queuedRequests=[],this.closingLock=new Ui}join(t,n,r,i){return _(this,void 0,void 0,function*(){return this.isConnected=!1,this.options=r,yield this.connect(t,n,r,i)})}reconnect(t,n,r,i){return _(this,void 0,void 0,function*(){if(!this.options){E.warn("attempted to reconnect without signal options being set, ignoring");return}return this.isReconnecting=!0,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(t,n,r,i){this.connectOptions=r,t=q3(t),t=t.replace(/\/$/,""),t+="/rtc";const o=J3(),s=Q3(n,o,r);return new Promise((a,c)=>_(this,void 0,void 0,function*(){const l=()=>_(this,void 0,void 0,function*(){this.close(),clearTimeout(u),c(new tt("room connection has been cancelled (signal)"))}),u=setTimeout(()=>{this.close(),c(new tt("room connection has timed out (signal)"))},r.websocketTimeout);i!=null&&i.aborted&&l(),i==null||i.addEventListener("abort",l),E.debug("connecting to ".concat(t+s)),this.ws&&(yield this.close()),this.ws=new WebSocket(t+s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(u)},this.ws.onerror=d=>_(this,void 0,void 0,function*(){if(!this.isConnected){clearTimeout(u);try{const f=yield fetch("http".concat(t.substring(2),"/validate").concat(s));if(f.status.toFixed(0).startsWith("4")){const m=yield f.text();c(new tt(m,0,f.status))}else c(new tt("Internal error",2,f.status))}catch{c(new tt("server was not reachable",1))}return}this.handleWSError(d)}),this.ws.onmessage=d=>_(this,void 0,void 0,function*(){var f,m,g,p;let S;if(typeof d.data=="string"){const v=JSON.parse(d.data);S=Fr.fromJson(v)}else if(d.data instanceof ArrayBuffer)S=Fr.fromBinary(new Uint8Array(d.data));else{E.error("could not decode websocket message: ".concat(typeof d.data));return}if(!this.isConnected){let v=!1;if(((f=S.message)===null||f===void 0?void 0:f.case)==="join"?(this.isConnected=!0,i==null||i.removeEventListener("abort",l),this.pingTimeoutDuration=S.message.value.pingTimeout,this.pingIntervalDuration=S.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(E.debug("ping config",{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}),this.startPingInterval()),a(S.message.value)):r.reconnect?(this.isConnected=!0,i==null||i.removeEventListener("abort",l),this.startPingInterval(),((m=S.message)===null||m===void 0?void 0:m.case)==="reconnect"?a((g=S.message)===null||g===void 0?void 0:g.value):(a(),v=!0)):r.reconnect||c(new tt("did not receive join response, got ".concat((p=S.message)===null||p===void 0?void 0:p.case," instead"))),!v)return}this.signalLatency&&(yield Ro(this.signalLatency)),this.handleSignalResponse(S)}),this.ws.onclose=d=>{E.warn("websocket closed",{ev:d}),this.handleOnClose(d.reason)}}))}close(){return _(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();try{if(this.isConnected=!1,this.ws){this.ws.onmessage=null,this.ws.onopen=null,this.ws.onclose=null;const n=new Promise(r=>{this.ws?this.ws.onclose=()=>{r()}:r()});this.ws.readyState<this.ws.CLOSING&&(this.ws.close(),yield Promise.race([n,Ro(250)])),this.ws=void 0}}finally{this.clearPingInterval(),t()}})}sendOffer(t){E.debug("sending offer",t),this.sendRequest({case:"offer",value:Md(t)})}sendAnswer(t){return E.debug("sending answer"),this.sendRequest({case:"answer",value:Md(t)})}sendIceCandidate(t,n){return E.trace("sending ice candidate",t),this.sendRequest({case:"trickle",value:new lr({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new ur({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return this.sendRequest({case:"updateMetadata",value:new jr({metadata:t,name:n})})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new $r({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new Wr({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:le.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new qr({timestamp:le.parse(Date.now()),rtt:le.parse(this.rtt)})})])}sendLeave(){return this.sendRequest({case:"leave",value:new Fn({canReconnect:!1,reason:Di.CLIENT_INITIATED})})}sendRequest(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return _(this,void 0,void 0,function*(){if(!n&&!Y3(t)&&this.isReconnecting){this.queuedRequests.push(()=>_(this,void 0,void 0,function*(){yield this.sendRequest(t,!0)}));return}if(n||(yield this.requestQueue.flush()),this.signalLatency&&(yield Ro(this.signalLatency)),!this.ws||this.ws.readyState!==this.ws.OPEN){E.error("cannot send signal request before connected, type: ".concat(t==null?void 0:t.case));return}const i=new yi({message:t});try{this.useJSON?this.ws.send(i.toJsonString()):this.ws.send(i.toBinary())}catch(o){E.error("error sending signal message",{error:o})}})}handleSignalResponse(t){var n,r;const i=t.message;if(i==null){E.debug("received unsupported message");return}if(i.case==="answer"){const o=bS(i.value);this.onAnswer&&this.onAnswer(o)}else if(i.case==="offer"){const o=bS(i.value);this.onOffer&&this.onOffer(o)}else if(i.case==="trickle"){const o=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(o,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"?this.resetPingTimeout():i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout()):E.debug("unsupported message",i)}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}this.isReconnecting=!1}handleOnClose(t){return _(this,void 0,void 0,function*(){if(!this.isConnected)return;const n=this.onClose;yield this.close(),E.debug("websocket connection closed: ".concat(t)),n&&n(t)})}handleWSError(t){E.error("websocket error",t)}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){E.warn("ping timeout duration not set");return}this.pingTimeout=Ft.setTimeout(()=>{E.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString())),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Ft.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){E.warn("ping interval duration not set");return}E.debug("start ping interval"),this.pingInterval=Ft.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){E.debug("clearing ping interval"),this.clearPingTimeout(),this.pingInterval&&Ft.clearInterval(this.pingInterval)}}function bS(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function Md(e){return new Ht({sdp:e.sdp,type:e.type})}function Q3(e,t,n){var r;const i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",Ts()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.publishOnly!==void 0&&i.set("publish",n.publishOnly),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),"?".concat(i.toString())}const X3=10,fu="lk_e2ee",Z3="LKFrameEncryptionKey",e4={sharedKey:!1,ratchetSalt:Z3,ratchetWindowSize:8,failureTolerance:X3};var _o;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(_o||(_o={}));var SS;(function(e){e.KeyRatcheted="keyRatcheted"})(SS||(SS={}));var mo;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(mo||(mo={}));var kS;(function(e){e.Error="cryptorError"})(kS||(kS={}));function t4(){return n4()||og()}function og(){return typeof window.RTCRtpScriptTransform<"u"}function n4(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}class n$ extends Zr.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r)=>{E.debug("key ratcheted event received",{material:n,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},e4),t),this.on(_o.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,r){const i={key:t,participantIdentity:n,keyIndex:r};this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(_o.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(_o.RatchetRequest,t,n)}}function n0(e,t,n){var r,i,o;t===void 0&&(t=50),n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,c=n.maxWait,l=Date.now(),u=[];function d(){if(c!==void 0){var m=Date.now()-l;if(m+t>=c)return c-m}return t}var f=function(){var m=[].slice.call(arguments),g=this;return new Promise(function(p,S){var v=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,l=Date.now(),!s){var k=e.apply(g,m);a&&a(k),u.forEach(function(b){return(0,b.resolve)(k)}),u=[]}},d()),v){var y=e.apply(g,m);return a&&a(y),p(y)}u.push({resolve:p,reject:S})})};return f.cancel=function(m){o!==void 0&&clearTimeout(o),u.forEach(function(g){return(0,g.reject)(m)}),u=[]},f}const wS="default";class Vt{static getInstance(){return this.instance===void 0&&(this.instance=new Vt),this.instance}getDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r;return _(this,void 0,void 0,function*(){if(((r=Vt.userMediaPromiseMap)===null||r===void 0?void 0:r.size)>0){E.debug("awaiting getUserMedia promise");try{t?yield Vt.userMediaPromiseMap.get(t):yield Promise.all(Vt.userMediaPromiseMap.values())}catch{E.warn("error waiting for media permissons")}}let i=yield navigator.mediaDevices.enumerateDevices();if(n&&!(lh()&&this.hasDeviceInUse(t))&&(i.length===0||i.some(s=>{const a=s.label==="",c=t?s.kind===t:!0;return a&&c}))){const s={video:t!=="audioinput"&&t!=="audiooutput",audio:t!=="videoinput"},a=yield navigator.mediaDevices.getUserMedia(s);i=yield navigator.mediaDevices.enumerateDevices(),a.getTracks().forEach(c=>{c.stop()})}return t&&(i=i.filter(o=>o.kind===t)),i})}normalizeDeviceId(t,n,r){return _(this,void 0,void 0,function*(){if(n!==wS)return n;const o=(yield this.getDevices(t)).find(s=>s.groupId===r&&s.deviceId!==wS);return o==null?void 0:o.deviceId})}hasDeviceInUse(t){return t?Vt.userMediaPromiseMap.has(t):Vt.userMediaPromiseMap.size>0}}Vt.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];Vt.userMediaPromiseMap=new Map;const r4=1e3;class ja extends A{get constraints(){return this._constraints}constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;super(t,n),this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>E.debug("track mute bounce got cancelled by an unmute event")),this.debouncedTrackMuteHandler=n0(()=>_(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>_(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(W.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new Ui,this.pauseUpstreamLock=new Ui,this.processorLock=new Ui,this.setMediaStreamTrack(t,!0),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==A.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}setMediaStreamTrack(t,n){return _(this,void 0,void 0,function*(){if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{ka(this._mediaStreamTrack,i)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop()),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let r;if(this.processor&&t&&this.processorElement){if(E.debug("restarting processor"),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");ia(t,this.processorElement),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&(yield this.sender.replaceTrack(r??t)),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{ia(r??t,i)}))})}waitForDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r4;var n;return _(this,void 0,void 0,function*(){if(this.kind===A.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((n=Cs())===null||n===void 0?void 0:n.os)==="iOS"&&(yield Ro(10));const r=Date.now();for(;Date.now()-r<t;){const i=this.dimensions;if(i)return i;yield Ro(50)}throw new Rr("unable to get track dimensions after timeout")})}getDeviceId(){return _(this,void 0,void 0,function*(){if(this.source===A.Source.ScreenShare)return;const{deviceId:t,groupId:n}=this._mediaStreamTrack.getSettings(),r=this.kind===A.Kind.Audio?"audioinput":"videoinput";return Vt.getInstance().normalizeDeviceId(r,t,n)})}mute(){return _(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return _(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _(this,void 0,void 0,function*(){if(!this.sender)throw new Rr("unable to replace an unpublished track");return E.debug("replace MediaStreamTrack"),yield this.setMediaStreamTrack(t),this.providedByUser=n,this.processor&&(yield this.stopProcessor()),this})}restart(t){return _(this,void 0,void 0,function*(){t||(t=this._constraints),E.debug("restarting track with constraints",t);const n={audio:!1,video:!1};this.kind===A.Kind.Video?n.video=t:n.audio=t,this.attachedElements.forEach(o=>{ka(this.mediaStreamTrack,o)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const i=(yield navigator.mediaDevices.getUserMedia(n)).getTracks()[0];return i.addEventListener("ended",this.handleEnded),E.debug("re-acquired MediaStreamTrack"),yield this.setMediaStreamTrack(i),this._constraints=t,this.emit(W.Restarted,this),this})}setTrackMuted(t){E.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted")),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?W.Muted:W.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return _(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),iE()&&(E.debug("visibility changed, is in Background: ".concat(this.isInBackground)),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(E.debug("track needs to be reacquired, restarting ".concat(this.source)),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return _(this,void 0,void 0,function*(){const t=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){E.warn("unable to pause upstream for an unpublished track");return}this._isUpstreamPaused=!0,this.emit(W.UpstreamPaused,this);const n=Cs();if((n==null?void 0:n.name)==="Safari"&&aE(n.version,"12.0")<0)throw new e0("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{t()}})}resumeUpstream(){return _(this,void 0,void 0,function*(){const t=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){E.warn("unable to resume upstream for an unpublished track");return}this._isUpstreamPaused=!1,this.emit(W.UpstreamResumed,this),yield this.sender.replaceTrack(this._mediaStreamTrack)}finally{t()}})}getRTCStatsReport(){var t;return _(this,void 0,void 0,function*(){return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r,i;return _(this,void 0,void 0,function*(){const o=yield this.processorLock.lock();try{if(E.debug("setting up processor"),this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement=(r=this.processorElement)!==null&&r!==void 0?r:document.createElement(this.kind),this.processorElement.muted=!0,ia(this._mediaStreamTrack,this.processorElement),this.processorElement.play().catch(a=>E.error("failed to play processor element",{error:a}));const s={kind:this.kind,track:this._mediaStreamTrack,element:this.processorElement};if(yield t.init(s),this.processor=t,this.processor.processedTrack){for(const a of this.attachedElements)a!==this.processorElement&&n&&(ka(this._mediaStreamTrack,a),ia(this.processor.processedTrack,a));yield(i=this.sender)===null||i===void 0?void 0:i.replaceTrack(this.processor.processedTrack)}}finally{o()}})}getProcessor(){return this.processor}stopProcessor(){var t,n;return _(this,void 0,void 0,function*(){this.processor&&(E.debug("stopping processor"),(t=this.processor.processedTrack)===null||t===void 0||t.stop(),yield this.processor.destroy(),this.processor=void 0,(n=this.processorElement)===null||n===void 0||n.remove(),this.processorElement=void 0,yield this.restart())})}}class i4 extends Zr.EventEmitter{constructor(t){super(),this.onWorkerMessage=n=>{var r,i;const{kind:o,data:s}=n.data;switch(o){case"error":E.error(s.error.message),this.emit(mo.EncryptionError,s.error);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"enable":if(this.encryptionEnabled!==s.enabled&&s.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(mo.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){const a=(i=this.room)===null||i===void 0?void 0:i.getParticipantByIdentity(s.participantIdentity);if(!a)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(mo.ParticipantEncryptionStatusChanged,s.enabled,a)}this.encryptionEnabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"ratchetKey":this.keyProvider.emit(_o.KeyRatcheted,s.material,s.keyIndex);break}},this.onWorkerError=n=>{E.error("e2ee worker encountered an error:",{error:n.error}),this.emit(mo.EncryptionError,n.error)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1}setup(t){if(!t4())throw new e0("tried to setup end-to-end encryption on an unsupported browser");if(E.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions()}};this.worker&&(E.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){E.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?E.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(G.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(U.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Wt.NONE,i.identity)),t.on(U.ConnectionStateChanged,r=>{r===ge.Connected&&t.participants.forEach(i=>{i.tracks.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==Wt.NONE,i.identity)})})}).on(U.TrackUnsubscribed,(r,i,o)=>{var s;const a={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:r.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(a)}).on(U.TrackSubscribed,(r,i,o)=>{this.setupE2EEReceiver(r,o.identity,i.trackInfo)}).on(U.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity),n.getKeys().forEach(r=>{this.postKey(r)})}),t.localParticipant.on($.LocalTrackPublished,r=>_(this,void 0,void 0,function*(){this.setupE2EESender(r.track,r.track.sender)})),n.on(_o.SetKey,r=>this.postKey(r)).on(_o.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:i}=t;var o;if(!this.worker)throw Error("could not set key, worker is missing");const s={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(s)}postEnable(t,n){if(this.worker){const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?rE(r.mimeType):void 0)}}setupE2EESender(t,n){if(!(t instanceof ja)||!n){n||E.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,r,i){return _(this,void 0,void 0,function*(){if(this.worker){if(og()){const o={kind:"decode",participantIdentity:r,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(fu in t&&i){const c={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(c);return}let o=t.writableStream,s=t.readableStream;if(!o||!s){const c=t.createEncodedStreams();t.writableStream=c.writable,o=c.writable,t.readableStream=c.readable,s=c.readable}const a={kind:"decode",data:{readableStream:s,writableStream:o,trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(a,[s,o])}t[fu]=!0}})}handleSender(t,n,r){var i;if(!(fu in t||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(og()){E.info("initialize script transform");const o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{E.info("initialize encoded streams");const o=t.createEncodedStreams(),s={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(s,[o.readable,o.writable])}t[fu]=!0}}}var lE={},uE={exports:{}},CS=uE.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(CS).forEach(function(e){var t=CS[e];t.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var dE=uE.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},n=function(a,c,l,u){if(u&&!l)c[u]=t(a[1]);else for(var d=0;d<l.length;d+=1)a[d+1]!=null&&(c[l[d]]=t(a[d+1]))},r=function(a,c,l){var u=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:u&&!c[a.name]&&(c[a.name]={});var d=a.push?{}:u?c[a.name]:c;n(l.match(a.reg),d,a.names,a.name),a.push&&c[a.push].push(d)},i=dE,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],u=c;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(d){var f=d[0],m=d.slice(2);f==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var g=0;g<(i[f]||[]).length;g+=1){var p=i[f][g];if(p.reg.test(m))return r(p,u,m)}}),c.media=l,c};var s=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(s,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(s,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var u,d=!1;return l[0]!=="~"?u=t(l):(u=t(l.substring(1,l.length)),d=!0),{scid:u,paused:d}})})}})(lE);var gp=dE,o4=/%[sdv%]/g,s4=function(e){var t=1,n=arguments,r=n.length;return e.replace(o4,function(i){if(t>=r)return i;var o=n[t];switch(t+=1,i){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},kc=function(e,t,n){var r=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,i=[e+"="+r];if(t.names)for(var o=0;o<t.names.length;o+=1){var s=t.names[o];t.name?i.push(n[t.name][s]):i.push(n[t.names[o]])}else i.push(n[t.name]);return s4.apply(null,i)},a4=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c4=["i","c","b","a"],l4=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var n=t.outerOrder||a4,r=t.innerOrder||c4,i=[];return n.forEach(function(o){gp[o].forEach(function(s){s.name in e&&e[s.name]!=null?i.push(kc(o,s,e)):s.push in e&&e[s.push]!=null&&e[s.push].forEach(function(a){i.push(kc(o,s,a))})})}),e.media.forEach(function(o){i.push(kc("m",gp.m[0],o)),r.forEach(function(s){gp[s].forEach(function(a){a.name in o&&o[a.name]!=null?i.push(kc(s,a,o)):a.push in o&&o[a.push]!=null&&o[a.push].forEach(function(c){i.push(kc(s,a,c))})})})}),i.join(`\r
`)+`\r
`},u4=lE,d4=l4,vp=d4,Rc=u4.parse;const TS=.7,wa={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class ES extends Zr.EventEmitter{get pc(){if(this._pc)return this._pc;throw new Nt("Expected peer connection to be available")}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=n0(r=>{this.emit(wa.NegotiationStarted);try{this.createAndSendOffer()}catch(i){if(r)r(i);else throw i}},100),this._pc=z3()?new RTCPeerConnection(t,n):new RTCPeerConnection(t),this._pc.onicecandidate=r=>{var i;r.candidate&&((i=this.onIceCandidate)===null||i===void 0||i.call(this,r.candidate))},this._pc.onicecandidateerror=r=>{var i;(i=this.onIceCandidateError)===null||i===void 0||i.call(this,r)},this._pc.onconnectionstatechange=()=>{var r,i,o;(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,(o=(i=this._pc)===null||i===void 0?void 0:i.connectionState)!==null&&o!==void 0?o:"closed")},this._pc.ondatachannel=r=>{var i;(i=this.onDataChannel)===null||i===void 0||i.call(this,r)},this._pc.ontrack=r=>{var i;(i=this.onTrack)===null||i===void 0||i.call(this,r)}}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return _(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t){var n;return _(this,void 0,void 0,function*(){let r;if(t.type==="offer"){let{stereoMids:i,nackMids:o}=h4(t);this.remoteStereoMids=i,this.remoteNackMids=o}else if(t.type==="answer"){const i=Rc((n=t.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"&&this.trackBitrates.some(s=>{if(!s.transceiver||o.mid!=s.transceiver.mid)return!1;let a=0;if(o.rtp.some(l=>l.codec.toUpperCase()===s.codec.toUpperCase()?(a=l.payload,!0):!1),a===0)return!0;let c=!1;for(const l of o.fmtp)if(l.payload===a){l.config=l.config.split(";").filter(u=>!u.includes("maxaveragebitrate")).join(";"),s.maxbr>0&&(l.config+=";maxaveragebitrate=".concat(s.maxbr*1e3)),c=!0;break}return c||s.maxbr>0&&o.fmtp.push({payload:a,config:"maxaveragebitrate=".concat(s.maxbr*1e3)}),!0})}),r=vp(i)}yield this.setMungedSDP(t,r,!0),this.pendingCandidates.forEach(i=>{this.pc.addIceCandidate(i)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,this.createAndSendOffer()):t.type==="answer"&&(this.emit(wa.NegotiationComplete),t.sdp&&Rc(t.sdp).media.forEach(o=>{o.type==="video"&&this.emit(wa.RTPVideoPayloadTypes,o.rtp)}))})}createAndSendOffer(t){var n;return _(this,void 0,void 0,function*(){if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(E.debug("restarting ICE"),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this.pc.remoteDescription;if(t!=null&&t.iceRestart&&o)yield this.pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){E.warn("could not createOffer with closed peer connection");return}E.debug("starting to negotiate");const r=yield this.pc.createOffer(t),i=Rc((n=r.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"?xS(o,[],[]):o.type==="video"&&(f4(o),this.trackBitrates.some(s=>{if(!o.msid||!s.cid||!o.msid.includes(s.cid))return!1;let a=0;if(o.rtp.some(l=>l.codec.toUpperCase()===s.codec.toUpperCase()?(a=l.payload,!0):!1),a===0)return!0;let c=!1;for(const l of o.fmtp)if(l.payload===a){l.config.includes("x-google-start-bitrate")||(l.config+=";x-google-start-bitrate=".concat(s.maxbr*TS)),l.config.includes("x-google-max-bitrate")||(l.config+=";x-google-max-bitrate=".concat(s.maxbr)),c=!0;break}return c||o.fmtp.push({payload:a,config:"x-google-start-bitrate=".concat(s.maxbr*TS,";x-google-max-bitrate=").concat(s.maxbr)}),!0}))}),yield this.setMungedSDP(r,vp(i)),this.onOffer(r)})}createAndSetAnswer(){var t;return _(this,void 0,void 0,function*(){const n=yield this.pc.createAnswer(),r=Rc((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(i=>{i.type==="audio"&&xS(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,vp(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){return this.pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){return this.pc.setConfiguration(t)}canRemoveTrack(){return!!this.pc.removeTrack}removeTrack(t){return this.pc.removeTrack(t)}getConnectionState(){return this.pc.connectionState}getICEConnectionState(){return this.pc.iceConnectionState}getSignallingState(){return this.pc.signalingState}getTransceivers(){return this.pc.getTransceivers()}getSenders(){return this.pc.getSenders()}getLocalDescription(){return this.pc.localDescription}getRemoteDescription(){return this.pc.remoteDescription}getConnectedAddress(){var t;return _(this,void 0,void 0,function*(){if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":i.set(a.id,"".concat(a.address,":").concat(a.port));break}}),n==="")return;const s=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(s!==void 0)return i.get(s)})}close(){this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)}setMungedSDP(t,n,r){return _(this,void 0,void 0,function*(){if(n){const i=t.sdp;t.sdp=n;try{E.debug("setting munged ".concat(r?"remote":"local"," description")),r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(o){E.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),{error:o,sdp:n}),t.sdp=i}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(i){let o="unknown error";i instanceof Error?o=i.message:typeof i=="string"&&(o=i);const s={error:o,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),E.error("unable to set ".concat(t.type),s),new eg(o)}})}}function xS(e,t,n){let r=0;e.rtp.some(i=>i.codec==="opus"?(r=i.payload,!0):!1),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(i=>i.payload===r&&i.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(i=>i.payload===r?(i.config.includes("stereo=1")||(i.config+=";stereo=1"),!0):!1))}function f4(e){var t,n,r,i;const o=(n=(t=e.rtp[0])===null||t===void 0?void 0:t.codec)===null||n===void 0?void 0:n.toLowerCase();if(!Vc(o))return;let s=0;((r=e.ext)===null||r===void 0?void 0:r.some(c=>c.uri===dS?!0:(c.value>s&&(s=c.value),!1)))||(i=e.ext)===null||i===void 0||i.push({value:s+1,uri:dS})}function h4(e){var t;const n=[],r=[],i=Rc((t=e.sdp)!==null&&t!==void 0?t:"");let o=0;return i.media.forEach(s=>{var a;s.type==="audio"&&(s.rtp.some(c=>c.codec==="opus"?(o=c.payload,!0):!1),!((a=s.rtcpFb)===null||a===void 0)&&a.some(c=>c.payload===o&&c.type==="nack")&&r.push(s.mid),s.fmtp.some(c=>c.payload===o?(c.config.includes("sprop-stereo=1")&&n.push(s.mid),!0):!1))}),{stereoMids:n,nackMids:r}}const fE="vp8",p4={audioBitrate:Id.music.maxBitrate,audioPreset:Id.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:eE.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:fE,backupCodec:!1},hE={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},pE={resolution:kl.h720.resolution},m4={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new c3,disconnectOnPageLeave:!0,expWebAudioMix:!1},mE={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3},PS="_lossy",RS="_reliable",g4=2*1e3,_S="leave-reconnect";var hn;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(hn||(hn={}));class v4 extends Zr.EventEmitter{get isClosed(){return this._isClosed}constructor(t){super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=mE.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=hn.New,this._isClosed=!0,this.pendingTrackResolvers={},this.hasPublished=!1,this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.handleDataChannel=n=>{let{channel:r}=n;return _(this,void 0,void 0,function*(){if(r){if(r.label===RS)this.reliableDCSub=r;else if(r.label===PS)this.lossyDCSub=r;else return;E.debug("on data channel ".concat(r.id,", ").concat(r.label)),r.onmessage=this.handleDataMessage}})},this.handleDataMessage=n=>_(this,void 0,void 0,function*(){var r,i;const o=yield this.dataProcessLock.lock();try{let s;if(n.data instanceof ArrayBuffer)s=n.data;else if(n.data instanceof Blob)s=yield n.data.arrayBuffer();else{E.error("unsupported data type",n.data);return}const a=Mr.fromBinary(new Uint8Array(s));((r=a.value)===null||r===void 0?void 0:r.case)==="speaker"?this.emit(G.ActiveSpeakersUpdate,a.value.value.speakers):((i=a.value)===null||i===void 0?void 0:i.case)==="user"&&this.emit(G.DataPacketReceived,a.value.value,a.kind)}finally{o()}}),this.handleDataError=n=>{const i=n.currentTarget.maxRetransmits===0?"lossy":"reliable";if(n instanceof ErrorEvent&&n.error){const{error:o}=n.error;E.error("DataChannel error on ".concat(i,": ").concat(n.message),o)}else E.error("Unknown DataChannel error on ".concat(i),n)},this.handleBufferedAmountLow=n=>{const i=n.currentTarget.maxRetransmits===0?mt.LOSSY:mt.RELIABLE;this.updateAndEmitDCBufferStatus(i)},this.handleDisconnect=(n,r)=>{if(this._isClosed)return;E.warn("".concat(n," disconnected")),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const i=a=>{E.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(a,"ms. giving up")),this.emit(G.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(s===null){i(o);return}n===_S&&(s=0),E.debug("reconnecting in ".concat(s,"ms")),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Ft.setTimeout(()=>this.attemptReconnect(r),s)},this.waitForRestarted=()=>new Promise((n,r)=>{this.pcState===hn.Connected&&n();const i=()=>{this.off(G.Disconnected,o),n()},o=()=>{this.off(G.Restarted,i),r()};this.once(G.Restarted,i),this.once(G.Disconnected,o)}),this.updateAndEmitDCBufferStatus=n=>{const r=this.isBufferStatusLow(n);typeof r<"u"&&r!==this.dcBufferStatus.get(n)&&(this.dcBufferStatus.set(n,r),this.emit(G.DCBufferStatusChanged,r,n))},this.isBufferStatusLow=n=>{const r=this.dataChannelForKind(n);if(r)return r.bufferedAmount<=r.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.isReconnecting&&(this.clearReconnectTimeout(),this.attemptReconnect(Mn.RR_SIGNAL_DISCONNECTED))},this.client=new t0,this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new Ui,this.dataProcessLock=new Ui,this.dcBufferStatus=new Map([[mt.LOSSY,!0],[mt.RELIABLE,!0]]),this.client.onParticipantUpdate=n=>this.emit(G.ParticipantUpdate,n),this.client.onConnectionQuality=n=>this.emit(G.ConnectionQualityUpdate,n),this.client.onRoomUpdate=n=>this.emit(G.RoomUpdate,n),this.client.onSubscriptionError=n=>this.emit(G.SubscriptionError,n),this.client.onSubscriptionPermissionUpdate=n=>this.emit(G.SubscriptionPermissionUpdate,n),this.client.onSpeakersChanged=n=>this.emit(G.SpeakersChanged,n),this.client.onStreamStateUpdate=n=>this.emit(G.StreamStateChanged,n)}join(t,n,r,i){return _(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(t,n,r,i);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.publisher||this.configure(o),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof tt&&o.reason===1&&(E.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts)),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,r,i);throw o}})}close(){return _(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.emit(G.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return _(this,void 0,void 0,function*(){this.publisher&&this.publisher.getSignallingState()!=="closed"&&this.publisher.getSenders().forEach(n=>{var r,i;try{!((r=this.publisher)===null||r===void 0)&&r.canRemoveTrack()&&((i=this.publisher)===null||i===void 0||i.removeTrack(n))}catch(o){E.warn("could not removeTrack",{error:o})}}),this.publisher&&(this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),this.hasPublished=!1,this.primaryTransport=void 0;const t=n=>{n&&(n.close(),n.onbufferedamountlow=null,n.onclose=null,n.onclosing=null,n.onerror=null,n.onmessage=null,n.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return _(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Rr("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(new tt("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[t.cid]={resolve:o=>{clearTimeout(i),n(o)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){var n;if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:r}=this.pendingTrackResolvers[t.track.id];r&&r(),delete this.pendingTrackResolvers[t.track.id]}try{return(n=this.publisher)===null||n===void 0||n.removeTrack(t),!0}catch(r){E.warn("failed to remove track",{error:r,method:"removeTrack"})}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return _(this,void 0,void 0,function*(){if(this.primaryTransport!==void 0)return this.primaryTransport.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){var n,r;if(this.publisher||this.subscriber)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const i=this.makeRTCConfiguration(t);!((r=this.signalOpts)===null||r===void 0)&&r.e2eeEnabled&&(E.debug("E2EE - setting up transports with insertable streams"),i.encodedInsertableStreams=!0);const o={optional:[{googDscp:!0}]};this.publisher=new ES(i,o),this.subscriber=new ES(i),this.emit(G.TransportsCreated,this.publisher,this.subscriber),this.publisher.onIceCandidate=l=>{E.trace("adding ICE candidate for peer",l),this.client.sendIceCandidate(l,nn.PUBLISHER)},this.subscriber.onIceCandidate=l=>{this.client.sendIceCandidate(l,nn.SUBSCRIBER)},this.publisher.onOffer=l=>{this.client.sendOffer(l)};let s=this.publisher,a=this.subscriber,c=t.subscriberPrimary;c&&(s=this.subscriber,a=this.publisher,this.subscriber.onDataChannel=this.handleDataChannel),this.primaryTransport=s,s.onConnectionStateChange=l=>_(this,void 0,void 0,function*(){if(E.debug("primary PC state changed ".concat(l)),l==="connected"){const u=this.pcState===hn.New;this.pcState=hn.Connected,u&&this.emit(G.Connected,t)}else l==="failed"&&this.pcState===hn.Connected&&(this.pcState=hn.Disconnected,this.handleDisconnect("primary peerconnection",c?Mn.RR_SUBSCRIBER_FAILED:Mn.RR_PUBLISHER_FAILED))}),a.onConnectionStateChange=l=>_(this,void 0,void 0,function*(){E.debug("secondary PC state changed ".concat(l)),l==="failed"&&this.handleDisconnect("secondary peerconnection",c?Mn.RR_PUBLISHER_FAILED:Mn.RR_SUBSCRIBER_FAILED)}),this.subscriber.onTrack=l=>{this.emit(G.MediaTrackAdded,l.track,l.streams[0],l.receiver)},this.createDataChannels()}setupSignalClientCallbacks(){this.client.onAnswer=t=>_(this,void 0,void 0,function*(){this.publisher&&(E.debug("received server answer",{RTCSdpType:t.type,signalingState:this.publisher.getSignallingState().toString()}),yield this.publisher.setRemoteDescription(t))}),this.client.onTrickle=(t,n)=>{!this.publisher||!this.subscriber||(E.trace("got ICE candidate from peer",{candidate:t,target:n}),n===nn.PUBLISHER?this.publisher.addIceCandidate(t):this.subscriber.addIceCandidate(t))},this.client.onOffer=t=>_(this,void 0,void 0,function*(){if(!this.subscriber)return;E.debug("received server offer",{RTCSdpType:t.type,signalingState:this.subscriber.getSignallingState().toString()}),yield this.subscriber.setRemoteDescription(t);const n=yield this.subscriber.createAndSetAnswer();this.client.sendAnswer(n)}),this.client.onLocalTrackPublished=t=>{if(E.debug("received trackPublishedResponse",t),!this.pendingTrackResolvers[t.cid]){E.error("missing track resolver for ".concat(t.cid));return}const{resolve:n}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],n(t.track)},this.client.onTokenRefresh=t=>{this.token=t},this.client.onClose=()=>{this.handleDisconnect("signal",Mn.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{t!=null&&t.canReconnect?(this.fullReconnectOnNext=!0,this.primaryTransport=void 0,this.handleDisconnect(_S)):(this.emit(G.Disconnected,t==null?void 0:t.reason),this.close()),E.trace("leave request",{leave:t})}}makeRTCConfiguration(t){const n=Object.assign({},this.rtcConfig);if(t.iceServers&&!n.iceServers){const r=[];t.iceServers.forEach(i=>{const o={urls:i.urls};i.username&&(o.username=i.username),i.credential&&(o.credential=i.credential),r.push(o)}),n.iceServers=r}return t.clientConfiguration&&t.clientConfiguration.forceRelay===br.ENABLED&&(n.iceTransportPolicy="relay"),n.sdpSemantics="unified-plan",n.continualGatheringPolicy="gather_continually",n}createDataChannels(){this.publisher&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.publisher.createDataChannel(PS,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.createDataChannel(RS,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(t,n,r){if(!("getCapabilities"in RTCRtpSender))return;const i=RTCRtpSender.getCapabilities(n);if(!i)return;E.debug("get capabilities",i);const o=[],s=[],a=[];i.codecs.forEach(c=>{const l=c.mimeType.toLowerCase();if(l==="audio/opus"){o.push(c);return}if(!(l==="video/".concat(r))){a.push(c);return}if(r==="h264"){c.sdpFmtpLine&&c.sdpFmtpLine.includes("profile-level-id=42e01f")?o.push(c):s.push(c);return}o.push(c)}),j3(t)&&t.setCodecPreferences(o.concat(s,a))}createSender(t,n,r){return _(this,void 0,void 0,function*(){if(fS())return yield this.createTransceiverRTCRtpSender(t,n,r);if(hS())return E.warn("using add-track fallback"),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new Nt("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,i){return _(this,void 0,void 0,function*(){if(fS())return this.createSimulcastTransceiverSender(t,n,r,i);if(hS())return E.debug("using add-track fallback"),this.createRTCRtpSender(t.mediaStreamTrack);throw new Nt("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return _(this,void 0,void 0,function*(){if(!this.publisher)throw new Nt("publisher is closed");const i=[];t.mediaStream&&i.push(t.mediaStream);const o={direction:"sendonly",streams:i};r&&(o.sendEncodings=r);const s=yield this.publisher.addTransceiver(t.mediaStreamTrack,o);return t.kind===A.Kind.Video&&n.videoCodec&&(this.setPreferredCodec(s,t.kind,n.videoCodec),t.codec=n.videoCodec),s.sender})}createSimulcastTransceiverSender(t,n,r,i){return _(this,void 0,void 0,function*(){if(!this.publisher)throw new Nt("publisher is closed");const o={direction:"sendonly"};i&&(o.sendEncodings=i);const s=yield this.publisher.addTransceiver(n.mediaStreamTrack,o);if(r.videoCodec)return this.setPreferredCodec(s,t.kind,r.videoCodec),t.setSimulcastTrackSender(r.videoCodec,s.sender),s.sender})}createRTCRtpSender(t){return _(this,void 0,void 0,function*(){if(!this.publisher)throw new Nt("publisher is closed");return this.publisher.addTrack(t)})}attemptReconnect(t){var n,r,i;return _(this,void 0,void 0,function*(){if(!this._isClosed&&!this.attemptingReconnect){(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===br.DISABLED||((i=(r=this.primaryTransport)===null||r===void 0?void 0:r.getSignallingState())!==null&&i!==void 0?i:"closed")==="closed")&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let s=!0;o instanceof Nt?(E.debug("received unrecoverable error",{error:o}),s=!1):o instanceof hu||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Mn.RR_UNKNOWN):(E.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up")),this.emit(G.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){E.warn("encountered error in reconnect policy",{error:n})}return null}restartConnection(t){var n,r,i;return _(this,void 0,void 0,function*(){try{if(!this.url||!this.token)throw new Nt("could not reconnect, url or token not saved");E.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),this.emit(G.Restarting),this.client.isConnected&&(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw E.warn("attempted connection restart, without signal options present"),new hu;o=yield this.join(t??this.url,this.token,this.signalOpts)}catch(s){throw s instanceof tt&&s.reason===0?new Nt("could not reconnect, token might be expired"):new hu}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");this.client.setReconnected(),this.emit(G.SignalRestarted,o),yield this.waitForPCReconnected(),(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(G.Restarted)}catch(o){const s=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),o}})}resumeConnection(t){var n;return _(this,void 0,void 0,function*(){if(!this.url||!this.token)throw new Nt("could not reconnect, url or token not saved");if(!this.publisher||!this.subscriber)throw new Nt("publisher and subscriber connections unset");E.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),this.emit(G.Resuming);try{this.setupSignalClientCallbacks();const r=yield this.client.reconnect(this.url,this.token,this.participantSid,t);if(r){const i=this.makeRTCConfiguration(r);this.publisher.setConfiguration(i),this.subscriber.setConfiguration(i)}}catch(r){let i="";throw r instanceof Error&&(i=r.message),r instanceof tt&&r.reason===0?new Nt("could not reconnect, token might be expired"):new hu(i)}if(this.emit(G.SignalResumed),this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");this.subscriber.restartingIce=!0,this.hasPublished&&(yield this.publisher.createAndSendOffer({iceRestart:!0})),yield this.waitForPCReconnected(),this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),this.emit(G.Resumed)})}waitForPCInitialConnection(t,n){return _(this,void 0,void 0,function*(){if(this.pcState!==hn.Connected){if(this.pcState!==hn.New)throw new Nt("Expected peer connection to be new on initial connection");return new Promise((r,i)=>{const o=()=>{E.warn("closing engine"),Ft.clearTimeout(a),i(new tt("room connection has been cancelled",3))};n!=null&&n.signal.aborted&&o(),n==null||n.signal.addEventListener("abort",o);const s=()=>{Ft.clearTimeout(a),n==null||n.signal.removeEventListener("abort",o),r()},a=Ft.setTimeout(()=>{this.off(G.Connected,s),i(new tt("could not establish pc connection"))},t??this.peerConnectionTimeout);this.once(G.Connected,s)})}})}waitForPCReconnected(){var t,n;return _(this,void 0,void 0,function*(){const r=Date.now();let i=r;for(this.pcState=hn.Reconnecting,E.debug("waiting for peer connection to reconnect");i-r<this.peerConnectionTimeout&&this.primaryTransport!==void 0;){if(i-r>g4&&((t=this.primaryTransport)===null||t===void 0?void 0:t.getConnectionState())==="connected"&&(!this.hasPublished||((n=this.publisher)===null||n===void 0?void 0:n.getConnectionState())==="connected")&&(this.pcState=hn.Connected),this.pcState===hn.Connected)return;yield Ro(100),i=Date.now()}throw new tt("could not establish PC connection")})}sendDataPacket(t,n){return _(this,void 0,void 0,function*(){const r=t.toBinary();yield this.ensurePublisherConnected(n);const i=this.dataChannelForKind(n);i&&i.send(r),this.updateAndEmitDCBufferStatus(n)})}ensureDataTransportConnected(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;var r,i,o;return _(this,void 0,void 0,function*(){const s=n?this.subscriber:this.publisher,a=n?"Subscriber":"Publisher";if(!s)throw new tt("".concat(a," connection not set"));!n&&!(!((r=this.publisher)===null||r===void 0)&&r.isICEConnected)&&((i=this.publisher)===null||i===void 0?void 0:i.getICEConnectionState())!=="checking"&&this.negotiate();const c=this.dataChannelForKind(t,n);if((c==null?void 0:c.readyState)==="open")return;const l=new Date().getTime()+this.peerConnectionTimeout;for(;new Date().getTime()<l;){if(s.isICEConnected&&((o=this.dataChannelForKind(t,n))===null||o===void 0?void 0:o.readyState)==="open")return;yield Ro(50)}throw new tt("could not establish ".concat(a," connection, state: ").concat(s.getICEConnectionState()))})}ensurePublisherConnected(t){return _(this,void 0,void 0,function*(){yield this.ensureDataTransportConnected(t,!1)})}verifyTransport(){return!(!this.primaryTransport||this.primaryTransport.getConnectionState()==="closed"||this.primaryTransport.getConnectionState()==="failed"||this.hasPublished&&this.subscriberPrimary&&(!this.publisher||this.publisher.getConnectionState()==="closed"||this.publisher.getConnectionState()==="failed")||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return new Promise((t,n)=>{if(!this.publisher){n(new eg("publisher is not defined"));return}this.hasPublished=!0;const r=()=>{E.debug("engine disconnected while negotiation was ongoing"),o(),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(G.Closing,r);const i=setTimeout(()=>{n("negotiation timed out"),this.handleDisconnect("negotiation",Mn.RR_SIGNAL_DISCONNECTED)},this.peerConnectionTimeout),o=()=>{clearTimeout(i),this.off(G.Closing,r)};this.publisher.once(wa.NegotiationStarted,()=>{var s;(s=this.publisher)===null||s===void 0||s.once(wa.NegotiationComplete,()=>{o(),t()})}),this.publisher.once(wa.RTPVideoPayloadTypes,s=>{const a=new Map;s.forEach(c=>{const l=c.codec.toLowerCase();H3(l)&&a.set(c.payload,l)}),this.emit(G.RTPVideoMapUpdate,a)}),this.publisher.negotiate(s=>{o(),n(s),s instanceof eg&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Mn.RR_UNKNOWN)})})}dataChannelForKind(t,n){if(n){if(t===mt.LOSSY)return this.lossyDCSub;if(t===mt.RELIABLE)return this.reliableDCSub}else{if(t===mt.LOSSY)return this.lossyDC;if(t===mt.RELIABLE)return this.reliableDC}}failNext(){this.shouldFailNext=!0}clearReconnectTimeout(){this.reconnectTimeout&&Ft.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){an()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){an()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class hu extends Error{}class IS{constructor(t,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return ig(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(t){return _(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(t));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),E.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(t){return _(this,void 0,void 0,function*(){const n=yield fetch("".concat(y4(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:t});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new tt("Could not fetch region settings: ".concat(n.statusText),n.status===401?0:void 0,n.status)})}}function y4(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}const r0=2e3;function uh(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-r)*8*1e3/(e.timestamp-t.timestamp)}class Qt extends ja{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(t,A.Kind.Audio,n,r),this.stopOnMute=!1,this.monitorSender=()=>_(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(s){E.error("could not get audio sender stats",{error:s});return}o&&this.prevStats&&(this._currentBitrate=uh(o,this.prevStats)),this.prevStats=o}),this.audioContext=i,this.checkForSilence()}setDeviceId(t){return _(this,void 0,void 0,function*(){return this._constraints.deviceId===t?!0:(this._constraints.deviceId=t,this.isMuted||(yield this.restartTrack()),this.isMuted||ds(t)===this.mediaStreamTrack.getSettings().deviceId)})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return _(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===A.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(E.debug("stopping mic track"),this._mediaStreamTrack.stop()),yield t.mute.call(this),this}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return _(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==ds(this._constraints.deviceId);return this.source===A.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(E.debug("reacquiring mic track"),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return _(this,void 0,void 0,function*(){let n;if(t){const r=ch({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return _(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){an()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},r0)))}setProcessor(t){var n;return _(this,void 0,void 0,function*(){const r=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");if(this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};E.debug("setting up audio processor ".concat(t.name)),yield t.init(i),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack))}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){var t;return _(this,void 0,void 0,function*(){if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return _(this,void 0,void 0,function*(){const t=yield A3(this);return t&&(this.isMuted||E.warn("silence detected on local audio track"),this.emit(W.AudioSilenceDetected)),t})}}function gE(e,t){switch(e.kind){case"audio":return new Qt(e,t,!1);case"video":return new pn(e,t,!1);default:throw new Rr("unsupported track type: ".concat(e.kind))}}const b4=Object.values(kl),S4=Object.values(tg),k4=Object.values(eE),w4=[kl.h180,kl.h360],C4=[tg.h180,tg.h360],T4=e=>[{scaleResolutionDownBy:2,fps:3}].map(n=>{var r;return new Fe(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=e.encoding.maxFramerate)!==null&&r!==void 0?r:30)/n.fps)))),n.fps,e.encoding.priority)}),sg=["q","h","f"];function ag(e,t,n,r){var i,o;let s=r==null?void 0:r.videoEncoding;e&&(s=r==null?void 0:r.screenShareEncoding);const a=r==null?void 0:r.simulcast,c=r==null?void 0:r.scalabilityMode,l=r==null?void 0:r.videoCodec;if(!s&&!a&&!c||!t||!n)return[{}];s||(s=x4(e,t,n,l),E.debug("using video encoding",s));const u=new Fe(t,n,s.maxBitrate,s.maxFramerate,s.priority);if(c&&Vc(l)){E.debug("using svc with scalabilityMode ".concat(c));const m=new vE(c),g=[];if(m.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(c));for(let p=0;p<m.spatial;p+=1)g.push({rid:sg[2-p],maxBitrate:s.maxBitrate/Math.pow(3,p),maxFramerate:u.encoding.maxFramerate});return g[0].scalabilityMode=c,E.debug("encodings",g),g}if(!a)return[s];let d=[];e?d=(i=OS(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:MS(e,u):d=(o=OS(r==null?void 0:r.videoSimulcastLayers))!==null&&o!==void 0?o:MS(e,u);let f;if(d.length>0){const m=d[0];d.length>1&&([,f]=d);const g=Math.max(t,n);if(g>=960&&f)return yp(t,n,[m,f,u]);if(g>=480)return yp(t,n,[m,u])}return yp(t,n,[u])}function E4(e,t,n){var r,i,o,s;if(!n.backupCodec||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&E.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const a=e.mediaStreamTrack.getSettings(),c=(r=a.width)!==null&&r!==void 0?r:(i=e.dimensions)===null||i===void 0?void 0:i.width,l=(o=a.height)!==null&&o!==void 0?o:(s=e.dimensions)===null||s===void 0?void 0:s.height;return ag(e.source===A.Source.ScreenShare,c,l,n)}function x4(e,t,n,r){const i=P4(e,t,n);let{encoding:o}=i[0];const s=Math.max(t,n);for(let a=0;a<i.length;a+=1){const c=i[a];if(o=c.encoding,c.width>=s)break}if(r)switch(r){case"av1":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function P4(e,t,n){if(e)return k4;const r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?b4:S4}function MS(e,t){if(e)return T4(t);const{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?w4:C4}function yp(e,t,n){const r=[];if(n.forEach((i,o)=>{if(o>=sg.length)return;const s=Math.min(e,t),c={rid:sg[o],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate};i.encoding.maxFramerate&&(c.maxFramerate=i.encoding.maxFramerate);const l=$a()||o===0;i.encoding.priority&&l&&(c.priority=i.encoding.priority,c.networkPriority=i.encoding.priority),r.push(c)}),Ts()&&sE()==="ios"){let i;r.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let o=!0;r.forEach(s=>{var a;s.maxFramerate!=i&&(o&&(o=!1,E.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),E.info('Setting framerate of encoding "'.concat((a=s.rid)!==null&&a!==void 0?a:"",'" to ').concat(i)),s.maxFramerate=i)})}return r}function OS(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class vE{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}const R4=5e3;class pn extends ja{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;super(t,A.Kind.Video,n,r),this.simulcastCodecs=new Map,this.monitorSender=()=>_(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let i;try{i=yield this.getSenderStats()}catch(s){E.error("could not get audio sender stats",{error:s});return}const o=new Map(i.map(s=>[s.rid,s]));if(this.prevStats){let s=0;o.forEach((a,c)=>{var l;const u=(l=this.prevStats)===null||l===void 0?void 0:l.get(c);s+=uh(a,u)}),this._currentBitrate=s}this.prevStats=o}),this.senderLock=new Ui}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!an())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},r0))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});var n,r,i,o,s;return _(this,void 0,void 0,function*(){yield t.pauseUpstream.call(this);try{for(var a=!0,c=Vs(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;a=!0)o=l.value,a=!1,yield(s=o.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(u){r={error:u}}finally{try{!a&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});var n,r,i,o,s;return _(this,void 0,void 0,function*(){yield t.resumeUpstream.call(this);try{for(var a=!0,c=Vs(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;a=!0){o=l.value,a=!1;const u=o;yield(s=u.sender)===null||s===void 0?void 0:s.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return _(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===A.Source.Camera&&!this.isUserProvided&&(E.debug("stopping camera track"),this._mediaStreamTrack.stop()),yield t.mute.call(this),this}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return _(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===A.Source.Camera&&!this.isUserProvided&&(E.debug("reacquiring camera track"),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){var t;return _(this,void 0,void 0,function*(){if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var o;if(i.type==="outbound-rtp"){const s={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,framesSent:i.framesSent,timestamp:i.timestamp,rid:(o=i.rid)!==null&&o!==void 0?o:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges},a=r.get(i.remoteId);a&&(s.jitter=a.jitter,s.packetsLost=a.packetsLost,s.roundTripTime=a.roundTripTime),n.push(s)}}),n})}setPublishingQuality(t){const n=[];for(let r=vt.LOW;r<=vt.HIGH;r+=1)n.push(new fr({quality:r,enabled:r<=t}));E.debug("setting publishing quality. max quality ".concat(t)),this.setPublishingLayers(n)}setDeviceId(t){return _(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===ds(t)?!0:(this._constraints.deviceId=t,this.isMuted||(yield this.restartTrack()),this.isMuted||ds(t)===this._mediaStreamTrack.getSettings().deviceId)})}restartTrack(t){var n,r,i,o;return _(this,void 0,void 0,function*(){let s;if(t){const u=ch({video:t});typeof u.video!="boolean"&&(s=u.video)}yield this.restart(s);try{for(var a=!0,c=Vs(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;a=!0){o=l.value,a=!1;const u=o;u.sender&&(u.mediaStreamTrack=this.mediaStreamTrack.clone(),yield u.sender.replaceTrack(u.mediaStreamTrack))}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}setProcessor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});var i,o,s,a,c,l;return _(this,void 0,void 0,function*(){if(yield r.setProcessor.call(this,t,n),!((c=this.processor)===null||c===void 0)&&c.processedTrack)try{for(var u=!0,d=Vs(this.simulcastCodecs.values()),f;f=yield d.next(),i=f.done,!i;u=!0)a=f.value,u=!1,yield(l=a.sender)===null||l===void 0?void 0:l.replaceTrack(this.processor.processedTrack)}catch(m){o={error:m}}finally{try{!u&&!i&&(s=d.return)&&(yield s.call(d))}finally{if(o)throw o.error}}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t))throw new Error("".concat(t," already added"));const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},R4))}setPublishingCodecs(t){var n,r,i,o,s,a,c;return _(this,void 0,void 0,function*(){if(E.debug("setting publishing codecs",{codecs:t,currentCodec:this.codec}),!this.codec&&t.length>0)return yield this.setPublishingLayers(t[0].qualities),[];this.subscribedCodecs=t;const l=[];try{for(n=!0,r=Vs(t);i=yield r.next(),o=i.done,!o;n=!0){c=i.value,n=!1;const u=c;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(u.qualities);else{const d=this.simulcastCodecs.get(u.codec);if(E.debug("try setPublishingCodec for ".concat(u.codec),d),!d||!d.sender){for(const f of u.qualities)if(f.enabled){l.push(u.codec);break}}else d.encodings&&(E.debug("try setPublishingLayersForSender ".concat(u.codec)),yield AS(d.sender,d.encodings,u.qualities,this.senderLock))}}}catch(u){s={error:u}}finally{try{!n&&!o&&(a=r.return)&&(yield a.call(r))}finally{if(s)throw s.error}}return l})}setPublishingLayers(t){return _(this,void 0,void 0,function*(){E.debug("setting publishing layers",t),!(!this.sender||!this.encodings)&&(yield AS(this.sender,this.encodings,t,this.senderLock))})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return _(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),iE()&&this.isInBackground&&this.source===A.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function AS(e,t,n,r){return _(this,void 0,void 0,function*(){const i=yield r.lock();E.debug("setPublishingLayersForSender",{sender:e,qualities:n,senderEncodings:t});try{const o=e.getParameters(),{encodings:s}=o;if(!s)return;if(s.length!==t.length){E.warn("cannot set publishing layers, encodings mismatch");return}let a=!1;!1&&s[0].scalabilityMode||s.forEach((l,u)=>{var d;let f=(d=l.rid)!==null&&d!==void 0?d:"";f===""&&(f="q");const m=yE(f),g=n.find(p=>p.quality===m);g&&l.active!==g.enabled&&(a=!0,l.active=g.enabled,E.debug("setting layer ".concat(g.quality," to ").concat(l.active?"enabled":"disabled")),$a()&&(g.enabled?(l.scaleResolutionDownBy=t[u].scaleResolutionDownBy,l.maxBitrate=t[u].maxBitrate,l.maxFrameRate=t[u].maxFrameRate):(l.scaleResolutionDownBy=4,l.maxBitrate=10,l.maxFrameRate=2)))}),a&&(o.encodings=s,E.debug("setting encodings",o.encodings),yield e.setParameters(o))}finally{i()}})}function yE(e){switch(e){case"f":return vt.HIGH;case"h":return vt.MEDIUM;case"q":return vt.LOW;default:return vt.HIGH}}function LS(e,t,n,r){if(!n)return[new Jt({quality:vt.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,o=new vE(i),s=[];for(let a=0;a<o.spatial;a+=1)s.push(new Jt({quality:vt.HIGH-a,width:Math.ceil(e/Math.pow(2,a)),height:Math.ceil(t/Math.pow(2,a)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(3,a)):0,ssrc:0}));return s}return n.map(i=>{var o,s,a;const c=(o=i.scaleResolutionDownBy)!==null&&o!==void 0?o:1;let l=yE((s=i.rid)!==null&&s!==void 0?s:"");return new Jt({quality:l,width:Math.ceil(e/c),height:Math.ceil(t/c),bitrate:(a=i.maxBitrate)!==null&&a!==void 0?a:0,ssrc:0})})}class bE extends A{constructor(t,n,r,i){super(t,r),this.sid=n,this.receiver=i}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?W.Muted:W.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver=void 0,this._currentBitrate=0,this.emit(W.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){var t;return _(this,void 0,void 0,function*(){return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),r0))}}class Ca extends bE{constructor(t,n,r,i,o){super(t,n,A.Kind.Audio,r),this.monitorReceiver=()=>_(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=uh(s,this.prevStats)),this.prevStats=s}),this.audioContext=i,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;Ts()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(Ts())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return _(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(rg(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.elementVolume&&(t.volume=this.elementVolume),this.sinkId&&rg(t)&&t.setSinkId(this.sinkId),this.audioContext&&n&&(E.debug("using audio context mapping"),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(W.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(W.AudioPlaybackFailed,i)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return _(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const bp=100;class Jc extends bE{constructor(t,n,r,i){super(t,n,A.Kind.Video,r),this.elementInfos=[],this.monitorReceiver=()=>_(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=uh(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=n0(()=>{this.updateDimensions()},bp),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?ka(this._mediaStreamTrack,n):ia(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new _4(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):E.warn("visibility resize observer not triggered")}stopObservingElementInfo(t){if(!this.isAdaptiveStream){E.warn("stopObservingElementInfo ignored");return}const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return _(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"video",framesDecoded:r.framesDecoded,framesDropped:r.framesDropped,framesReceived:r.framesReceived,packetsReceived:r.packetsReceived,packetsLost:r.packetsLost,frameWidth:r.frameWidth,frameHeight:r.frameHeight,pliCount:r.pliCount,firCount:r.firCount,nackCount:r.nackCount,jitter:r.jitter,timestamp:r.timestamp,bytesReceived:r.bytesReceived,decoderImplementation:r.decoderImplementation})}),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return _(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var t,n;const r=this.elementInfos.reduce((a,c)=>Math.max(a,c.visibilityChangedAt||0),0),i=!((n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(a=>a.pictureInPicture),s=this.elementInfos.some(a=>a.visible)&&!i||o;if(this.lastVisible!==s){if(!s&&Date.now()-r<bp){Ft.setTimeout(()=>{this.updateVisibility()},bp);return}this.lastVisible=s,this.emit(W.VisibilityChanged,s,this)}}updateDimensions(){var t,n;let r=0,i=0;const o=this.getPixelDensity();for(const s of this.elementInfos){const a=s.width()*o,c=s.height()*o;a+c>r+i&&(r=a,i=c)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(W.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?pS():n||(pS()>2?2:1)}}class _4{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var i;const{target:o,isIntersecting:s}=r;o===this.element&&(this.isIntersecting=s,this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r;this.isPiP=!0,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=!1,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??NS(t),this.isPiP=an()&&document.pictureInPictureElement===t,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=NS(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var t;(t=this.handleResize)===null||t===void 0||t.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,gS().observe(this.element),mS().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var t,n;(t=gS())===null||t===void 0||t.unobserve(this.element),(n=mS())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function NS(e){let t=e.offsetTop,n=e.offsetLeft;const r=e.offsetWidth,i=e.offsetHeight,{hidden:o}=e,{opacity:s,display:a}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset&&!o&&(s!==""?parseFloat(s)>0:!0)&&a!=="none"}class ai extends Zr.EventEmitter{constructor(t,n,r){super(),this.metadataMuted=!1,this.encryption=Wt.NONE,this.handleMuted=()=>{this.emit(W.Muted)},this.handleUnmuted=()=>{this.emit(W.Unmuted)},this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=A.Source.Unknown}setTrack(t){this.track&&(this.track.off(W.Muted,this.handleMuted),this.track.off(W.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(W.Muted,this.handleMuted),t.on(W.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Wt.NONE}get audioTrack(){if(this.track instanceof Qt||this.track instanceof Ca)return this.track}get videoTrack(){if(this.track instanceof pn||this.track instanceof Jc)return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=A.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===A.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,E.debug("update publication info",{info:t})}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(ai||(ai={}));class wl extends ai{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r){super(t,n.sid,n.name),this.track=void 0,this.handleTrackEnded=()=>{this.emit(W.Ended)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&this.track.off(W.Ended,this.handleTrackEnded),super.setTrack(t),t&&t.on(W.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var t;return _(this,void 0,void 0,function*(){return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){var t;return _(this,void 0,void 0,function*(){return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){var t;return _(this,void 0,void 0,function*(){yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){var t;return _(this,void 0,void 0,function*(){yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}}var hr;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Unknown="unknown"})(hr||(hr={}));function I4(e){switch(e){case Po.EXCELLENT:return hr.Excellent;case Po.GOOD:return hr.Good;case Po.POOR:return hr.Poor;default:return hr.Unknown}}class SE extends Zr.EventEmitter{get isEncrypted(){return this.tracks.size>0&&Array.from(this.tracks.values()).every(t=>t.isEncrypted)}constructor(t,n,r,i){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=hr.Unknown,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=i,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(t){for(const[,n]of this.tracks)if(n.source===t)return n}getTrackByName(t){for(const[,n]of this.tracks)if(n.trackName===t)return n}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrack(A.Source.Camera);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrack(A.Source.Microphone);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrack(A.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,E.trace("update participant info",{info:t}),!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit($.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit($.ParticipantNameChanged,t)}setPermissions(t){var n,r,i,o,s;const a=this.permissions,c=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||t.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||t.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((l,u)=>{var d;return l!==((d=this.permissions)===null||d===void 0?void 0:d.canPublishSources[u])});return this.permissions=t,c&&this.emit($.ParticipantPermissionsChanged,a),c}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit($.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=I4(t),n!==this._connectionQuality&&this.emit($.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(t){this.audioContext=t,this.audioTracks.forEach(n=>(n.track instanceof Ca||n.track instanceof Qt)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(W.Muted,()=>{this.emit($.TrackMuted,t)}),t.on(W.Unmuted,()=>{this.emit($.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.tracks.set(t.trackSid,t),t.kind){case A.Kind.Audio:this.audioTracks.set(t.trackSid,t);break;case A.Kind.Video:this.videoTracks.set(t.trackSid,t);break}}}function M4(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new Vr({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=e.allowAll)!==null&&r!==void 0?r:!1,trackSids:e.allowedTrackSids||[]})}class Cl extends ai{constructor(t,n,r){super(t,n.sid,n.name),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=vt.HIGH,this.handleEnded=i=>{this.setTrack(void 0),this.emit(W.Ended,i)},this.handleVisibilityChange=i=>{E.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(i),{trackSid:this.trackSid}),this.disabled=!i,this.emitTrackUpdate()},this.handleVideoDimensionsChange=i=>{E.debug("adaptivestream video dimensions ".concat(i.width,"x").concat(i.height),{trackSid:this.trackSid}),this.videoDimensions=i,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const i=new Un({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Lr({participantSid:"",trackSids:[this.trackSid]})]});this.emit(W.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?ai.SubscriptionStatus.Unsubscribed:super.isSubscribed?ai.SubscriptionStatus.Subscribed:ai.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?ai.PermissionStatus.Allowed:ai.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return!this.disabled}setEnabled(t){!this.isManualOperationAllowed()||this.disabled===!t||(this.disabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.currentVideoQuality===t||(this.currentVideoQuality=t,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.videoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.videoDimensions)===null||r===void 0?void 0:r.height)===t.height||(this.track instanceof Jc&&(this.videoDimensions=t),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&this.track instanceof Jc&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==t&&(i&&(i.off(W.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(W.VisibilityChanged,this.handleVisibilityChange),i.off(W.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(W.Unsubscribed,i)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(W.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(W.VisibilityChanged,this.handleVisibilityChange),t.on(W.Ended,this.handleEnded),this.emit(W.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(W.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?W.Muted:W.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(W.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(W.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.kind===A.Kind.Video&&this.isAdaptiveStream?(E.warn("adaptive stream is enabled, cannot change video track settings",{trackSid:this.trackSid}),!1):this.isDesired?!0:(E.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}get isAdaptiveStream(){return this.track instanceof Jc&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new Br({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(t.width=Math.ceil(this.videoDimensions.width),t.height=Math.ceil(this.videoDimensions.height)):this.currentVideoQuality!==void 0?t.quality=this.currentVideoQuality:t.quality=vt.HIGH,this.emit(W.UpdateSettings,t)}}class Tl extends SE{static fromParticipantInfo(t,n){return new Tl(t,n.sid,n.identity,n.name,n.metadata)}constructor(t,n,r,i,o){super(n,r||"",i,o),this.signalClient=t,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(W.UpdateSettings,n=>{E.debug("send update settings",n),this.signalClient.sendUpdateTrackSettings(n)}),t.on(W.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(W.SubscriptionPermissionChanged,n=>{this.emit($.TrackSubscriptionPermissionChanged,t,n)}),t.on(W.SubscriptionStatusChanged,n=>{this.emit($.TrackSubscriptionStatusChanged,t,n)}),t.on(W.Subscribed,n=>{this.emit($.TrackSubscribed,n,t)}),t.on(W.Unsubscribed,n=>{this.emit($.TrackUnsubscribed,n,t)}),t.on(W.SubscriptionFailed,n=>{this.emit($.TrackSubscriptionFailed,t.trackSid,n)})}getTrack(t){const n=super.getTrack(t);if(n)return n}getTrackByName(t){const n=super.getTrackByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrack(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.Source.Microphone;const n=this.getTrack(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,i,o,s){let a=this.getTrackPublication(n);if(a||n.startsWith("TR")||this.tracks.forEach(u=>{!a&&t.kind===u.kind.toString()&&(a=u)}),!a){if(s===0){E.error("could not find published track",{participant:this.sid,trackSid:n}),this.emit($.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,i,o,s-1)},150);return}if(t.readyState==="ended"){E.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",{participant:this.sid,trackSid:n}),this.emit($.TrackSubscriptionFailed,n);return}const c=t.kind==="video";let l;return c?l=new Jc(t,n,i,o):l=new Ca(t,n,i,this.audioContext,this.audioOutput),l.source=a.source,l.isMuted=a.isMuted,l.setMediaStream(r),l.start(),a.setTrack(l),this.volumeMap.has(a.source)&&l instanceof Ca&&l.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublication(t){return this.tracks.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(i=>{var o;let s=this.getTrackPublication(i.sid);if(s)s.updateInfo(i);else{const a=A.kindFromProto(i.type);if(!a)return;s=new Cl(a,i,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe),s.updateInfo(i),r.set(i.sid,s);const c=Array.from(this.tracks.values()).find(l=>l.source===(s==null?void 0:s.source));c&&s.source!==A.Source.Unknown&&E.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),{oldTrack:c,newTrack:s,participant:this,participantInfo:t}),this.addTrackPublication(s)}n.set(i.sid,s)}),this.tracks.forEach(i=>{n.has(i.trackSid)||(E.trace("detected removed track on remote participant, unpublishing",{publication:i,participantSid:this.sid}),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit($.TrackPublished,i)}),!0}unpublishTrack(t,n){const r=this.tracks.get(t);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.tracks.delete(t),r.kind){case A.Kind.Audio:this.audioTracks.delete(t);break;case A.Kind.Video:this.videoTracks.delete(t);break}n&&this.emit($.TrackUnpublished,r)}setAudioOutput(t){return _(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTracks.forEach(r=>{var i;r.track instanceof Ca&&n.push(r.track.setSinkId((i=t.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return E.trace("participant event",{participant:this.sid,event:t,args:r}),super.emit(t,...r)}}class El extends SE{constructor(t,n,r,i){super(t,n),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Wt.NONE,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new cE)},this.handleReconnected=()=>{var o,s;(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||s===void 0||s.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var o,s;this.reconnectFuture&&(this.reconnectFuture.promise.catch(a=>E.warn(a)),(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||s===void 0||s.call(o,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.updateTrackSubscriptionPermissions=()=>{E.debug("updating track subscription permissions",{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions}),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>M4(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,s)=>{if(s===void 0&&(s=!0),!o.sid){E.error("could not update mute status for unpublished track",o);return}this.engine.updateMuteStatus(o.sid,s)},this.onTrackUpstreamPaused=o=>{E.debug("upstream paused"),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{E.debug("upstream resumed"),this.onTrackMuted(o,o.isMuted)},this.handleSubscribedQualityUpdate=o=>_(this,void 0,void 0,function*(){var s,a,c,l,u,d;if(!(!((u=this.roomOptions)===null||u===void 0)&&u.dynacast))return;const f=this.videoTracks.get(o.trackSid);if(!f){E.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:o.trackSid});return}if(o.subscribedCodecs.length>0){if(!f.videoTrack)return;const S=yield f.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var m=!0,g=Vs(S),p;p=yield g.next(),s=p.done,!s;m=!0){l=p.value,m=!1;const v=l;I3(v)&&(E.debug("publish ".concat(v," for ").concat(f.videoTrack.sid)),yield this.publishAdditionalCodecForTrack(f.videoTrack,v,f.options))}}catch(v){a={error:v}}finally{try{!m&&!s&&(c=g.return)&&(yield c.call(g))}finally{if(a)throw a.error}}}else o.subscribedQualities.length>0&&(yield(d=f.videoTrack)===null||d===void 0?void 0:d.setPublishingLayers(o.subscribedQualities))}),this.handleLocalTrackUnpublished=o=>{const s=this.tracks.get(o.trackSid);if(!s){E.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:o.trackSid});return}this.unpublishTrack(s.track)},this.handleTrackEnded=o=>_(this,void 0,void 0,function*(){if(o.source===A.Source.ScreenShare||o.source===A.Source.ScreenShareAudio)E.debug("unpublishing local track due to TrackEnded",{track:o.sid}),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(o instanceof Qt||o instanceof pn)try{if(an())try{const s=yield navigator==null?void 0:navigator.permissions.query({name:o.source===A.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw E.warn("user has revoked access to ".concat(o.source)),s.onchange=()=>{s.state!=="denied"&&(o.isMuted||o.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(E.debug("track ended, attempting to use a different device"),yield o.restartTrack())}catch{E.warn("could not restart track, muting instead"),yield o.mute()}}),this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Wt.NONE}getTrack(t){const n=super.getTrack(t);if(n)return n}getTrackByName(t){const n=super.getTrackByName(t);if(n)return n}setupEngine(t){this.engine=t,this.engine.client.onRemoteMuteChanged=(n,r)=>{const i=this.tracks.get(n);!i||!i.track||(r?i.mute():i.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(G.Connected,this.handleReconnected).on(G.SignalRestarted,this.handleReconnected).on(G.SignalResumed,this.handleReconnected).on(G.Restarting,this.handleReconnecting).on(G.Resuming,this.handleReconnecting).on(G.Disconnected,this.handleDisconnected)}setMetadata(t){var n;this.engine.client.sendUpdateLocalMetadata(t,(n=this.name)!==null&&n!==void 0?n:"")}setName(t){var n;this.engine.client.sendUpdateLocalMetadata((n=this.metadata)!==null&&n!==void 0?n:"",t)}setCameraEnabled(t,n,r){return this.setTrackEnabled(A.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(A.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(A.Source.ScreenShare,t,n,r)}setPermissions(t){const n=this.permissions,r=super.setPermissions(t);return r&&n&&this.emit($.ParticipantPermissionsChanged,n),r}setE2EEEnabled(t){return _(this,void 0,void 0,function*(){this.encryptionType=t?Wt.GCM:Wt.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,i){var o,s;return _(this,void 0,void 0,function*(){E.debug("setTrackEnabled",{source:t,enabled:n});let a=this.getTrack(t);if(n)if(a)yield a.unmute();else{let c;if(this.pendingPublishing.has(t)){E.info("skipping duplicate published source",{source:t});return}this.pendingPublishing.add(t);try{switch(t){case A.Source.Camera:c=yield this.createTracks({video:(o=r)!==null&&o!==void 0?o:!0});break;case A.Source.Microphone:c=yield this.createTracks({audio:(s=r)!==null&&s!==void 0?s:!0});break;case A.Source.ScreenShare:c=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Rr(t)}const l=[];for(const d of c)E.info("publishing track",{localTrack:d}),l.push(this.publishTrack(d,i));[a]=yield Promise.all(l)}catch(l){throw c==null||c.forEach(u=>{u.stop()}),l instanceof Error&&!(l instanceof Rr)&&this.emit($.MediaDevicesError,l),l}finally{this.pendingPublishing.delete(t)}}else if(a&&a.track)if(t===A.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const c=this.getTrack(A.Source.ScreenShareAudio);c&&c.track&&this.unpublishTrack(c.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return _(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(A.Source.Camera)||this.pendingPublishing.has(A.Source.Microphone))){this.pendingPublishing.add(A.Source.Camera),this.pendingPublishing.add(A.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(A.Source.Camera),this.pendingPublishing.delete(A.Source.Microphone)}}})}createTracks(t){var n,r;return _(this,void 0,void 0,function*(){const i=tE(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults),o=ch(i);let s;try{s=yield navigator.mediaDevices.getUserMedia(o)}catch(a){throw a instanceof Error&&(o.audio&&(this.microphoneError=a),o.video&&(this.cameraError=a)),a}return o.audio&&(this.microphoneError=void 0),o.video&&(this.cameraError=void 0),s.getTracks().map(a=>{const c=a.kind==="audio";c?t.audio:t.video;let l;const u=c?o.audio:o.video;typeof u!="boolean"&&(l=u);const d=gE(a,l);return d.kind===A.Kind.Video?d.source=A.Source.Camera:d.kind===A.Kind.Audio&&(d.source=A.Source.Microphone),d.mediaStream=s,d})})}createScreenTracks(t){return _(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new e0("getDisplayMedia not supported");const n=N3(t),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Rr("no video track found");const o=new pn(i[0],void 0,!1);o.source=A.Source.ScreenShare;const s=[o];if(r.getAudioTracks().length>0){const a=new Qt(r.getAudioTracks()[0],void 0,!1,this.audioContext);a.source=A.Source.ScreenShareAudio,s.push(a)}return s})}publishTrack(t,n){var r,i,o,s;return _(this,void 0,void 0,function*(){yield(r=this.reconnectFuture)===null||r===void 0?void 0:r.promise,t instanceof ja&&this.pendingPublishPromises.has(t)&&(yield this.pendingPublishPromises.get(t));let a;if(t instanceof MediaStreamTrack)a=t.getConstraints();else{a=t.constraints;let m;switch(t.source){case A.Source.Microphone:m="audioinput";break;case A.Source.Camera:m="videoinput"}m&&this.activeDeviceMap.has(m)&&(a=Object.assign(Object.assign({},a),{deviceId:this.activeDeviceMap.get(m)}))}if(t instanceof MediaStreamTrack)switch(t.kind){case"audio":t=new Qt(t,a,!0,this.audioContext);break;case"video":t=new pn(t,a,!0);break;default:throw new Rr("unsupported MediaStreamTrack kind ".concat(t.kind))}t instanceof Qt&&t.setAudioContext(this.audioContext);let c;if(this.tracks.forEach(m=>{m.track&&m.track===t&&(c=m)}),c)return E.warn("track has already been published, skipping"),c;const l="channelCount"in t.mediaStreamTrack.getSettings()&&t.mediaStreamTrack.getSettings().channelCount===2||t.mediaStreamTrack.getConstraints().channelCount===2,u=(i=n==null?void 0:n.forceStereo)!==null&&i!==void 0?i:l;u&&(n||(n={}),n.dtx===void 0&&E.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work."),n.red===void 0&&E.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(o=n.dtx)!==null&&o!==void 0||(n.dtx=!1),(s=n.red)!==null&&s!==void 0||(n.red=!1));const d=Object.assign(Object.assign({},this.roomOptions.publishDefaults),n);lh()&&this.roomOptions.e2ee&&(E.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari"),d.simulcast=!1),d.source&&(t.source=d.source);const f=this.publish(t,d,u);this.pendingPublishPromises.set(t,f);try{return yield f}catch(m){throw m}finally{this.pendingPublishPromises.delete(t)}})}publish(t,n,r){var i,o,s,a,c,l,u,d,f,m,g,p,S;return _(this,void 0,void 0,function*(){const v=Array.from(this.tracks.values()).find(M=>t instanceof ja&&M.source===t.source);if(v&&t.source!==A.Source.Unknown)try{throw Error("publishing a second track with the same source: ".concat(t.source))}catch(M){M instanceof Error&&E.warn(M.message,{oldTrack:v,newTrack:t,trace:M.stack})}n.stopMicTrackOnMute&&t instanceof Qt&&(t.stopOnMute=!0),t.source===A.Source.ScreenShare&&$a()&&(n.simulcast=!1),n.videoCodec==="av1"&&!F3()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!B3()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=fE);const y=n.videoCodec;t.on(W.Muted,this.onTrackMuted),t.on(W.Unmuted,this.onTrackUnmuted),t.on(W.Ended,this.handleTrackEnded),t.on(W.UpstreamPaused,this.onTrackUpstreamPaused),t.on(W.UpstreamResumed,this.onTrackUpstreamResumed);const k=new cr({cid:t.mediaStreamTrack.id,name:n.name,type:A.kindToProto(t.kind),muted:t.isMuted,source:A.sourceToProto(t.source),disableDtx:!(!((i=n.dtx)!==null&&i!==void 0)||i),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n==null?void 0:n.stream});let b;if(t.kind===A.Kind.Video){let M={width:0,height:0};try{M=yield t.waitForDimensions()}catch{const I=(a=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&a!==void 0?a:kl.h720.resolution;M={width:I.width,height:I.height},E.error("could not determine track dimensions, using defaults",M)}k.width=M.width,k.height=M.height,t instanceof pn&&(Vc(y)&&(t.source===A.Source.ScreenShare&&y==="vp9"&&(n.scalabilityMode="L1T3"),n.scalabilityMode=(c=n.scalabilityMode)!==null&&c!==void 0?c:"L3T3_KEY"),k.simulcastCodecs=[new ar({codec:y,cid:t.mediaStreamTrack.id})],n.backupCodec&&y!==n.backupCodec.codec&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),k.simulcastCodecs.push(new ar({codec:n.backupCodec.codec,cid:""})))),b=ag(t.source===A.Source.ScreenShare,k.width,k.height,n),k.layers=LS(k.width,k.height,b,Vc(n.videoCodec))}else t.kind===A.Kind.Audio&&(b=[{maxBitrate:(u=(l=n.audioPreset)===null||l===void 0?void 0:l.maxBitrate)!==null&&u!==void 0?u:n.audioBitrate,priority:(f=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&f!==void 0?f:"high",networkPriority:(g=(m=n.audioPreset)===null||m===void 0?void 0:m.priority)!==null&&g!==void 0?g:"high"}]);if(!this.engine||this.engine.isClosed)throw new Nt("cannot publish track when not connected");const C=yield this.engine.addTrack(k);let P;if(C.codecs.forEach(M=>{P===void 0&&(P=M.mimeType)}),P&&t.kind===A.Kind.Video){const M=rE(P);M!==y&&(E.debug("falling back to server selected codec",{codec:M}),n.videoCodec=M,b=ag(t.source===A.Source.ScreenShare,k.width,k.height,n))}const T=new wl(t.kind,C,t);if(T.options=n,t.sid=C.sid,!this.engine.publisher)throw new Nt("publisher is closed");if(E.debug("publishing ".concat(t.kind," with encodings"),{encodings:b,trackInfo:C}),t.sender=yield this.engine.createSender(t,n,b),b)if($a()&&t.kind===A.Kind.Audio){let M;for(const R of this.engine.publisher.getTransceivers())if(R.sender===t.sender){M=R;break}M&&this.engine.publisher.setTrackCodecBitrate({transceiver:M,codec:"opus",maxbr:!((p=b[0])===null||p===void 0)&&p.maxBitrate?b[0].maxBitrate/1e3:0})}else t.codec&&Vc(t.codec)&&(!((S=b[0])===null||S===void 0)&&S.maxBitrate)&&this.engine.publisher.setTrackCodecBitrate({cid:k.cid,codec:t.codec,maxbr:b[0].maxBitrate/1e3});return yield this.engine.negotiate(),t instanceof pn?t.startMonitor(this.engine.client):t instanceof Qt&&t.startMonitor(),this.addTrackPublication(T),this.emit($.LocalTrackPublished,T),T})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){var i;return _(this,void 0,void 0,function*(){let o;if(this.tracks.forEach(d=>{d.track&&d.track===t&&(o=d)}),!o)throw new Rr("track is not published");if(!(t instanceof pn))throw new Rr("track is not a video track");const s=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),a=E4(t,n,s);if(!a){E.info("backup codec has been disabled, ignoring request to add additional codec for track");return}const c=t.addSimulcastTrack(n,a),l=new cr({cid:c.mediaStreamTrack.id,type:A.kindToProto(t.kind),muted:t.isMuted,source:A.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:s.videoCodec,cid:c.mediaStreamTrack.id}]});if(l.layers=LS(l.width,l.height,a),!this.engine||this.engine.isClosed)throw new Nt("cannot publish track when not connected");const u=yield this.engine.addTrack(l);yield this.engine.createSimulcastSender(t,c,s,a),yield this.engine.negotiate(),E.debug("published ".concat(n," for track ").concat(t.sid),{encodings:a,trackInfo:u})})}unpublishTrack(t,n){var r,i;return _(this,void 0,void 0,function*(){const o=this.getPublicationForTrack(t);if(E.debug("unpublishing track",{track:t,method:"unpublishTrack"}),!o||!o.track){E.warn("track was not unpublished because no publication was found",{track:t,method:"unpublishTrack"});return}t=o.track,t.off(W.Muted,this.onTrackMuted),t.off(W.Unmuted,this.onTrackUnmuted),t.off(W.Ended,this.handleTrackEnded),t.off(W.UpstreamPaused,this.onTrackUpstreamPaused),t.off(W.UpstreamResumed,this.onTrackUpstreamResumed),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n&&t.stop();let s=!1;const a=t.sender;if(t.sender=void 0,this.engine.publisher&&this.engine.publisher.getConnectionState()!=="closed"&&a)try{for(const c of this.engine.publisher.getTransceivers())c.sender===a&&(c.direction="inactive",s=!0);if(this.engine.removeTrack(a)&&(s=!0),t instanceof pn){for(const[,c]of t.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(s=!0),c.sender=void 0);t.simulcastCodecs.clear()}}catch(c){E.warn("failed to unpublish track",{error:c,method:"unpublishTrack"})}switch(this.tracks.delete(o.trackSid),o.kind){case A.Kind.Audio:this.audioTracks.delete(o.trackSid);break;case A.Kind.Video:this.videoTracks.delete(o.trackSid);break}return this.emit($.LocalTrackUnpublished,o),o.setTrack(void 0),s&&(yield this.engine.negotiate()),o})}unpublishTracks(t){return _(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>this.unpublishTrack(r)))).filter(r=>r instanceof wl)})}republishAllTracks(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _(this,void 0,void 0,function*(){const r=[];this.tracks.forEach(i=>{i.track&&(t&&(i.options=Object.assign(Object.assign({},i.options),t)),r.push(i))}),yield Promise.all(r.map(i=>_(this,void 0,void 0,function*(){const o=i.track;yield this.unpublishTrack(o,!1),n&&!o.isMuted&&(o instanceof Qt||o instanceof pn)&&!o.isUserProvided&&(E.debug("restarting existing track",{track:i.trackSid}),yield o.restartTrack()),yield this.publishTrack(o,i.options)})))})}publishData(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _(this,void 0,void 0,function*(){const i=Array.isArray(r)?r:r==null?void 0:r.destination,o=[],s=Array.isArray(r)?void 0:r.topic;i!==void 0&&i.forEach(c=>{c instanceof Tl?o.push(c.sid):o.push(c)});const a=new Mr({kind:n,value:{case:"user",value:new Ar({participantSid:this.sid,payload:t,destinationSids:o,topic:s})}});yield this.engine.sendDataPacket(a,n)})}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isConnected&&this.updateTrackSubscriptionPermissions()}updateInfo(t){return t.sid!==this.sid||!super.updateInfo(t)?!1:(t.tracks.forEach(n=>{var r,i;const o=this.tracks.get(n.sid);if(o){const s=o.isMuted||((i=(r=o.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);s!==n.muted&&(E.debug("updating server mute state after reconcile",{sid:n.sid,muted:s}),this.engine.client.sendMuteTrack(n.sid,s))}}),!0)}getPublicationForTrack(t){let n;return this.tracks.forEach(r=>{const i=r.track;i&&(t instanceof MediaStreamTrack?(i instanceof Qt||i instanceof pn)&&i.mediaStreamTrack===t&&(n=r):t===i&&(n=r))}),n}publishedTracksInfo(){const t=[];return this.tracks.forEach(n=>{n.track!==void 0&&t.push(new dr({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}dataChannelsInfo(){const t=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new Hr({label:r.label,id:r.id,target:i}))};return n(this.engine.dataChannelForKind(mt.LOSSY),nn.PUBLISHER),n(this.engine.dataChannelForKind(mt.RELIABLE),nn.PUBLISHER),n(this.engine.dataChannelForKind(mt.LOSSY,!0),nn.SUBSCRIBER),n(this.engine.dataChannelForKind(mt.RELIABLE,!0),nn.SUBSCRIBER),t}}var ge;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting"})(ge||(ge={}));const O4=2*1e3;let Od=class extends Zr.EventEmitter{constructor(t){var n,r;super(),n=this,this.state=ge.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.connect=(i,o,s)=>_(this,void 0,void 0,function*(){var a;const c=yield this.disconnectLock.lock();if(this.state===ge.Connected)return E.info("already connected to room ".concat(this.name)),c(),Promise.resolve();if(this.connectFuture)return c(),this.connectFuture.promise;this.setAndEmitConnectionState(ge.Connecting),((a=this.regionUrlProvider)===null||a===void 0?void 0:a.getServerUrl().toString())!==i&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),ig(new URL(i))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new IS(i,o):this.regionUrlProvider.updateToken(o),this.regionUrlProvider.fetchRegionSettings().catch(d=>{E.warn("could not fetch region settings",{error:d})}));const l=(d,f,m)=>_(this,void 0,void 0,function*(){var g;this.abortController&&this.abortController.abort();const p=new AbortController;this.abortController=p,c==null||c();try{yield this.attemptConnection(m??i,o,s,p),this.abortController=void 0,d()}catch(S){if(this.regionUrlProvider&&S instanceof tt&&S.reason!==3&&S.reason!==0){let v=null;try{v=yield this.regionUrlProvider.getNextBestRegionUrl((g=this.abortController)===null||g===void 0?void 0:g.signal)}catch(y){if(y instanceof tt&&(y.status===401||y.reason===3)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(y);return}}v?(E.info("Initial connection failed with ConnectionError: ".concat(S.message,". Retrying with another region: ").concat(v)),yield l(d,f,v)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(S))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(S)}}),u=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new cE((d,f)=>{l(d,f,u)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(i,o,s,a,c,l)=>_(this,void 0,void 0,function*(){const u=yield s.join(i,o,{autoSubscribe:a.autoSubscribe,publishOnly:a.publishOnly,adaptiveStream:typeof c.adaptiveStream=="object"?!0:c.adaptiveStream,maxRetries:a.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:a.websocketTimeout},l.signal);let d=u.serverInfo;if(d||(d={version:u.serverVersion,region:u.serverRegion}),E.debug("connected to Livekit Server ".concat(Object.entries(d).map(f=>{let[m,g]=f;return"".concat(m,": ").concat(g)}).join(", "))),!u.serverVersion)throw new C3("unknown server version");return u.serverVersion==="0.15.1"&&this.options.dynacast&&(E.debug("disabling dynacast due to server version"),c.dynacast=!1),u}),this.applyJoinResponse=i=>{const o=i.participant;this.localParticipant.sid=o.sid,this.localParticipant.identity=o.identity,this.handleParticipantUpdates([o,...i.otherParticipants]),i.room&&this.handleRoomUpdate(i.room),this.options.e2ee&&this.e2eeManager&&this.e2eeManager.setSifTrailer(i.sifTrailer)},this.attemptConnection=(i,o,s,a)=>_(this,void 0,void 0,function*(){var c,l;this.state===ge.Reconnecting?(E.info("Reconnection attempt replaced by new connection attempt"),this.recreateEngine()):this.maybeCreateEngine(),!((c=this.regionUrlProvider)===null||c===void 0)&&c.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},mE),s),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const u=yield this.connectSignal(i,o,this.engine,this.connOptions,this.options,a);this.applyJoinResponse(u),this.setupLocalParticipantEvents(),this.emit(U.SignalConnected)}catch(u){yield this.engine.close(),this.recreateEngine();const d=new tt("could not establish signal connection");throw u instanceof Error&&(d.message="".concat(d.message,": ").concat(u.message)),u instanceof tt&&(d.reason=u.reason,d.status=u.status),E.debug("error trying to establish signal connection",{error:u}),d}if(a.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new tt("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,a)}catch(u){throw yield this.engine.close(),this.recreateEngine(),u}an()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),an()&&(document.addEventListener("freeze",this.onPageLeave),(l=navigator.mediaDevices)===null||l===void 0||l.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(ge.Connected),this.emit(U.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return _(n,void 0,void 0,function*(){var o,s,a,c;const l=yield this.disconnectLock.lock();try{if(this.state===ge.Disconnected){E.debug("already disconnected");return}E.info("disconnect from room",{identity:this.localParticipant.identity}),(this.state===ge.Connecting||this.state===ge.Reconnecting)&&(E.warn("abort connection attempt"),(o=this.abortController)===null||o===void 0||o.abort(),(a=(s=this.connectFuture)===null||s===void 0?void 0:s.reject)===null||a===void 0||a.call(s,new tt("Client initiated disconnect")),this.connectFuture=void 0),!((c=this.engine)===null||c===void 0)&&c.client.isConnected&&(yield this.engine.client.sendLeave()),this.engine&&(yield this.engine.close()),this.handleDisconnect(i,Di.CLIENT_INITIATED),this.engine=void 0}finally{l()}})},this.onPageLeave=()=>_(this,void 0,void 0,function*(){yield this.disconnect()}),this.handleRestarting=()=>{this.clearConnectionReconcile();for(const i of this.participants.values())this.handleParticipantDisconnected(i.sid,i);this.setAndEmitConnectionState(ge.Reconnecting)&&this.emit(U.Reconnecting)},this.handleSignalRestarted=i=>_(this,void 0,void 0,function*(){E.debug("signal reconnected to server",{region:i.serverRegion}),this.cachedParticipantSids=[],this.applyJoinResponse(i);try{const o=[];this.localParticipant.tracks.forEach(s=>{s.track&&o.push(s)}),yield Promise.all(o.map(s=>_(this,void 0,void 0,function*(){const a=s.track;this.localParticipant.unpublishTrack(a,!1),a.isMuted||((a instanceof Qt||a instanceof pn)&&a.source!==A.Source.ScreenShare&&a.source!==A.Source.ScreenShareAudio&&!a.isUserProvided&&(E.debug("restarting existing track",{track:s.trackSid}),yield a.restartTrack()),E.debug("publishing new track",{track:s.trackSid}),yield this.localParticipant.publishTrack(a,s.options))})))}catch(o){E.error("error trying to re-publish tracks after reconnection",{error:o})}try{yield this.engine.waitForRestarted(),E.debug("fully reconnected to server",{region:i.serverRegion})}catch{return}this.setAndEmitConnectionState(ge.Connected),this.emit(U.Reconnected),this.registerConnectionReconcile(),this.participants.forEach(o=>{this.emit(U.ParticipantConnected,o)})}),this.handleParticipantUpdates=i=>{i.forEach(o=>{if(o.identity===this.localParticipant.identity){this.localParticipant.updateInfo(o);return}const s=this.identityToSid.get(o.identity);s&&s!==o.sid&&this.handleParticipantDisconnected(s,this.participants.get(s));let a=this.participants.get(o.sid);const c=!a;o.state===ks.DISCONNECTED?this.handleParticipantDisconnected(o.sid,a):(a=this.getOrCreateParticipant(o.sid,o),c||a.updateInfo(o))})},this.handleActiveSpeakersUpdate=i=>{const o=[],s={};i.forEach(a=>{if(s[a.sid]=!0,a.sid===this.localParticipant.sid)this.localParticipant.audioLevel=a.level,this.localParticipant.setIsSpeaking(!0),o.push(this.localParticipant);else{const c=this.participants.get(a.sid);c&&(c.audioLevel=a.level,c.setIsSpeaking(!0),o.push(c))}}),s[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach(a=>{s[a.sid]||(a.audioLevel=0,a.setIsSpeaking(!1))}),this.activeSpeakers=o,this.emitWhenConnected(U.ActiveSpeakersChanged,o)},this.handleSpeakersChanged=i=>{const o=new Map;this.activeSpeakers.forEach(a=>{o.set(a.sid,a)}),i.forEach(a=>{let c=this.participants.get(a.sid);a.sid===this.localParticipant.sid&&(c=this.localParticipant),c&&(c.audioLevel=a.level,c.setIsSpeaking(a.active),a.active?o.set(a.sid,c):o.delete(a.sid))});const s=Array.from(o.values());s.sort((a,c)=>c.audioLevel-a.audioLevel),this.activeSpeakers=s,this.emitWhenConnected(U.ActiveSpeakersChanged,s)},this.handleStreamStateUpdate=i=>{i.streamStates.forEach(o=>{const s=this.participants.get(o.participantSid);if(!s)return;const a=s.getTrackPublication(o.trackSid);!a||!a.track||(a.track.streamState=A.streamStateFromProto(o.state),s.emit($.TrackStreamStateChanged,a,a.track.streamState),this.emitWhenConnected(U.TrackStreamStateChanged,a,a.track.streamState,s))})},this.handleSubscriptionPermissionUpdate=i=>{const o=this.participants.get(i.participantSid);if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setAllowed(i.allowed)},this.handleSubscriptionError=i=>{const o=Array.from(this.participants.values()).find(a=>a.tracks.has(i.trackSid));if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setSubscriptionError(i.err)},this.handleDataPacket=(i,o)=>{const s=this.participants.get(i.participantSid);this.emit(U.DataReceived,i.payload,s,o,i.topic),s==null||s.emit($.DataReceived,i.payload,o)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(U.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=i=>{E.warn("could not playback audio",i),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(U.AudioPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>_(this,void 0,void 0,function*(){this.emit(U.MediaDevicesChanged)}),this.handleRoomUpdate=i=>{const o=this.roomInfo;this.roomInfo=i,o&&o.metadata!==i.metadata&&this.emitWhenConnected(U.RoomMetadataChanged,i.metadata),(o==null?void 0:o.activeRecording)!==i.activeRecording&&this.emitWhenConnected(U.RecordingStatusChanged,i.activeRecording)},this.handleConnectionQualityUpdate=i=>{i.updates.forEach(o=>{if(o.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(o.quality);return}const s=this.participants.get(o.participantSid);s&&s.setConnectionQuality(o.quality)})},this.onLocalParticipantMetadataChanged=i=>{this.emit(U.ParticipantMetadataChanged,i,this.localParticipant)},this.onLocalParticipantNameChanged=i=>{this.emit(U.ParticipantNameChanged,i,this.localParticipant)},this.onLocalTrackMuted=i=>{this.emit(U.TrackMuted,i,this.localParticipant)},this.onLocalTrackUnmuted=i=>{this.emit(U.TrackUnmuted,i,this.localParticipant)},this.onLocalTrackPublished=i=>_(this,void 0,void 0,function*(){var o;this.emit(U.LocalTrackPublished,i,this.localParticipant),i.track instanceof Qt&&(yield i.track.checkForSilence())&&this.emit(U.LocalAudioSilenceDetected,i);const s=yield(o=i.track)===null||o===void 0?void 0:o.getDeviceId(),a=L3(i.source);a&&s&&s!==this.localParticipant.activeDeviceMap.get(a)&&(this.localParticipant.activeDeviceMap.set(a,s),this.emit(U.ActiveDeviceChanged,a,s))}),this.onLocalTrackUnpublished=i=>{this.emit(U.LocalTrackUnpublished,i,this.localParticipant)},this.onLocalConnectionQualityChanged=i=>{this.emit(U.ConnectionQualityChanged,i,this.localParticipant)},this.onMediaDevicesError=i=>{this.emit(U.MediaDevicesError,i)},this.onLocalParticipantPermissionsChanged=i=>{this.emit(U.ParticipantPermissionsChanged,i,this.localParticipant)},this.setMaxListeners(100),this.participants=new Map,this.cachedParticipantSids=[],this.identityToSid=new Map,this.options=Object.assign(Object.assign({},m4),t),this.options.audioCaptureDefaults=Object.assign(Object.assign({},hE),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},pE),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},p4),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new Ui,this.localParticipant=new El("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",ds(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",ds(this.options.audioCaptureDefaults.deviceId)),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&this.switchActiveDevice("audiooutput",ds(this.options.audioOutput.deviceId)),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(t){return _(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;this.options.e2ee&&(this.e2eeManager=new i4(this.options.e2ee),this.e2eeManager.on(mo.ParticipantEncryptionStatusChanged,(n,r)=>{r instanceof El&&(this.isE2EEEnabled=n),this.emit(U.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(mo.EncryptionError,n=>this.emit(U.EncryptionError,n)),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}get sid(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.sid)!==null&&n!==void 0?n:""}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new v4(this.options),this.engine.on(G.ParticipantUpdate,this.handleParticipantUpdates).on(G.RoomUpdate,this.handleRoomUpdate).on(G.SpeakersChanged,this.handleSpeakersChanged).on(G.StreamStateChanged,this.handleStreamStateUpdate).on(G.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(G.SubscriptionError,this.handleSubscriptionError).on(G.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(G.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(G.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(G.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(G.DataPacketReceived,this.handleDataPacket).on(G.Resuming,()=>{this.clearConnectionReconcile(),this.setAndEmitConnectionState(ge.Reconnecting)&&this.emit(U.Reconnecting),this.cachedParticipantSids=Array.from(this.participants.keys())}).on(G.Resumed,()=>{this.setAndEmitConnectionState(ge.Connected),this.emit(U.Reconnected),this.registerConnectionReconcile(),this.updateSubscriptions(),Array.from(this.participants.values()).filter(n=>!this.cachedParticipantSids.includes(n.sid)).forEach(n=>this.emit(U.ParticipantConnected,n)),this.cachedParticipantSids=[]}).on(G.SignalResumed,()=>{this.state===ge.Reconnecting&&this.sendSyncState()}).on(G.Restarting,this.handleRestarting).on(G.SignalRestarted,this.handleSignalRestarted).on(G.DCBufferStatusChanged,(t,n)=>{this.emit(U.DCBufferStatusChanged,t,n)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Vt.getInstance().getDevices(t,n)}prepareConnection(t,n){return _(this,void 0,void 0,function*(){if(this.state===ge.Disconnected){E.debug("prepareConnection to ".concat(t));try{if(ig(new URL(t))&&n){this.regionUrlProvider=new IS(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===ge.Disconnected&&(this.regionUrl=r,yield fetch(yS(r),{method:"HEAD"}),E.debug("prepared connection to ".concat(r)))}else yield fetch(yS(t),{method:"HEAD"})}catch(r){E.warn("could not prepare connection",{error:r})}}})}getParticipantByIdentity(t){if(this.localParticipant.identity===t)return this.localParticipant;const n=this.identityToSid.get(t);if(n)return this.participants.get(n)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return _(this,void 0,void 0,function*(){let r=()=>{},i;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new zt({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new zt({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new zt({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new zt({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new zt({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),r=()=>_(this,void 0,void 0,function*(){const o=this.engine.client.onLeave;o&&o(new Fn({reason:Di.CLIENT_INITIATED,canReconnect:!0}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new zt({scenario:{case:"subscriberBandwidth",value:BigInt(n)}});break}i&&(this.engine.client.sendSimulateScenario(i),r())})}startAudio(){return _(this,void 0,void 0,function*(){const t=[],n=Cs();if(n&&n.os==="iOS"){const r="livekit-dummy-audio-el";let i=document.getElementById(r);if(!i){i=document.createElement("audio"),i.id=r,i.autoplay=!0,i.hidden=!0;const o=mp();o.enabled=!0;const s=new MediaStream([o]);i.srcObject=s,document.addEventListener("visibilitychange",()=>{i&&(i.srcObject=document.hidden?null:s)}),document.body.append(i),this.once(U.Disconnected,()=>{i==null||i.remove()})}t.push(i)}this.participants.forEach(r=>{r.audioTracks.forEach(i=>{i.track&&i.track.attachedElements.forEach(o=>{t.push(o)})})});try{yield Promise.all([this.acquireAudioContext(),...t.map(r=>(r.muted=!1,r.play()))]),this.handleAudioPlaybackStarted()}catch(r){throw this.handleAudioPlaybackFailed(r),r}})}get canPlaybackAudio(){return this.audioEnabled}getActiveAudioOutputDevice(){var t,n;return(n=(t=this.options.audioOutput)===null||t===void 0?void 0:t.deviceId)!==null&&n!==void 0?n:""}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var i,o,s;return _(this,void 0,void 0,function*(){let a=!1,c=!0;const l=r?{exact:n}:n;if(t==="audioinput"){const u=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=l,a=u!==l;const d=Array.from(this.localParticipant.audioTracks.values()).filter(f=>f.source===A.Source.Microphone);try{c=(yield Promise.all(d.map(f=>{var m;return(m=f.audioTrack)===null||m===void 0?void 0:m.setDeviceId(l)}))).every(f=>f===!0)}catch(f){throw this.options.audioCaptureDefaults.deviceId=u,f}}else if(t==="videoinput"){const u=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=l,a=u!==l;const d=Array.from(this.localParticipant.videoTracks.values()).filter(f=>f.source===A.Source.Camera);try{c=(yield Promise.all(d.map(f=>{var m;return(m=f.videoTrack)===null||m===void 0?void 0:m.setDeviceId(l)}))).every(f=>f===!0)}catch(f){throw this.options.videoCaptureDefaults.deviceId=u,f}}else if(t==="audiooutput"){if(!rg()&&!this.options.expWebAudioMix||this.options.expWebAudioMix&&this.audioContext&&!("setSinkId"in this.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");(i=(s=this.options).audioOutput)!==null&&i!==void 0||(s.audioOutput={});const u=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=n,a=u!==l;try{this.options.expWebAudioMix?(o=this.audioContext)===null||o===void 0||o.setSinkId(n):yield Promise.all(Array.from(this.participants.values()).map(d=>d.setAudioOutput({deviceId:n})))}catch(d){throw this.options.audioOutput.deviceId=u,d}}return a&&c&&(this.localParticipant.activeDeviceMap.set(t,n),this.emit(U.ActiveDeviceChanged,t,n)),c})}setupLocalParticipantEvents(){this.localParticipant.on($.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on($.ParticipantNameChanged,this.onLocalParticipantNameChanged).on($.TrackMuted,this.onLocalTrackMuted).on($.TrackUnmuted,this.onLocalTrackUnmuted).on($.LocalTrackPublished,this.onLocalTrackPublished).on($.LocalTrackUnpublished,this.onLocalTrackUnpublished).on($.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on($.MediaDevicesError,this.onMediaDevicesError).on($.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.participants.clear(),this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===ge.Connecting||this.state===ge.Reconnecting){const u=()=>{this.onTrackAdded(t,n,r),d()},d=()=>{this.off(U.Reconnected,u),this.off(U.Connected,u),this.off(U.Disconnected,d)};this.once(U.Reconnected,u),this.once(U.Connected,u),this.once(U.Disconnected,d);return}if(this.state===ge.Disconnected){E.warn("skipping incoming track after Room disconnected");return}const i=U3(n.id),o=i[0];let s=i[1],a=t.id;if(s&&s.startsWith("TR")&&(a=s),o===this.localParticipant.sid){E.warn("tried to create RemoteParticipant for local participant");return}const c=this.participants.get(o);if(!c){E.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o));return}let l;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?l=this.options.adaptiveStream:l={}),c.addSubscribedMediaTrack(t,a,n,r,l)}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.state!==ge.Disconnected){this.regionUrl=void 0;try{this.participants.forEach(i=>{i.tracks.forEach(o=>{i.unpublishTrack(o.trackSid)})}),this.localParticipant.tracks.forEach(i=>{var o,s;i.track&&this.localParticipant.unpublishTrack(i.track,t),t&&((o=i.track)===null||o===void 0||o.detach(),(s=i.track)===null||s===void 0||s.stop())}),this.localParticipant.off($.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off($.ParticipantNameChanged,this.onLocalParticipantNameChanged).off($.TrackMuted,this.onLocalTrackMuted).off($.TrackUnmuted,this.onLocalTrackUnmuted).off($.LocalTrackPublished,this.onLocalTrackPublished).off($.LocalTrackUnpublished,this.onLocalTrackUnpublished).off($.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off($.MediaDevicesError,this.onMediaDevicesError).off($.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.expWebAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),an()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(ge.Disconnected),this.emit(U.Disconnected,n)}}}handleParticipantDisconnected(t,n){this.participants.delete(t),n&&(this.identityToSid.delete(n.identity),n.tracks.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(U.ParticipantDisconnected,n))}acquireAudioContext(){var t,n;return _(this,void 0,void 0,function*(){if(typeof this.options.expWebAudioMix!="boolean"&&this.options.expWebAudioMix.audioContext?this.audioContext=this.options.expWebAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=nE())!==null&&t!==void 0?t:void 0),this.audioContext&&this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch(i){E.warn(i)}this.options.expWebAudioMix&&this.participants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext);const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(U.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){let r;return n?r=Tl.fromParticipantInfo(this.engine.client,n):r=new Tl(this.engine.client,t,"",void 0,void 0),this.options.expWebAudioMix&&r.setAudioContext(this.audioContext),r}getOrCreateParticipant(t,n){if(this.participants.has(t))return this.participants.get(t);const r=this.createParticipant(t,n);return this.participants.set(t,r),this.identityToSid.set(n.identity,n.sid),this.emitWhenConnected(U.ParticipantConnected,r),r.on($.TrackPublished,i=>{this.emitWhenConnected(U.TrackPublished,i,r)}).on($.TrackSubscribed,(i,o)=>{i.kind===A.Kind.Audio&&(i.on(W.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(W.AudioPlaybackFailed,this.handleAudioPlaybackFailed)),this.emit(U.TrackSubscribed,i,o,r)}).on($.TrackUnpublished,i=>{this.emit(U.TrackUnpublished,i,r)}).on($.TrackUnsubscribed,(i,o)=>{this.emit(U.TrackUnsubscribed,i,o,r)}).on($.TrackSubscriptionFailed,i=>{this.emit(U.TrackSubscriptionFailed,i,r)}).on($.TrackMuted,i=>{this.emitWhenConnected(U.TrackMuted,i,r)}).on($.TrackUnmuted,i=>{this.emitWhenConnected(U.TrackUnmuted,i,r)}).on($.ParticipantMetadataChanged,i=>{this.emitWhenConnected(U.ParticipantMetadataChanged,i,r)}).on($.ParticipantNameChanged,i=>{this.emitWhenConnected(U.ParticipantNameChanged,i,r)}).on($.ConnectionQualityChanged,i=>{this.emitWhenConnected(U.ConnectionQualityChanged,i,r)}).on($.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(U.ParticipantPermissionsChanged,i,r)}).on($.TrackSubscriptionStatusChanged,(i,o)=>{this.emitWhenConnected(U.TrackSubscriptionStatusChanged,i,o,r)}).on($.TrackSubscriptionFailed,(i,o)=>{this.emit(U.TrackSubscriptionFailed,i,r,o)}).on($.TrackSubscriptionPermissionChanged,(i,o)=>{this.emitWhenConnected(U.TrackSubscriptionPermissionChanged,i,o,r)}),n&&r.updateInfo(n),r}sendSyncState(){var t,n,r,i;const o=(t=this.engine.subscriber)===null||t===void 0?void 0:t.getLocalDescription(),s=(n=this.engine.subscriber)===null||n===void 0?void 0:n.getRemoteDescription();if(!o)return;const a=(i=(r=this.connOptions)===null||r===void 0?void 0:r.autoSubscribe)!==null&&i!==void 0?i:!0,c=new Array;this.participants.forEach(l=>{l.tracks.forEach(u=>{u.isDesired!==a&&c.push(u.trackSid)})}),this.engine.client.sendSyncState(new Jr({answer:Md({sdp:o.sdp,type:o.type}),offer:s?Md({sdp:s.sdp,type:s.type}):void 0,subscription:new Un({trackSids:c,subscribe:!a,participantTracks:[]}),publishTracks:this.localParticipant.publishedTracksInfo(),dataChannels:this.localParticipant.dataChannelsInfo()}))}updateSubscriptions(){for(const t of this.participants.values())for(const n of t.videoTracks.values())n.isSubscribed&&n instanceof Cl&&n.emitTrackUpdate()}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Ft.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,E.warn("detected connection state mismatch",{numFailures:t}),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Di.STATE_MISMATCH))):t=0},O4)}clearConnectionReconcile(){this.connectionReconcileInterval&&Ft.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(U.ConnectionStateChanged,this.state),!0)}emitWhenConnected(t){if(this.state===ge.Connected){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.emit(t,...r)}return!1}simulateParticipants(t){var n,r;return _(this,void 0,void 0,function*(){const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new Ka({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:le.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new yn({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(U.SignalConnected),this.emit(U.Connected),this.setAndEmitConnectionState(ge.Connected),i.video){const s=new wl(A.Kind.Video,new tn({source:ct.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Ut.AUDIO,name:"video-dummy"}),new pn(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:vS((n=160*o.aspectRatios[0])!==null&&n!==void 0?n:1,160,!0,!0)));this.localParticipant.addTrackPublication(s),this.localParticipant.emit($.LocalTrackPublished,s)}if(i.audio){const s=new wl(A.Kind.Audio,new tn({source:ct.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Ut.AUDIO}),new Qt(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:mp()));this.localParticipant.addTrackPublication(s),this.localParticipant.emit($.LocalTrackPublished,s)}for(let s=0;s<o.count-1;s+=1){let a=new yn({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(s),state:ks.ACTIVE,tracks:[],joinedAt:le.parse(Date.now())});const c=this.getOrCreateParticipant(a.identity,a);if(o.video){const l=vS((r=160*o.aspectRatios[s%o.aspectRatios.length])!==null&&r!==void 0?r:1,160,!1,!0),u=new tn({source:ct.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Ut.AUDIO});c.addSubscribedMediaTrack(l,u.sid,new MediaStream([l])),a.tracks=[...a.tracks,u]}if(o.audio){const l=mp(),u=new tn({source:ct.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Ut.AUDIO});c.addSubscribedMediaTrack(l,u.sid,new MediaStream([l])),a.tracks=[...a.tracks,u]}c.updateInfo(a)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t!==U.ActiveSpeakersChanged&&E.debug("room event ".concat(t),{event:t,args:r}),super.emit(t,...r)}};var rr;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(rr||(rr={}));class Ya extends Zr.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=rr.IDLE,this.logs=[],this.errorsAsWarnings=!1,this.url=t,this.token=n,this.name=this.constructor.name,this.room=new Od(r.roomOptions),this.connectOptions=r.connectOptions,r.errorsAsWarnings&&(this.errorsAsWarnings=r.errorsAsWarnings)}run(t){return _(this,void 0,void 0,function*(){if(this.status!==rr.IDLE)throw Error("check is running already");this.setStatus(rr.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==rr.SKIPPED&&this.setStatus(this.isSuccess()?rr.SUCCESS:rr.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(){return _(this,void 0,void 0,function*(){return this.room.state===ge.Connected?this.room:(yield this.room.connect(this.url,this.token),this.room)})}disconnect(){return _(this,void 0,void 0,function*(){this.room&&this.room.state!==ge.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(rr.SKIPPED)}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}function kE(e){var t,n;return _(this,void 0,void 0,function*(){e??(e={}),(t=e.audio)!==null&&t!==void 0||(e.audio=!0),(n=e.video)!==null&&n!==void 0||(e.video=!0);const r=tE(e,hE,pE),i=ch(r),o=navigator.mediaDevices.getUserMedia(i);e.audio&&(Vt.userMediaPromiseMap.set("audioinput",o),o.catch(()=>Vt.userMediaPromiseMap.delete("audioinput"))),e.video&&(Vt.userMediaPromiseMap.set("videoinput",o),o.catch(()=>Vt.userMediaPromiseMap.delete("videoinput")));const s=yield o;return s.getTracks().map(a=>{const c=a.kind==="audio";c?e.audio:e.video;let l;const u=c?i.audio:i.video;typeof u!="boolean"&&(l=u),l?l.deviceId=a.getSettings().deviceId:l={deviceId:a.getSettings().deviceId};const d=gE(a,l);return d.kind===A.Kind.Video?d.source=A.Source.Camera:d.kind===A.Kind.Audio&&(d.source=A.Source.Microphone),d.mediaStream=s,d})})}function A4(e){return _(this,void 0,void 0,function*(){return(yield kE({audio:!1,video:e}))[0]})}function L4(e){return _(this,void 0,void 0,function*(){return(yield kE({audio:e,video:!1}))[0]})}class N4 extends Ya{get description(){return"Can publish audio"}perform(){var t;return _(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield L4();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="audio"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class D4 extends Ya{get description(){return"Can publish video"}perform(){var t;return _(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield A4();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="video"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}}class U4 extends Ya{get description(){return"Resuming connection after interruption"}perform(){var t;return _(this,void 0,void 0,function*(){const n=yield this.connect();let r=!1,i=!1,o;const s=new Promise(c=>{setTimeout(c,5e3),o=c});n.on(U.Reconnecting,()=>{r=!0}).on(U.Reconnected,()=>{i=!0,o(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const a=n.engine.client.onClose;if(a&&a(""),yield s,r){if(!i||n.state!==ge.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class F4 extends Ya{get description(){return"Can connect via TURN"}perform(){var t,n;return _(this,void 0,void 0,function*(){const r=new t0,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let o=!1,s=!1,a=!1;for(let c of i.iceServers)for(let l of c.urls)l.startsWith("turn:")?(s=!0,a=!0):l.startsWith("turns:")&&(s=!0,a=!0,o=!0),l.startsWith("stun:")&&(a=!0);a?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(t=this.connectOptions)===null||t===void 0?void 0:t.rtcConfig)===null||n===void 0)&&n.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(c=>setTimeout(c,0)))})}}class B4 extends Ya{get description(){return"Establishing WebRTC connection"}perform(){return _(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(U.SignalConnected,()=>{const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(i,o)=>{if(i.candidate){const s=new RTCIceCandidate(i);let a="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&($4(s.address)?a+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(t=!0,a+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(a)}r&&r(i,o)},this.room.engine.subscriber&&(this.room.engine.subscriber.onIceCandidateError=i=>{i instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(i.errorCode," ").concat(i.errorText," ").concat(i.url))})});try{yield this.connect(),E.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function $4(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class j4 extends Ya{get description(){return"Connecting to signal connection via WebSocket"}perform(){var t,n,r;return _(this,void 0,void 0,function*(){(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new t0;const o=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((t=o.serverInfo)===null||t===void 0?void 0:t.edition)===Fa.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=o.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class i$ extends Zr.EventEmitter{constructor(t,n){super(),this.checkResults=new Map,this.url=t,this.token=n}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:rr.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==rr.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return _(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new t(this.url,this.token),i=s=>{this.updateCheck(n,s)};r.on("update",i);const o=yield r.run();return r.off("update",i),o})}checkWebsocket(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(j4)})}checkWebRTC(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(B4)})}checkTURN(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(F4)})}checkReconnect(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(U4)})}checkPublishAudio(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(N4)})}checkPublishVideo(){return _(this,void 0,void 0,function*(){return this.createAndRunCheck(D4)})}}function z4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n;const r=e instanceof ja?e.mediaStreamTrack:e,i=r.getSettings();let o={facingMode:(n=t.defaultFacingMode)!==null&&n!==void 0?n:"user",confidence:"low"};if("facingMode"in i){const s=i.facingMode;E.debug("rawFacingMode",{rawFacingMode:s}),s&&typeof s=="string"&&J4(s)&&(o={facingMode:s,confidence:"high"})}if(["low","medium"].includes(o.confidence)){E.debug("Try to get facing mode from device label: (".concat(r.label,")"));const s=W4(r.label);s!==void 0&&(o=s)}return o}const DS=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),V4=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function W4(e){var t;const n=e.trim().toLowerCase();if(n!=="")return DS.has(n)?DS.get(n):(t=Array.from(V4.entries()).find(r=>{let[i]=r;return n.includes(i)}))===null||t===void 0?void 0:t[1]}function J4(e){return e===void 0||["user","environment","left","right"].includes(e)}var i0={};Object.defineProperty(i0,"__esModule",{value:!0});i0.TLDs=void 0;i0.TLDs=["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","点看","คอม","ভাৰত","ভারত","八卦","ישראל","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"];var wE={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(bx,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(p,S){var v=p[S];if(typeof v.bind=="function")return v.bind(p);try{return Function.prototype.bind.call(v,p)}catch{return function(){return Function.prototype.apply.apply(v,[p,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?s:console[p]!==void 0?o(console,p):console.log!==void 0?o(console,"log"):t}function c(p,S){for(var v=0;v<i.length;v++){var y=i[v];this[y]=v<p?t:this.methodFactory(y,p,S)}this.log=this.debug}function l(p,S,v){return function(){typeof console!==n&&(c.call(this,S,v),this[p].apply(this,arguments))}}function u(p,S,v){return a(p)||l.apply(this,arguments)}function d(p,S,v){var y=this,k;S=S??"WARN";var b="loglevel";typeof p=="string"?b+=":"+p:typeof p=="symbol"&&(b=void 0);function C(R){var I=(i[R]||"silent").toUpperCase();if(!(typeof window===n||!b)){try{window.localStorage[b]=I;return}catch{}try{window.document.cookie=encodeURIComponent(b)+"="+I+";"}catch{}}}function P(){var R;if(!(typeof window===n||!b)){try{R=window.localStorage[b]}catch{}if(typeof R===n)try{var I=window.document.cookie,V=I.indexOf(encodeURIComponent(b)+"=");V!==-1&&(R=/^([^;]+)/.exec(I.slice(V))[1])}catch{}return y.levels[R]===void 0&&(R=void 0),R}}function T(){if(!(typeof window===n||!b)){try{window.localStorage.removeItem(b);return}catch{}try{window.document.cookie=encodeURIComponent(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}y.name=p,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=v||u,y.getLevel=function(){return k},y.setLevel=function(R,I){if(typeof R=="string"&&y.levels[R.toUpperCase()]!==void 0&&(R=y.levels[R.toUpperCase()]),typeof R=="number"&&R>=0&&R<=y.levels.SILENT){if(k=R,I!==!1&&C(R),c.call(y,R,p),typeof console===n&&R<y.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+R},y.setDefaultLevel=function(R){S=R,P()||y.setLevel(R,!1)},y.resetLevel=function(){y.setLevel(S,!1),T()},y.enableAll=function(R){y.setLevel(y.levels.TRACE,R)},y.disableAll=function(R){y.setLevel(y.levels.SILENT,R)};var M=P();M==null&&(M=S),y.setLevel(M,!1)}var f=new d,m={};f.getLogger=function(S){if(typeof S!="symbol"&&typeof S!="string"||S==="")throw new TypeError("You must supply a name when creating a logger.");var v=m[S];return v||(v=m[S]=new d(S,f.getLevel(),f.methodFactory)),v};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return m},f.default=f,f})})(wE);var H4=wE.exports;const q4=n1(H4);var cg=function(e,t){return cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},cg(e,t)};function qi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function K4(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function CE(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function za(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Es(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Ta(e){return this instanceof Ta?(this.v=e,this):new Ta(e)}function G4(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(m){return new Promise(function(g,p){o.push([f,m,g,p])>1||a(f,m)})})}function a(f,m){try{c(r[f](m))}catch(g){d(o[0][3],g)}}function c(f){f.value instanceof Ta?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Y4(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof za=="function"?za(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function $e(e){return typeof e=="function"}function o0(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sp=o0(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ad(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var jl=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=za(s),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if($e(u))try{u()}catch(p){o=p instanceof Sp?p.errors:[p]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=za(d),m=f.next();!m.done;m=f.next()){var g=m.value;try{US(g)}catch(p){o=o??[],p instanceof Sp?o=Es(Es([],Do(o)),Do(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new Sp(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)US(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ad(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ad(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),TE=jl.EMPTY;function EE(e){return e instanceof jl||e&&"closed"in e&&$e(e.remove)&&$e(e.add)&&$e(e.unsubscribe)}function US(e){$e(e)?e():e.unsubscribe()}var xE={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lg={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=lg.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Es([e,t],Do(n))):setTimeout.apply(void 0,Es([e,t],Do(n)))},clearTimeout:function(e){var t=lg.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function PE(e){lg.setTimeout(function(){throw e})}function Ld(){}function zu(e){e()}var s0=function(e){qi(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,EE(n)&&n.add(r)):r.destination=eU,r}return t.create=function(n,r,i){return new ug(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jl),Q4=Function.prototype.bind;function kp(e,t){return Q4.call(e,t)}var X4=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){pu(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){pu(r)}else pu(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){pu(n)}},e}(),ug=function(e){qi(t,e);function t(n,r,i){var o=e.call(this)||this,s;if($e(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&xE.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&kp(n.next,a),error:n.error&&kp(n.error,a),complete:n.complete&&kp(n.complete,a)}):s=n}return o.destination=new X4(s),o}return t}(s0);function pu(e){PE(e)}function Z4(e){throw e}var eU={closed:!0,next:Ld,error:Z4,complete:Ld},a0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function c0(e){return e}function tU(e){return e.length===0?c0:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var _t=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=rU(t)?t:new ug(t,n,r);return zu(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=FS(n),new n(function(i,o){var s=new ug({next:function(a){try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[a0]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return tU(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=FS(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function FS(e){var t;return(t=e??xE.Promise)!==null&&t!==void 0?t:Promise}function nU(e){return e&&$e(e.next)&&$e(e.error)&&$e(e.complete)}function rU(e){return e&&e instanceof s0||nU(e)&&EE(e)}function iU(e){return $e(e==null?void 0:e.lift)}function Hn(e){return function(t){if(iU(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Sr(e,t,n,r,i){return new oU(e,t,n,r,i)}var oU=function(e){qi(t,e);function t(n,r,i,o,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=o?function(l){try{o(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(s0),sU=o0(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Uo=function(e){qi(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new BS(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new sU},t.prototype.next=function(n){var r=this;zu(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=za(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;zu(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;zu(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?TE:(this.currentObservers=null,a.push(n),new jl(function(){r.currentObservers=null,Ad(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new _t;return n.source=this,n},t.create=function(n,r){return new BS(n,r)},t}(_t),BS=function(e){qi(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:TE},t}(Uo),RE=function(e){qi(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Uo),_E={now:function(){return(_E.delegate||Date).now()},delegate:void 0},aU=function(e){qi(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(jl),Nd={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Nd.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Es([e,t],Do(n))):setInterval.apply(void 0,Es([e,t],Do(n)))},clearInterval:function(e){var t=Nd.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},cU=function(e){qi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Nd.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Nd.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ad(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(aU),$S=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=_E.now,e}(),lU=function(e){qi(t,e);function t(n,r){r===void 0&&(r=$S.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}($S),uU=new lU(cU);function dU(e){return e&&$e(e.schedule)}function fU(e){return e[e.length-1]}function l0(e){return dU(fU(e))?e.pop():void 0}var u0=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function IE(e){return $e(e==null?void 0:e.then)}function ME(e){return $e(e[a0])}function OE(e){return Symbol.asyncIterator&&$e(e==null?void 0:e[Symbol.asyncIterator])}function AE(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function hU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var LE=hU();function NE(e){return $e(e==null?void 0:e[LE])}function DE(e){return G4(this,arguments,function(){var n,r,i,o;return CE(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Ta(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,Ta(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Ta(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function UE(e){return $e(e==null?void 0:e.getReader)}function Ki(e){if(e instanceof _t)return e;if(e!=null){if(ME(e))return pU(e);if(u0(e))return mU(e);if(IE(e))return gU(e);if(OE(e))return FE(e);if(NE(e))return vU(e);if(UE(e))return yU(e)}throw AE(e)}function pU(e){return new _t(function(t){var n=e[a0]();if($e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mU(e){return new _t(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function gU(e){return new _t(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,PE)})}function vU(e){return new _t(function(t){var n,r;try{for(var i=za(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function FE(e){return new _t(function(t){bU(e,t).catch(function(n){return t.error(n)})})}function yU(e){return FE(DE(e))}function bU(e,t){var n,r,i,o;return K4(this,void 0,void 0,function(){var s,a;return CE(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Y4(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Fi(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function BE(e,t){return t===void 0&&(t=0),Hn(function(n,r){n.subscribe(Sr(r,function(i){return Fi(r,e,function(){return r.next(i)},t)},function(){return Fi(r,e,function(){return r.complete()},t)},function(i){return Fi(r,e,function(){return r.error(i)},t)}))})}function $E(e,t){return t===void 0&&(t=0),Hn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function SU(e,t){return Ki(e).pipe($E(t),BE(t))}function kU(e,t){return Ki(e).pipe($E(t),BE(t))}function wU(e,t){return new _t(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function CU(e,t){return new _t(function(n){var r;return Fi(n,t,function(){r=e[LE](),Fi(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return $e(r==null?void 0:r.return)&&r.return()}})}function jE(e,t){if(!e)throw new Error("Iterable cannot be null");return new _t(function(n){Fi(n,t,function(){var r=e[Symbol.asyncIterator]();Fi(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function TU(e,t){return jE(DE(e),t)}function EU(e,t){if(e!=null){if(ME(e))return SU(e,t);if(u0(e))return wU(e,t);if(IE(e))return kU(e,t);if(OE(e))return jE(e,t);if(NE(e))return CU(e,t);if(UE(e))return TU(e,t)}throw AE(e)}function zE(e,t){return t?EU(e,t):Ki(e)}function jS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l0(e);return zE(e,n)}function xU(e){return e instanceof Date&&!isNaN(e)}var PU=o0(function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function RU(e,t){var n=xU(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,o=n.with,s=o===void 0?_U:o,a=n.scheduler,c=a===void 0?t??uU:a,l=n.meta,u=l===void 0?null:l;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Hn(function(d,f){var m,g,p=null,S=0,v=function(y){g=Fi(f,c,function(){try{m.unsubscribe(),Ki(s({meta:u,lastValue:p,seen:S})).subscribe(f)}catch(k){f.error(k)}},y)};m=d.subscribe(Sr(f,function(y){g==null||g.unsubscribe(),S++,f.next(p=y),i>0&&v(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),p=null})),!S&&v(r!=null?typeof r=="number"?r:+r-c.now():i)})}function _U(e){throw new PU(e)}function Tt(e,t){return Hn(function(n,r){var i=0;n.subscribe(Sr(r,function(o){r.next(e.call(t,o,i++))}))})}var IU=Array.isArray;function MU(e,t){return IU(t)?e.apply(void 0,Es([],Do(t))):e(t)}function OU(e){return Tt(function(t){return MU(e,t)})}function AU(e,t,n,r,i,o,s,a){var c=[],l=0,u=0,d=!1,f=function(){d&&!c.length&&!l&&t.complete()},m=function(p){return l<r?g(p):c.push(p)},g=function(p){o&&t.next(p),l++;var S=!1;Ki(n(p,u++)).subscribe(Sr(t,function(v){i==null||i(v),o?m(v):t.next(v)},function(){S=!0},void 0,function(){if(S)try{l--;for(var v=function(){var y=c.shift();s?Fi(t,s,function(){return g(y)}):g(y)};c.length&&l<r;)v();f()}catch(y){t.error(y)}}))};return e.subscribe(Sr(t,m,function(){d=!0,f()})),function(){a==null||a()}}function d0(e,t,n){return n===void 0&&(n=1/0),$e(t)?d0(function(r,i){return Tt(function(o,s){return t(r,o,i,s)})(Ki(e(r,i)))},n):(typeof t=="number"&&(n=t),Hn(function(r,i){return AU(r,i,e,n)}))}function LU(e){return e===void 0&&(e=1/0),d0(c0,e)}function NU(){return LU(1)}function Dd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return NU()(zE(e,l0(e)))}var DU=["addListener","removeListener"],UU=["addEventListener","removeEventListener"],FU=["on","off"];function dg(e,t,n,r){if($e(n)&&(r=n,n=void 0),r)return dg(e,t,n).pipe(OU(r));var i=Do(jU(e)?UU.map(function(a){return function(c){return e[a](t,c,n)}}):BU(e)?DU.map(zS(e,t)):$U(e)?FU.map(zS(e,t)):[],2),o=i[0],s=i[1];if(!o&&u0(e))return d0(function(a){return dg(a,t,n)})(Ki(e));if(!o)throw new TypeError("Invalid event target");return new _t(function(a){var c=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a.next(1<l.length?l:l[0])};return o(c),function(){return s(c)}})}function zS(e,t){return function(n){return function(r){return e[n](t,r)}}}function BU(e){return $e(e.addListener)&&$e(e.removeListener)}function $U(e){return $e(e.on)&&$e(e.off)}function jU(e){return $e(e.addEventListener)&&$e(e.removeEventListener)}function f0(e,t){return Hn(function(n,r){var i=0;n.subscribe(Sr(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function zU(e,t,n,r,i){return function(o,s){var a=n,c=t,l=0;o.subscribe(Sr(s,function(u){var d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&function(){a&&s.next(c),s.complete()}))}}function VU(e,t){return t===void 0&&(t=c0),e=e??WU,Hn(function(n,r){var i,o=!0;n.subscribe(Sr(r,function(s){var a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function WU(e,t){return e===t}function JU(e){return Hn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function HU(e,t){return Hn(zU(e,t,arguments.length>=2,!0))}function qU(e){return Hn(function(t,n){var r=!1,i=Sr(n,function(){i==null||i.unsubscribe(),r=!0},Ld);Ki(e).subscribe(i),t.subscribe(Sr(n,function(o){return r&&n.next(o)}))})}function qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l0(e);return Hn(function(r,i){(n?Dd(e,r,n):Dd(e,r)).subscribe(i)})}function VS(e){return Hn(function(t,n){Ki(e).subscribe(Sr(n,function(){return n.complete()},Ld)),!n.closed&&t.subscribe(n)})}var KU=Object.defineProperty,GU=Object.defineProperties,YU=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,QU=Object.prototype.hasOwnProperty,XU=Object.prototype.propertyIsEnumerable,JS=(e,t,n)=>t in e?KU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZU=(e,t)=>{for(var n in t||(t={}))QU.call(t,n)&&JS(e,n,t[n]);if(WS)for(var n of WS(t))XU.call(t,n)&&JS(e,n,t[n]);return e},eF=(e,t)=>GU(e,YU(t)),zo=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())}),tF="lk";function wt(e){return typeof e>"u"?!1:nF(e)||rF(e)}function nF(e){var t;return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&typeof((t=e.publication)==null?void 0:t.track)<"u":!1}function rF(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&typeof e.publication<"u":!1}function xl(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u":!1}function St(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(xl(e))return`${e.participant.identity}_${e.source}_placeholder`;if(wt(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}function iF(e,t){return e===void 0||t===void 0?!1:wt(e)&&wt(t)?e.publication.trackSid===t.publication.trackSid:St(e)===St(t)}function fg(e,t){return typeof t>"u"?!1:wt(e)?t.some(n=>n.participant.identity===e.participant.identity&&wt(n)&&n.publication.trackSid===e.publication.trackSid):xl(e)?t.some(n=>n.participant.identity===e.participant.identity&&xl(n)&&n.source===e.source):!1}function oF(e,t){return xl(e)&&wt(t)&&t.participant.identity===e.participant.identity&&t.source===e.source}function VE(e){return e instanceof El}function sF(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),n-r}function aF(){return typeof document<"u"}function cF(e,t){return zo(this,null,function*(){const{x:n,y:r}=yield BA(e,t,{placement:"top",middleware:[kA(6),bA(),wA({padding:5})]});return{x:n,y:r}})}function lF(e,t){return!e.contains(t.target)}var uF=[U.ConnectionStateChanged,U.RoomMetadataChanged,U.ActiveSpeakersChanged,U.ConnectionQualityChanged,U.ParticipantConnected,U.ParticipantDisconnected,U.ParticipantPermissionsChanged,U.ParticipantMetadataChanged,U.TrackMuted,U.TrackUnmuted,U.TrackPublished,U.TrackUnpublished,U.TrackStreamStateChanged,U.TrackSubscriptionFailed,U.TrackSubscriptionPermissionChanged,U.TrackSubscriptionStatusChanged],dF=[...uF,U.LocalTrackPublished,U.LocalTrackUnpublished],fF=[$.ConnectionQualityChanged,$.IsSpeakingChanged,$.ParticipantMetadataChanged,$.ParticipantPermissionsChanged,$.TrackMuted,$.TrackUnmuted,$.TrackPublished,$.TrackUnpublished,$.TrackStreamStateChanged,$.TrackSubscriptionFailed,$.TrackSubscriptionPermissionChanged,$.TrackSubscriptionStatusChanged];[...fF,$.LocalTrackPublished,$.LocalTrackUnpublished];var be=q4.getLogger("lk-components-js");be.setDefaultLevel("WARN");var HS=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:900,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}];function WE(e,t,n,r){let i=0,o=e.find((s,a,c)=>{i=a;const l=c.findIndex((u,d)=>{const f=d>a,m=u.maxTiles===s.maxTiles;return f&&m})!==-1;return s.maxTiles>=t&&!l});if(o===void 0)if(o=e[e.length-1],o)be.warn(`No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${o.name}).`);else throw new Error("No layout or fallback layout found.");if((n<o.minWidth||r<o.minHeight)&&i>0){const s=e[i-1];o=WE(e.slice(0,i),s.maxTiles,n,r)}return o}function hF(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var JE=[],HE={showChat:!1,unreadMessages:0};function qE(e){return typeof e=="object"}function KE(e){return Array.isArray(e)&&e.filter(qE).length>0}function pF(e,t){return t.audioLevel-e.audioLevel}function mF(e,t){return e.isSpeaking===t.isSpeaking?0:e.isSpeaking?-1:1}function gF(e,t){var n,r,i,o;return e.lastSpokeAt!==void 0||t.lastSpokeAt!==void 0?((r=(n=t.lastSpokeAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=e.lastSpokeAt)==null?void 0:i.getTime())!=null?o:0):0}function hg(e,t){var n,r,i,o;return((r=(n=e.joinedAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=t.joinedAt)==null?void 0:i.getTime())!=null?o:0)}function vF(e,t){return wt(e)?wt(t)?0:-1:wt(t)?1:0}function yF(e,t){const n=e.participant.isCameraEnabled,r=t.participant.isCameraEnabled;return n!==r?n?-1:1:0}function bF(e){const t=[],n=[],r=[],i=[];e.forEach(a=>{a.participant.isLocal&&a.source===A.Source.Camera?t.push(a):a.source===A.Source.ScreenShare?n.push(a):a.source===A.Source.Camera?r.push(a):i.push(a)});const o=SF(n),s=kF(r);return[...t,...o,...s,...i]}function SF(e){const t=[],n=[];return e.forEach(i=>{i.participant.isLocal?t.push(i):n.push(i)}),t.sort((i,o)=>hg(i.participant,o.participant)),n.sort((i,o)=>hg(i.participant,o.participant)),[...n,...t]}function kF(e){const t=[],n=[];return e.forEach(r=>{r.participant.isLocal?t.push(r):n.push(r)}),n.sort((r,i)=>r.participant.isSpeaking&&i.participant.isSpeaking?pF(r.participant,i.participant):r.participant.isSpeaking!==i.participant.isSpeaking?mF(r.participant,i.participant):r.participant.lastSpokeAt!==i.participant.lastSpokeAt?gF(r.participant,i.participant):wt(r)!==wt(i)?vF(r,i):r.participant.isCameraEnabled!==i.participant.isCameraEnabled?yF(r,i):hg(r.participant,i.participant)),[...t,...n]}function wF(e,t){return e.reduce((n,r,i)=>i%t===0?[...n,[r]]:[...n.slice(0,-1),[...n.slice(-1)[0],r]],[])}function qS(e,t){const n=Math.max(e.length,t.length);return new Array(n).fill([]).map((r,i)=>[e[i],t[i]])}function Ud(e,t,n){return e.filter(r=>!t.map(i=>n(i)).includes(n(r)))}function pg(e){return e.map(t=>typeof t=="string"||typeof t=="number"?`${t}`:St(t))}function CF(e,t){return{dropped:Ud(e,t,St),added:Ud(t,e,St)}}function TF(e){return e.added.length!==0||e.dropped.length!==0}function mg(e,t){const n=t.findIndex(r=>St(r)===St(e));if(n===-1)throw new Error(`Element not part of the array: ${St(e)} not in ${pg(t)}`);return n}function EF(e,t,n){const r=mg(e,n),i=mg(t,n);return n.splice(r,1,t),n.splice(i,1,e),n}function xF(e,t){const n=mg(e,t);return t.splice(n,1),t}function PF(e,t){return[...t,e]}function wp(e,t){return wF(e,t)}function RF(e,t,n){let r=_F(e,t);if(r.length<t.length){const s=Ud(t,r,St);r=[...r,...s]}const i=wp(r,n),o=wp(t,n);if(qS(i,o).forEach(([s,a],c)=>{if(s&&a){const l=wp(r,n)[c],u=CF(l,a);TF(u)&&(be.debug(`Detected visual changes on page: ${c}, current: ${pg(s)}, next: ${pg(a)}`,{changes:u}),u.added.length===u.dropped.length&&qS(u.added,u.dropped).forEach(([d,f])=>{if(d&&f)r=EF(d,f,r);else throw new Error(`For a swap action we need a addition and a removal one is missing: ${d}, ${f}`)}),u.added.length===0&&u.dropped.length>0&&u.dropped.forEach(d=>{r=xF(d,r)}),u.added.length>0&&u.dropped.length===0&&u.added.forEach(d=>{r=PF(d,r)}))}}),r.length>t.length){const s=Ud(r,t,St);r=r.filter(a=>!s.map(St).includes(St(a)))}return r}function _F(e,t){return e.map(n=>{const r=t.find(i=>St(n)===St(i)||typeof n!="number"&&xl(n)&&wt(i)&&oF(n,i));return r??n})}function GE(e,...t){return new _t(r=>{const i=()=>{r.next(e)};return t.forEach(s=>{e.on(s,i)}),()=>{t.forEach(s=>{e.off(s,i)})}}).pipe(qn(e))}function dh(e,t){return new _t(r=>{const i=(...s)=>{r.next(s)};return e.on(t,i),()=>{e.off(t,i)}})}function IF(e){return dh(e,U.ConnectionStateChanged).pipe(Tt(([t])=>t),qn(e.state))}function MF(e,t=!0){var n;const r=()=>zo(this,null,function*(){const s=yield Od.getLocalDevices(e,t);i.next(s)}),i=new Uo,o=i.pipe(JU(()=>{var s;(s=navigator==null?void 0:navigator.mediaDevices)==null||s.removeEventListener("devicechange",r)}));if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(n=navigator==null?void 0:navigator.mediaDevices)==null||n.addEventListener("devicechange",r)}return Dd(Od.getLocalDevices(e,t),o)}function OF(e){return dh(e,U.DataReceived)}function AF(e){return GE(e,U.AudioPlaybackStatusChanged).pipe(Tt(n=>({canPlayAudio:n.canPlaybackAudio})))}function LF(e,t){return dh(e,U.ActiveDeviceChanged).pipe(f0(([n])=>n===t),Tt(([n,r])=>(be.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)),qn(e.getActiveDevice(t)))}function NF(e,t){return dh(e,U.ParticipantEncryptionStatusChanged).pipe(f0(([,n])=>t.identity===(n==null?void 0:n.identity)||!n&&t.identity===e.localParticipant.identity),Tt(([n])=>n),qn(t instanceof El?t.isE2EEEnabled:t.isEncrypted))}function Tn(e){return`${tF}-${e}`}function DF(e){const t=gg(e),n=YE(e.participant).pipe(Tt(()=>gg(e)),qn(t));return{className:Tn(e.source===A.Source.Camera||e.source===A.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function gg(e){if(wt(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTracks().find(i=>i.source===t&&i.trackName===n);if(n)return r.getTrackByName(n);if(t)return r.getTrack(t);throw new Error("At least one of source and name needs to be defined")}}function h0(e,...t){return new _t(r=>{const i=()=>{r.next(e)};return t.forEach(s=>{e.on(s,i)}),()=>{t.forEach(s=>{e.off(s,i)})}}).pipe(qn(e))}function YE(e){return h0(e,$.TrackMuted,$.TrackUnmuted,$.ParticipantPermissionsChanged,$.TrackPublished,$.TrackUnpublished,$.LocalTrackPublished,$.LocalTrackUnpublished,$.MediaDevicesError,$.TrackSubscriptionStatusChanged).pipe(Tt(n=>{const{isMicrophoneEnabled:r,isCameraEnabled:i,isScreenShareEnabled:o}=n,s=n.getTrack(A.Source.Microphone),a=n.getTrack(A.Source.Camera);return{isCameraEnabled:i,isMicrophoneEnabled:r,isScreenShareEnabled:o,cameraTrack:a,microphoneTrack:s,participant:n}}))}function UF(e){return h0(e,$.ParticipantMetadataChanged).pipe(Tt(({name:n,identity:r,metadata:i})=>({name:n,identity:r,metadata:i})),qn({name:e.name,identity:e.identity,metadata:e.metadata}))}function FF(e){return p0(e,$.ConnectionQualityChanged).pipe(Tt(([n])=>n),qn(e.connectionQuality))}function p0(e,t){return new _t(r=>{const i=(...s)=>{r.next(s)};return e.on(t,i),()=>{e.off(t,i)}})}function QE(e){var t,n,r,i;return h0(e.participant,$.TrackMuted,$.TrackUnmuted,$.TrackSubscribed,$.TrackUnsubscribed,$.LocalTrackPublished,$.LocalTrackUnpublished).pipe(Tt(o=>{var s,a;const c=(s=e.publication)!=null?s:o.getTrack(e.source);return(a=c==null?void 0:c.isMuted)!=null?a:!0}),qn((i=(r=(t=e.publication)==null?void 0:t.isMuted)!=null?r:(n=e.participant.getTrack(e.source))==null?void 0:n.isMuted)!=null?i:!0))}function BF(e){return p0(e,$.IsSpeakingChanged).pipe(Tt(([t])=>t))}function $F(e){return p0(e,$.ParticipantPermissionsChanged).pipe(Tt(()=>e.permissions),qn(e.permissions))}function jF(e,t,n){const{localParticipant:r}=t,i=(l,u)=>{let d=!1;switch(l){case A.Source.Camera:d=u.isCameraEnabled;break;case A.Source.Microphone:d=u.isMicrophoneEnabled;break;case A.Source.ScreenShare:d=u.isScreenShareEnabled;break}return d},o=YE(r).pipe(Tt(l=>i(e,l.participant)),qn(i(e,r))),s=new Uo,a=(l,u)=>zo(this,null,function*(){try{switch(u??(u=n),s.next(!0),e){case A.Source.Camera:yield r.setCameraEnabled(l??!r.isCameraEnabled,u);break;case A.Source.Microphone:yield r.setMicrophoneEnabled(l??!r.isMicrophoneEnabled,u);break;case A.Source.ScreenShare:yield r.setScreenShareEnabled(l??!r.isScreenShareEnabled,u);break;default:break}}finally{s.next(!1)}});return{className:Tn("button"),toggle:a,enabledObserver:o,pendingObserver:s.asObservable()}}function zF(){let e=!1;const t=new Uo,n=new Uo,r=o=>{n.next(!0),e=o??!e,t.next(e),n.next(!1)};return{className:Tn("button"),toggle:r,enabledObserver:t.asObservable(),pendingObserver:n.asObservable()}}function VF(e,t,n){const r=new RE(void 0),i=t?LF(t,e):r.asObservable(),o=(a,...c)=>zo(this,[a,...c],function*(l,u={}){var d,f,m;if(t){be.debug(`Switching active device of kind "${e}" with id ${l}.`),yield t.switchActiveDevice(e,l,u.exact);const g=(d=t.getActiveDevice(e))!=null?d:l;g!==l&&l!=="default"&&be.info(`We tried to select the device with id (${l}), but the browser decided to select the device with id (${g}) instead.`);let p;e==="audioinput"?p=(f=t.localParticipant.getTrack(A.Source.Microphone))==null?void 0:f.track:e==="videoinput"&&(p=(m=t.localParticipant.getTrack(A.Source.Camera))==null?void 0:m.track);const S=l==="default"&&!p||l==="default"&&(p==null?void 0:p.mediaStreamTrack.label.startsWith("Default"));r.next(S?l:g)}else if(n){yield n.setDeviceId(u.exact?{exact:l}:l);const g=yield n.getDeviceId();r.next(l==="default"&&n.mediaStreamTrack.label.startsWith("Default")?l:g)}else r.value!==l&&(be.warn("device switch skipped, please provide either a room or a local track to switch on. "),r.next(l))});return{className:Tn("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:o}}function WF(e){const t=r=>{e.disconnect(r)};return{className:Tn("disconnect-button"),disconnect:t}}function JF(e){const t=Tn("connection-quality"),n=FF(e);return{className:t,connectionQualityObserver:n}}function HF(e){let t="track-muted-indicator-camera";switch(e.source){case A.Source.Camera:t="track-muted-indicator-camera";break;case A.Source.Microphone:t="track-muted-indicator-microphone";break}const n=Tn(t),r=QE(e);return{className:n,mediaMutedObserver:r}}function qF(e){return{className:"lk-participant-name",infoObserver:UF(e)}}function KF(){return{className:Tn("participant-tile")}}var Cp={CHAT:"lk-chat-topic"};function XE(e,t,n){return zo(this,arguments,function*(r,i,o,s={}){const{kind:a,destination:c}=s;yield r.publishData(i,a??mt.RELIABLE,{destination:c,topic:o})})}function GF(e,t,n){const r=OF(e).pipe(f0(([,,,a])=>t===void 0||a===t),Tt(([a,c,,l])=>{const u={payload:a,topic:l,from:c};return n==null||n(u),u}));let i;const o=new _t(a=>{i=a});return{messageObservable:r,isSendingObservable:o,send:(a,...c)=>zo(this,[a,...c],function*(l,u={}){i.next(!0);try{yield XE(e.localParticipant,l,t,u)}finally{i.next(!1)}})}}var YF=new TextEncoder,QF=new TextDecoder,XF=e=>YF.encode(JSON.stringify({message:e.message,timestamp:e.timestamp})),ZF=e=>JSON.parse(QF.decode(e));function e6(e,t){const n=new Uo,r=new Uo,{messageObservable:i}=GF(e,Cp.CHAT);i.pipe(VS(n)).subscribe(r);const{messageDecoder:o,messageEncoder:s}=t??{},a=o??ZF,c=r.pipe(Tt(m=>{const g=a(m.payload);return eF(ZU({},g),{from:m.from})}),HU((m,g)=>[...m,g],[]),VS(n)),l=new RE(!1),u=s??XF,d=m=>zo(this,null,function*(){const g=Date.now(),p=u({message:m,timestamp:g});l.next(!0);try{yield XE(e.localParticipant,p,Cp.CHAT,{kind:mt.RELIABLE}),r.next({payload:p,topic:Cp.CHAT,from:e.localParticipant})}finally{l.next(!1)}});function f(){n.next(),n.complete()}return{messageObservable:c,isSendingObservable:l,send:d,destroy:f}}function t6(){const e=n=>zo(this,null,function*(){be.info("Start Audio for room: ",n),yield n.startAudio()});return{className:Tn("start-audio-button"),roomAudioPlaybackAllowedObservable:AF,handleStartAudioPlayback:e}}function n6(){return{className:[Tn("button"),Tn("chat-toggle")].join(" ")}}function r6(){return{className:[Tn("button"),Tn("focus-toggle-button")].join(" ")}}function i6(){return{className:"lk-room-container"}}function KS(e,t,n=!0){const i=[e.localParticipant,...Array.from(e.participants.values())],o=[];return i.forEach(s=>{t.forEach(a=>{const c=Array.from(s.tracks.values()).filter(l=>l.source===a&&(!n||l.track)).map(l=>({participant:s,publication:l,source:l.source}));o.push(...c)})}),{trackReferences:o,participants:i}}function o6(e,t,n){var r,i;const o=(r=n.additionalRoomEvents)!=null?r:dF,s=(i=n.onlySubscribed)!=null?i:!0,a=Array.from(new Set([U.ParticipantConnected,U.ParticipantDisconnected,U.ConnectionStateChanged,U.LocalTrackPublished,U.LocalTrackUnpublished,U.TrackPublished,U.TrackUnpublished,U.TrackSubscriptionStatusChanged,...o]).values());return GE(e,...a).pipe(Tt(l=>{const u=KS(l,t,s);return be.debug(`TrackReference[] was updated. (length ${u.trackReferences.length})`,u),u}),qn(KS(e,t,s)))}function s6(e,t=1e3){if(e===null)return jS(!1);const n=dg(e,"mousemove",{passive:!0}).pipe(Tt(()=>!0)),r=n.pipe(RU({each:t,with:()=>Dd(jS(!1),r.pipe(qU(n)))}),VU());return r}globalThis&&globalThis.__awaiter;function a6(e,t){const[n,r]=h.useState(e);return h.useEffect(()=>{const i=setTimeout(()=>r(e),t||500);return()=>{clearTimeout(i)}},[e,t]),n}globalThis&&globalThis.__awaiter;function c6(e,{threshold:t=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:i=!1}){const[o,s]=h.useState(),a=(o==null?void 0:o.isIntersecting)&&i,c=([l])=>{s(l)};return h.useEffect(()=>{const l=e==null?void 0:e.current;if(!!!window.IntersectionObserver||a||!l)return;const d={threshold:t,root:n,rootMargin:r},f=new IntersectionObserver(c,d);return f.observe(l),()=>f.disconnect()},[e==null?void 0:e.current,JSON.stringify(t),n,r,a]),o}var l6=Object.defineProperty,u6=Object.defineProperties,d6=Object.getOwnPropertyDescriptors,Fd=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,GS=(e,t,n)=>t in e?l6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))ZE.call(t,n)&&GS(e,n,t[n]);if(Fd)for(var n of Fd(t))ex.call(t,n)&&GS(e,n,t[n]);return e},pr=(e,t)=>u6(e,d6(t)),ft=(e,t)=>{var n={};for(var r in e)ZE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fd)for(var r of Fd(e))t.indexOf(r)<0&&ex.call(e,r)&&(n[r]=e[r]);return n},tx=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function f6(e,t){const n=p6(),r=bD(t);return h.useLayoutEffect(()=>{let i=!1;const o=e.current;if(!o)return;function s(a,c){i||r.current(a,c)}return n==null||n.subscribe(o,s),()=>{i=!0,n==null||n.unsubscribe(o,s)}},[e.current,n,r]),n==null?void 0:n.observer}function h6(){let e=!1,t=[];const n=new Map;if(typeof window>"u")return;const r=new ResizeObserver((i,o)=>{t=t.concat(i),e||window.requestAnimationFrame(()=>{const s=new Set;for(let a=0;a<t.length;a++){if(s.has(t[a].target))continue;s.add(t[a].target);const c=n.get(t[a].target);c==null||c.forEach(l=>l(t[a],o))}t=[],e=!1}),e=!0});return{observer:r,subscribe(i,o){var s;r.observe(i);const a=(s=n.get(i))!=null?s:[];a.push(o),n.set(i,a)},unsubscribe(i,o){var s;const a=(s=n.get(i))!=null?s:[];if(a.length===1){r.unobserve(i),n.delete(i);return}const c=a.indexOf(o);c!==-1&&a.splice(c,1),n.set(i,a)}}}var Tp,p6=()=>Tp||(Tp=h6()),nx=e=>{const[t,n]=h.useState({width:0,height:0});h.useLayoutEffect(()=>{if(e.current){const{width:i,height:o}=e.current.getBoundingClientRect();n({width:i,height:o})}},[e.current]);const r=h.useCallback(i=>n(i.contentRect),[]);return f6(e,r),t};function En(e,t){const[n,r]=h.useState(t);return h.useEffect(()=>{if(typeof window>"u"||!e)return;const i=e.subscribe(r);return()=>i.unsubscribe()},[e]),n}function m6(e){const t=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=h.useState(t(e));function i(){r(t(e))}return h.useEffect(()=>{const o=window.matchMedia(e);return i(),o.addListener?o.addListener(i):o.addEventListener("change",i),()=>{o.removeListener?o.removeListener(i):o.removeEventListener("change",i)}},[e]),n}function rx(e,t){if(t.msg==="show_chat")return pr(Y({},e),{showChat:!0,unreadMessages:0});if(t.msg==="hide_chat")return pr(Y({},e),{showChat:!1});if(t.msg==="toggle_chat"){const n=pr(Y({},e),{showChat:!e.showChat});return n.showChat===!0&&(n.unreadMessages=0),n}else return t.msg==="unread_msg"?pr(Y({},e),{unreadMessages:t.count}):Y({},e)}function ix(e,t){return t.msg==="set_pin"?[t.trackReference]:t.msg==="clear_pin"?[]:Y({},e)}var fh=h.createContext(void 0);function g6(){const e=h.useContext(fh);if(!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function v6(e){const t=zl();if(e??(e=t),!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function y6(){const[e,t]=h.useReducer(ix,JE),[n,r]=h.useReducer(rx,HE);return{pin:{dispatch:t,state:e},widget:{dispatch:r,state:n}}}function b6(e){const[t,n]=h.useReducer(ix,JE),[r,i]=h.useReducer(rx,HE);return e??{pin:{dispatch:n,state:t},widget:{dispatch:i,state:r}}}function zl(){return h.useContext(fh)}var m0=h.createContext(void 0);function Vo(){return h.useContext(m0)}var ox=h.createContext(void 0);function g0(){return h.useContext(ox)}function ei(e){var t;const n=g0(),r=Vo(),i=(t=e??n)!=null?t:r==null?void 0:r.participant;if(!i)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var v0=h.createContext(void 0);function hh(){const e=h.useContext(v0);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function ph(){return h.useContext(v0)}function mh(e){const t=ph(),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}var sx=h.createContext(void 0);function S6(e){const t=h.useContext(sx);if(e===!0){if(t)return t;throw Error("tried to access feature context, but none is present")}return t}function k6(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}function Wo(...e){const t=Y({},e[0]);for(let n=1;n<e.length;n++){const r=e[n];for(const i in r){const o=t[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=k6(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?t[i]=Se(o,s):t[i]=s!==void 0?s:o}}return t}function w6(e={}){const t=ei(e.participant),{className:n,connectionQualityObserver:r}=h.useMemo(()=>JF(t),[t]),i=En(r,hr.Unknown);return{className:n,quality:i}}function ax(e){const t=mh(e),n=h.useMemo(()=>IF(t),[t]);return En(n,t.state)}function C6(e){const t=hh(),n=ax(t);return{buttonProps:h.useMemo(()=>{const{className:i,disconnect:o}=WF(t);return Wo(e,{className:i,onClick:()=>{var a;return o((a=e.stopTracks)!=null?a:!0)},disabled:n===ge.Disconnected})},[t,e,n])}}function T6(e){if(e.publication instanceof wl){const t=e.publication.track;if(t){const{facingMode:n}=z4(t);return n}}return"undefined"}function E6({trackRef:e,trackSource:t,participant:n,props:r}){const i=ei(n);if(!e&&!t)throw new Error("trackRef or trackSource must be defined.");const o=zl(),{className:s}=h.useMemo(()=>r6(),[]),a=h.useMemo(()=>{if(e)return fg(e,o==null?void 0:o.pin.state);if(t){const l=i.getTrack(t);return o!=null&&o.pin.state&&l?fg({participant:i,source:t,publication:l},o.pin.state):!1}else throw new Error("trackRef or trackSource and participant must be defined.")},[e,o==null?void 0:o.pin.state,i,t]);return{mergedProps:h.useMemo(()=>Wo(r,{className:s,onClick:l=>{var u,d,f,m,g;if((u=r.onClick)==null||u.call(r,l),e&&wt(e))a?(f=o==null?void 0:(d=o.pin).dispatch)==null||f.call(d,{msg:"clear_pin"}):(g=o==null?void 0:(m=o.pin).dispatch)==null||g.call(m,{msg:"set_pin",trackReference:e});else if(t){const p=i.getTrack(t);o!=null&&o.pin.dispatch&&p&&(a?o.pin.dispatch({msg:"clear_pin"}):o.pin.dispatch({msg:"set_pin",trackReference:{participant:i,publication:p,source:p.source}}))}}}),[r,s,e,t,a,o==null?void 0:o.pin,i]),inFocus:a}}function x6(e,t){const{width:n,height:r}=nx(e),i=n>0&&r>0?WE(HS,t,n,r):HS[0];return h.useEffect(()=>{e.current&&i&&(e.current.style.setProperty("--lk-col-count",i==null?void 0:i.columns.toString()),e.current.style.setProperty("--lk-row-count",i==null?void 0:i.rows.toString()))},[e,i]),{layout:i}}function YS(e,t={}){var n,r;const i=typeof e=="string"?t.participant:e.participant,o=ei(i),s=typeof e=="string"?{participant:o,source:e}:e,[a,c]=h.useState(!!((n=s.publication)!=null&&n.isMuted||(r=o.getTrack(s.source))!=null&&r.isMuted));return h.useEffect(()=>{const l=QE(s).subscribe(c);return()=>l.unsubscribe()},[St(s)]),a}function P6(e){const t=ei(e),n=h.useMemo(()=>BF(t),[t]);return En(n,t.isSpeaking)}var R6={connect:!0,audio:!1,video:!1};function _6(e){const t=Y(Y({},R6),e),{token:n,serverUrl:r,options:i,room:o,connectOptions:s,connect:a,audio:c,video:l,screen:u,onConnected:d,onDisconnected:f,onError:m,onMediaDeviceFailure:g,simulateParticipants:p}=t,S=ft(t,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","simulateParticipants"]);i&&o&&be.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[v,y]=h.useState();h.useEffect(()=>{y(o??new Od(i))},[o]);const k=h.useMemo(()=>{const{className:b}=i6();return Wo(S,{className:b})},[S]);return h.useEffect(()=>{if(!v)return;const b=()=>{const P=v.localParticipant;be.debug("trying to publish local tracks"),Promise.all([P.setMicrophoneEnabled(!!c,typeof c!="boolean"?c:void 0),P.setCameraEnabled(!!l,typeof l!="boolean"?l:void 0),P.setScreenShareEnabled(!!u,typeof u!="boolean"?u:void 0)]).catch(T=>{be.warn(T),m==null||m(T)})},C=P=>{const T=Sl.getFailure(P);g==null||g(T)};return v.on(U.SignalConnected,b),v.on(U.MediaDevicesError,C),()=>{v.off(U.SignalConnected,b),v.off(U.MediaDevicesError,C)}},[v,c,l,u,m]),h.useEffect(()=>{if(v){if(p){v.simulateParticipants({participants:{count:p},publish:{audio:!0,useRealTracks:!0}});return}if(!n){be.debug("no token yet");return}if(!r){be.warn("no livekit url provided"),m==null||m(Error("no livekit url provided"));return}a?(be.debug("connecting"),v.connect(r,n,s).catch(b=>{be.warn(b),m==null||m(b)})):(be.debug("disconnecting because connect is false"),v.disconnect())}},[a,n,JSON.stringify(s),v,m,r,p]),h.useEffect(()=>{if(!v)return;const b=C=>{switch(C){case ge.Disconnected:f&&f();break;case ge.Connected:d&&d();break}};return v.on(U.ConnectionStateChanged,b),()=>{v.off(U.ConnectionStateChanged,b)}},[n,d,f,v]),h.useEffect(()=>{if(v)return()=>{be.info("disconnecting on onmount"),v.disconnect()}},[v]),{room:v,htmlProps:k}}function I6(){const e=hh(),t=h.useMemo(()=>$F(e.localParticipant),[e]);return En(t,e.localParticipant.permissions)}function M6({kind:e,room:t,track:n,requestPermissions:r}){const i=ph(),o=h.useMemo(()=>MF(e,r),[e,r]),s=En(o,[]),[a,c]=h.useState(""),{className:l,activeDeviceObservable:u,setActiveMediaDevice:d}=h.useMemo(()=>VF(e,t??i,n),[e,t,i,n]);return h.useEffect(()=>{const f=u.subscribe(m=>{be.info("setCurrentDeviceId",m),m&&c(m)});return()=>{f==null||f.unsubscribe()}},[u]),{devices:s,className:l,activeDeviceId:a,setActiveMediaDevice:d}}function O6(e){return e!==void 0}function Gi(...e){return Wo(...e.filter(O6))}function cx(e,t,n){return h.Children.map(e,r=>h.isValidElement(r)&&h.Children.only(e)?h.cloneElement(r,pr(Y({},t),{key:n})):r)}function lx(e,t={}){var n;const[r,i]=h.useState(gg(e)),[o,s]=h.useState(r==null?void 0:r.isMuted),[a,c]=h.useState(r==null?void 0:r.isSubscribed),[l,u]=h.useState(r==null?void 0:r.track),[d,f]=h.useState("landscape"),m=h.useRef(),{className:g,trackObserver:p}=h.useMemo(()=>DF(e),[(n=e.participant.sid)!=null?n:e.participant.identity,e.source,wt(e)&&e.publication.trackSid]);return h.useEffect(()=>{const S=p.subscribe(v=>{be.debug("update track",v),i(v),s(v==null?void 0:v.isMuted),c(v==null?void 0:v.isSubscribed),u(v==null?void 0:v.track)});return()=>S==null?void 0:S.unsubscribe()},[p]),h.useEffect(()=>{var S,v;return l&&(m.current&&l.detach(m.current),(S=t.element)!=null&&S.current&&!(VE(e.participant)&&(l==null?void 0:l.kind)==="audio")&&l.attach(t.element.current)),m.current=(v=t.element)==null?void 0:v.current,()=>{m.current&&(l==null||l.detach(m.current))}},[l,t.element]),h.useEffect(()=>{var S,v;if(typeof((S=r==null?void 0:r.dimensions)==null?void 0:S.width)=="number"&&typeof((v=r==null?void 0:r.dimensions)==null?void 0:v.height)=="number"){const y=r.dimensions.width>r.dimensions.height?"landscape":"portrait";f(y)}},[r]),{publication:r,isMuted:o,isSubscribed:a,track:l,elementProps:Gi(t.props,Y({className:g,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":r==null?void 0:r.source},(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":d}))}}function ux(e,t,n={}){const r=h.useRef([]),i=h.useRef(-1),o=t!==i.current,s=typeof n.customSortFunction=="function"?n.customSortFunction(e):bF(e);let a=[...s];if(o===!1)try{a=RF(r.current,s,t)}catch(c){be.error("Error while running updatePages(): ",c)}return o?r.current=s:r.current=a,i.current=t,a}function A6(e,t){const[n,r]=h.useState(1),i=Math.max(Math.ceil(t.length/e),1);n>i&&r(i);const o=n*e,s=o-e,a=d=>{r(f=>d==="next"?f===i?f:f+1:f===1?f:f-1)},c=d=>{d>i?r(i):d<1?r(1):r(d)},u=ux(t,e).slice(s,o);return{totalPageCount:i,nextPage:()=>a("next"),prevPage:()=>a("previous"),setPage:c,firstItemIndex:s,lastItemIndex:o,tracks:u,currentPage:n}}function L6({trackRef:e,participant:t,source:n,publication:r,onParticipantClick:i,disableSpeakingIndicator:o,htmlProps:s}){const a=Vo(),c=ei(t),l=h.useMemo(()=>{var p,S,v,y,k,b;const C=(S=(p=e==null?void 0:e.source)!=null?p:a==null?void 0:a.source)!=null?S:n;if(C===void 0)throw new Error("Missing track `source`, provided it via `trackRef`, `source` property or via `TrackRefContext`.");return{participant:(y=(v=e==null?void 0:e.participant)!=null?v:a==null?void 0:a.participant)!=null?y:c,publication:(b=(k=e==null?void 0:e.publication)!=null?k:a==null?void 0:a.publication)!=null?b:r,source:C}},[e==null?void 0:e.participant,e==null?void 0:e.source,e==null?void 0:e.publication,a==null?void 0:a.participant,a==null?void 0:a.source,a==null?void 0:a.publication,c,n,r]),u=h.useMemo(()=>{const{className:p}=KF();return Wo(s,{className:p,onClick:S=>{var v,y;if((v=s.onClick)==null||v.call(s,S),typeof i=="function"){const k=(y=l.publication)!=null?y:l.participant.getTrack(l.source);i({participant:l.participant,track:k})}}})},[s,i,l.publication,l.source,l.participant]),d=YS(A.Source.Camera,{participant:l.participant}),f=YS(A.Source.Microphone,{participant:l.participant}),m=P6(l.participant),g=T6(l);return{elementProps:Y({"data-lk-audio-muted":f,"data-lk-video-muted":d,"data-lk-speaking":o===!0?!1:m,"data-lk-local-participant":l.participant.isLocal,"data-lk-source":l.source,"data-lk-facing-mode":g},u)}}function N6(e){return e=v6(e),h.useMemo(()=>(e==null?void 0:e.pin.state)!==void 0&&e.pin.state.length>=1?e.pin.state:[],[e.pin.state])}function D6({room:e,props:t}){const n=mh(e),{className:r,roomAudioPlaybackAllowedObservable:i,handleStartAudioPlayback:o}=h.useMemo(()=>t6(),[]),s=h.useMemo(()=>i(n),[n,i]),{canPlayAudio:a}=En(s,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:h.useMemo(()=>Wo(t,{className:r,onClick:()=>{o(n)},style:{display:a?"none":"block"}}),[t,r,a,o,n]),canPlayAudio:a}}function U6(e,t={}){var n;const r=h.useRef(null),i=h.useRef(null),o=(n=t.minSwipeDistance)!=null?n:50,s=l=>{i.current=null,r.current=l.targetTouches[0].clientX},a=l=>{i.current=l.targetTouches[0].clientX},c=h.useCallback(()=>{if(!r.current||!i.current)return;const l=r.current-i.current,u=l>o,d=l<-o;u&&t.onLeftSwipe&&t.onLeftSwipe(),d&&t.onRightSwipe&&t.onRightSwipe()},[o,t]);h.useEffect(()=>{const l=e.current;return l&&(l.addEventListener("touchstart",s,{passive:!0}),l.addEventListener("touchmove",a,{passive:!0}),l.addEventListener("touchend",c,{passive:!0})),()=>{l&&(l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",a),l.removeEventListener("touchend",c))}},[e,c])}function F6({props:e}){const{dispatch:t,state:n}=g6().widget,{className:r}=h.useMemo(()=>n6(),[]);return{mergedProps:h.useMemo(()=>Wo(e,{className:r,onClick:()=>{t&&t({msg:"toggle_chat"})},"aria-pressed":n!=null&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[e,r,t,n])}}function B6(e,t={}){var n,r,i;let o=Vo();const s=(n=g0())!=null?n:t.participant;if(typeof e=="string"){if(!s)throw Error("Participant missing, either provide it via context or pass it in directly");o={participant:s,source:e}}else if(e)o=e;else throw Error("No track reference found, either provide it via context or pass it in directly");const{className:a,mediaMutedObserver:c}=h.useMemo(()=>HF(o),[St(o)]);return{isMuted:En(c,!!((r=o.publication)!=null&&r.isMuted||(i=o.participant.getTrack(o.source))!=null&&i.isMuted)),className:a}}function $6(e){var t=e,{source:n,onChange:r,initialState:i,captureOptions:o}=t,s=ft(t,["source","onChange","initialState","captureOptions"]),a;const c=ph(),l=(a=c==null?void 0:c.localParticipant)==null?void 0:a.getTrack(n),{toggle:u,className:d,pendingObserver:f,enabledObserver:m}=h.useMemo(()=>c?jF(n,c,o):zF(),[c,n,JSON.stringify(o)]),g=En(f,!1),p=En(m,i??!!(l!=null&&l.isEnabled));h.useEffect(()=>{r==null||r(p)},[p,r]),h.useEffect(()=>{i!==void 0&&(be.debug("forcing initial toggle state",n,i),u(i))},[]);const S=h.useMemo(()=>Wo(s,{className:d}),[s,d]),v=h.useCallback(y=>{var k;u(),(k=s.onClick)==null||k.call(s,y)},[s,u]);return{toggle:u,enabled:p,pending:g,track:l,buttonProps:pr(Y({},S),{"aria-pressed":p,"data-lk-source":n,"data-lk-enabled":p,disabled:g,onClick:v})}}function dx(e=[A.Source.Camera,A.Source.Microphone,A.Source.ScreenShare,A.Source.ScreenShareAudio,A.Source.Unknown],t={}){const n=mh(t.room),[r,i]=h.useState([]),[o,s]=h.useState([]),a=h.useMemo(()=>e.map(l=>qE(l)?l.source:l),[JSON.stringify(e)]);return h.useEffect(()=>{const l=o6(n,a,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:u,participants:d})=>{be.debug("setting track bundles",u,d),i(u),s(d)});return()=>l.unsubscribe()},[n,JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),h.useMemo(()=>{if(KE(e)){const l=z6(e,o),u=Array.from(r);return o.forEach(d=>{var f;l.has(d.identity)&&((f=l.get(d.identity))!=null?f:[]).forEach(g=>{if(r.find(({participant:S,publication:v})=>d.identity===S.identity&&v.source===g))return;be.debug(`Add ${g} placeholder for participant ${d.identity}.`);const p={participant:d,source:g};u.push(p)})}),u}else return r},[r,o,e])}function j6(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function z6(e,t){const n=new Map;if(KE(e)){const r=e.filter(i=>i.withPlaceholder).map(i=>i.source);t.forEach(i=>{const o=i.getTracks().map(a=>{var c;return(c=a.track)==null?void 0:c.source}).filter(a=>a!==void 0),s=Array.from(j6(new Set(r),new Set(o)));s.length>0&&n.set(i.identity,s)})}return n}function V6(e){const t=hh(),[n,r]=h.useState(),i=En(n==null?void 0:n.isSendingObservable,!1),o=En(n==null?void 0:n.messageObservable,[]);return h.useEffect(()=>{const s=e6(t,e);return r(s),s.destroy},[t,e]),{send:n==null?void 0:n.send,chatMessages:o,isSending:i}}function W6(e){const{mergedProps:t}=F6({props:e});return h.createElement("button",Y({},t),e.children)}function J6(e){const{buttonProps:t}=C6(e);return h.createElement("button",Y({},t),e.children)}var H6=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),h.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),h.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),q6=H6,K6=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),h.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),G6=K6,Y6=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),Q6=Y6,X6=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),QS=X6,Z6=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},h.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),eB=Z6,tB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),nB=tB,rB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),iB=rB,oB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),h.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),h.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),sB=oB,aB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),h.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),h.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),cB=aB,lB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),uB=lB,dB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("g",{opacity:.25},h.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),fB=dB,hB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("g",{opacity:.25},h.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),h.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),pB=hB,mB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),h.createElement("g",{opacity:.25},h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),h.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),gB=mB,vB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),fx=vB,yB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),h.createElement("g",{fill:"currentColor"},h.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),h.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),bB=yB,SB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),XS=SB,kB=e=>h.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),h.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},h.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),wB=kB;function CB(e){var t=e,{trackRef:n,trackSource:r,participant:i}=t,o=ft(t,["trackRef","trackSource","participant"]);const s=Vo(),{mergedProps:a,inFocus:c}=E6({trackRef:n??s,trackSource:r,participant:i,props:o});return h.createElement(fh.Consumer,null,l=>l!==void 0&&h.createElement("button",Y({},a),o.children?o.children:c?h.createElement(wB,null):h.createElement(eB,null)))}function Ep(e){var t=e,{kind:n,initialSelection:r,onActiveDeviceChange:i,onDeviceListChange:o,onDeviceSelectError:s,exactMatch:a,track:c,requestPermissions:l}=t,u=ft(t,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","track","requestPermissions"]);const d=ph(),{devices:f,activeDeviceId:m,setActiveMediaDevice:g,className:p}=M6({kind:n,room:d,track:c,requestPermissions:l});h.useEffect(()=>{r!==void 0&&g(r)},[g]),h.useEffect(()=>{typeof o=="function"&&o(f)},[o,f]),h.useEffect(()=>{m&&m!==""&&(i==null||i(m))},[m]);const S=k=>tx(this,null,function*(){try{yield g(k,{exact:a})}catch(b){if(b instanceof Error)s==null||s(b);else throw b}}),v=h.useMemo(()=>Gi(u,{className:p},{className:"lk-list"}),[p,u]);function y(k,b,C){return k===b||C===0&&b==="default"}return h.createElement("ul",Y({},v),f.map((k,b)=>h.createElement("li",{key:k.deviceId,id:k.deviceId,"data-lk-active":y(k.deviceId,m,b),"aria-selected":y(k.deviceId,m,b),role:"option"},h.createElement("button",{className:"lk-button",onClick:()=>S(k.deviceId)},k.label))))}function TB(e){var t=e,{label:n="Allow Audio"}=t,r=ft(t,["label"]);const i=hh(),{mergedProps:o}=D6({room:i,props:r});return h.createElement("button",Y({},o),n)}function hx(e,t){switch(e){case A.Source.Microphone:return t?h.createElement(cB,null):h.createElement(sB,null);case A.Source.Camera:return t?h.createElement(G6,null):h.createElement(q6,null);case A.Source.ScreenShare:return t?h.createElement(bB,null):h.createElement(fx,null);default:return}}function EB(e){switch(e){case hr.Excellent:return h.createElement(uB,null);case hr.Good:return h.createElement(fB,null);case hr.Poor:return h.createElement(pB,null);default:return h.createElement(gB,null)}}function xp(e){var t=e,{showIcon:n}=t,r=ft(t,["showIcon"]);const{buttonProps:i,enabled:o}=$6(r);return h.createElement("button",Y({},i),(n??!0)&&hx(r.source,o),r.children)}function xB(e){var t;const{className:n,quality:r}=w6(e),i=h.useMemo(()=>pr(Y({},Gi(e,{className:n})),{"data-lk-quality":r}),[r,e,n]);return h.createElement("div",Y({},i),(t=e.children)!=null?t:EB(r))}function ZS(e){var t=e,{participant:n}=t,r=ft(t,["participant"]);const i=ei(n),{className:o,infoObserver:s}=h.useMemo(()=>qF(i),[i]),{identity:a,name:c}=En(s,{name:i.name,identity:i.identity,metadata:i.metadata}),l=h.useMemo(()=>Gi(r,{className:o,"data-lk-participant-name":c}),[r,o,c]);return h.createElement("span",Y({},l),c!==""?c:a,r.children)}function PB(e){var t=e,{source:n,participant:r,trackRef:i,show:o="always"}=t,s=ft(t,["source","participant","trackRef","show"]),a,c;const{className:l,isMuted:u}=B6(i??n,{participant:r}),d=o==="always"||o==="muted"&&u||o==="unmuted"&&!u,f=h.useMemo(()=>Gi(s,{className:l}),[l,s]);return d?h.createElement("div",pr(Y({},f),{"data-lk-muted":u}),(c=s.children)!=null?c:hx((a=i==null?void 0:i.source)!=null?a:n,!u)):null}var RB=e=>h.createElement("svg",Y({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),h.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25})),_B=RB;function IB(e){var t=e,{onTrackClick:n,onClick:r,onSubscriptionStatusChanged:i,trackRef:o,name:s,publication:a,source:c,participant:l,manageSubscription:u}=t,d=ft(t,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","name","publication","source","participant","manageSubscription"]),f,m,g,p,S,v,y,k,b,C;const P=Vo(),T=(p=(g=(f=o==null?void 0:o.publication)==null?void 0:f.trackName)!=null?g:(m=P==null?void 0:P.publication)==null?void 0:m.trackName)!=null?p:s,M=(v=(S=o==null?void 0:o.source)!=null?S:P==null?void 0:P.source)!=null?v:c,R=(k=(y=o==null?void 0:o.publication)!=null?y:P==null?void 0:P.publication)!=null?k:a,I=(C=(b=o==null?void 0:o.participant)!=null?b:P==null?void 0:P.participant)!=null?C:l;if(M===void 0)throw new Error("VideoTrack: You must provide a trackRef or source property.");const V=ei(I),Q=h.useRef(null),te=c6(Q,{}),re=a6(te,3e3);h.useEffect(()=>{u&&R instanceof Cl&&(re==null?void 0:re.isIntersecting)===!1&&(te==null?void 0:te.isIntersecting)===!1&&R.setSubscribed(!1)},[re,R,u]),h.useEffect(()=>{u&&R instanceof Cl&&(te==null?void 0:te.isIntersecting)===!0&&R.setSubscribed(!0)},[te,R,u]);const{elementProps:ie,publication:he,isSubscribed:xe}=lx({participant:V,name:T,source:M,publication:R},{element:Q,props:d});h.useEffect(()=>{i==null||i(!!xe)},[xe,i]);const j=q=>{r==null||r(q),n==null||n({participant:V,track:he})};return h.createElement("video",pr(Y({ref:Q},ie),{muted:!0,onClick:j}))}function px(e){var t=e,{trackRef:n,onSubscriptionStatusChanged:r,volume:i,source:o,name:s,publication:a,participant:c}=t,l=ft(t,["trackRef","onSubscriptionStatusChanged","volume","source","name","publication","participant"]),u,d,f,m,g,p,S,v,y,k;const b=Vo(),C=(m=(f=(u=n==null?void 0:n.publication)==null?void 0:u.trackName)!=null?f:(d=b==null?void 0:b.publication)==null?void 0:d.trackName)!=null?m:s,P=(p=(g=n==null?void 0:n.source)!=null?g:b==null?void 0:b.source)!=null?p:o,T=(v=(S=n==null?void 0:n.publication)!=null?S:b==null?void 0:b.publication)!=null?v:a,M=(k=(y=n==null?void 0:n.participant)!=null?y:b==null?void 0:b.participant)!=null?k:c;if(P===void 0)throw new Error("The AudioTrack component expects a trackRef or source property.");const R=h.useRef(null),I=ei(M),{elementProps:V,isSubscribed:Q,track:te,publication:re}=lx({source:P,name:C,participant:I,publication:T},{element:R,props:l});return h.useEffect(()=>{r==null||r(!!Q)},[Q,r]),h.useEffect(()=>{te===void 0||i===void 0||(te instanceof Ca?te.setVolume(i):be.warn("Volume can only be set on remote audio tracks."))},[i,te]),h.useEffect(()=>{re===void 0||l.muted===void 0||(re instanceof Cl?re.setEnabled(!l.muted):be.warn("Can only call setEnabled on remote track publications."))},[l.muted,re,te]),h.createElement("audio",Y({ref:R},V))}function MB(e){const t=ei(e),n=mh(),r=h.useMemo(()=>NF(n,t),[n,t]);return En(r,t instanceof El?t.isE2EEEnabled:t.isEncrypted)}function OB(e){const t=!!g0();return e.participant&&!t?h.createElement(ox.Provider,{value:e.participant},e.children):h.createElement(h.Fragment,null,e.children)}function AB(e){const t=!!Vo();return e.trackRef&&!t?h.createElement(m0.Provider,{value:e.trackRef},e.children):h.createElement(h.Fragment,null,e.children)}function vg(e){var t=e,{trackRef:n,participant:r,children:i,source:o=A.Source.Camera,onParticipantClick:s,publication:a,disableSpeakingIndicator:c}=t,l=ft(t,["trackRef","participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]),u,d;const f=Vo(),m=ei(r),g=h.useMemo(()=>{var b,C,P,T,M,R;return{participant:(C=(b=n==null?void 0:n.participant)!=null?b:f==null?void 0:f.participant)!=null?C:m,source:(T=(P=n==null?void 0:n.source)!=null?P:f==null?void 0:f.source)!=null?T:o,publication:(R=(M=n==null?void 0:n.publication)!=null?M:f==null?void 0:f.publication)!=null?R:a}},[f,m,a,o,n]),{elementProps:p}=L6({participant:g.participant,htmlProps:l,source:g.source,publication:g.publication,disableSpeakingIndicator:c,onParticipantClick:s}),S=MB(m),v=zl(),y=(u=S6())==null?void 0:u.autoSubscription,k=h.useCallback(b=>{g.source&&!b&&v&&v.pin.dispatch&&fg(g,v.pin.state)&&v.pin.dispatch({msg:"clear_pin"})},[g,v]);return h.createElement("div",Y({style:{position:"relative"}},p),h.createElement(AB,{trackRef:g},h.createElement(OB,{participant:g.participant},i??h.createElement(h.Fragment,null,wt(g)&&(((d=g.publication)==null?void 0:d.kind)==="video"||g.source===A.Source.Camera||g.source===A.Source.ScreenShare)?h.createElement(IB,{trackRef:g,onSubscriptionStatusChanged:k,manageSubscription:y}):wt(g)&&h.createElement(px,{trackRef:g,onSubscriptionStatusChanged:k}),h.createElement("div",{className:"lk-participant-placeholder"},h.createElement(_B,null)),h.createElement("div",{className:"lk-participant-metadata"},h.createElement("div",{className:"lk-participant-metadata-item"},g.source===A.Source.Camera?h.createElement(h.Fragment,null,S&&h.createElement(iB,{style:{marginRight:"0.25rem"}}),h.createElement(PB,{source:A.Source.Microphone,show:"muted"}),h.createElement(ZS,null)):h.createElement(h.Fragment,null,h.createElement(fx,{style:{marginRight:"0.25rem"}}),h.createElement(ZS,null,"'s screen"))),h.createElement(xB,{className:"lk-participant-metadata-item"}))),h.createElement(CB,{trackRef:g}))))}function LB(e){const t=Gi(e,{className:"lk-focus-layout"});return h.createElement("div",Y({},t),e.children)}function NB(e){var t=e,{trackRef:n,track:r}=t,i=ft(t,["trackRef","track"]);const o=n??r;return h.createElement(vg,Y(Y({},o),i))}function mx(e){var t=e,{tracks:n}=t,r=ft(t,["tracks"]);return h.createElement(h.Fragment,null,n.map(i=>h.createElement(m0.Provider,{value:i,key:St(i)},cx(r.children))))}function DB({totalPageCount:e,nextPage:t,prevPage:n,currentPage:r,pagesContainer:i}){const[o,s]=h.useState(!1);return h.useEffect(()=>{let a;return i&&(a=s6(i.current,2e3).subscribe(s)),()=>{a&&a.unsubscribe()}},[i]),h.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":o},h.createElement("button",{className:"lk-button",onClick:n},h.createElement(QS,null)),h.createElement("span",{className:"lk-pagination-count"},`${r} of ${e}`),h.createElement("button",{className:"lk-button",onClick:t},h.createElement(QS,null)))}function UB({totalPageCount:e,currentPage:t}){const n=new Array(e).fill("").map((r,i)=>i+1===t?h.createElement("span",{"data-lk-active":!0,key:i}):h.createElement("span",{key:i}));return h.createElement("div",{className:"lk-pagination-indicator"},n)}function FB(e){var t=e,{tracks:n}=t,r=ft(t,["tracks"]);const i=h.createRef(),o=h.useMemo(()=>Gi(r,{className:"lk-grid-layout"}),[r]),{layout:s}=x6(i,n.length),a=A6(s.maxTiles,n);return U6(i,{onLeftSwipe:a.nextPage,onRightSwipe:a.prevPage}),h.createElement("div",Y({ref:i,"data-lk-pagination":a.totalPageCount>1},o),h.createElement(mx,{tracks:a.tracks},r.children),n.length>s.maxTiles&&h.createElement(h.Fragment,null,h.createElement(UB,{totalPageCount:a.totalPageCount,currentPage:a.currentPage}),h.createElement(DB,Y({pagesContainer:i},a))))}var BB=130,$B=140,e1=1,gx=16/10,jB=(1-gx)*-1;function zB(e){var t=e,{tracks:n,orientation:r}=t,i=ft(t,["tracks","orientation"]);const o=h.useRef(null),[s,a]=h.useState(0),{width:c,height:l}=nx(o),u=r||(l>=c?"vertical":"horizontal"),d=u==="vertical"?Math.max(c*jB,BB):Math.max(l*gx,$B),f=sF(),m=Math.max(u==="vertical"?(l-f)/d:(c-f)/d,e1);let g=Math.round(m);Math.abs(m-s)<.5?g=Math.round(s):s!==m&&a(m);const p=ux(n,g);return h.useLayoutEffect(()=>{o.current&&(o.current.dataset.lkOrientation=u,o.current.style.setProperty("--lk-max-visible-tiles",g.toString()))},[g,u]),h.createElement("aside",Y({key:u,className:"lk-carousel",ref:o},i),h.createElement(mx,{tracks:p},i.children))}function VB({value:e,onPinChange:t,onWidgetChange:n,children:r}){const i=b6(e);return h.useEffect(()=>{be.debug("PinState Updated",{state:i.pin.state}),t&&i.pin.state&&t(i.pin.state)},[i.pin.state,t]),h.useEffect(()=>{be.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)},[n,i.widget.state]),h.createElement(fh.Provider,{value:i},r)}function WB(e){const{room:t,htmlProps:n}=_6(e);return h.createElement("div",Y({},n),t&&h.createElement(v0.Provider,{value:t},h.createElement(sx.Provider,{value:e.featureFlags},e.children)))}function JB({volume:e,muted:t}){const n=dx([A.Source.Microphone,A.Source.ScreenShareAudio,A.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!1}).filter(r=>!VE(r.participant)&&r.publication.kind===A.Kind.Audio);return h.useEffect(()=>{for(const r of n)r.publication.setSubscribed(!0)},[n]),h.createElement("div",{style:{display:"none"}},n.map(r=>h.createElement(px,{key:St(r),trackRef:r,volume:e,muted:t})))}function HB(e){const t=h.useMemo(()=>Gi(e,{className:"lk-toast"}),[e]);return h.createElement("div",Y({},t),e.children)}function qB(e){const[t,n]=h.useState(void 0),r=ax(e.room);return h.useEffect(()=>{switch(r){case ge.Reconnecting:n(h.createElement(h.Fragment,null,h.createElement(XS,{className:"lk-spinner"})," Reconnecting"));break;case ge.Connecting:n(h.createElement(h.Fragment,null,h.createElement(XS,{className:"lk-spinner"})," Connecting"));break;case ge.Disconnected:n(h.createElement(h.Fragment,null,"Disconnected"));break;default:n(void 0);break}},[r]),t?h.createElement(HB,{className:"lk-toast-connection-state"},t):h.createElement(h.Fragment,null)}function KB(e){var t=e,{entry:n,hideName:r=!1,hideTimestamp:i=!1,messageFormatter:o}=t,s=ft(t,["entry","hideName","hideTimestamp","messageFormatter"]),a,c,l,u;const d=h.useMemo(()=>o?o(n.message):n.message,[n.message,o]),f=new Date(n.timestamp),m=navigator?navigator.language:"en-US";return h.createElement("li",Y({className:"lk-chat-entry",title:f.toLocaleTimeString(m,{timeStyle:"full"}),"data-lk-message-origin":(a=n.from)!=null&&a.isLocal?"local":"remote"},s),(!i||!r)&&h.createElement("span",{className:"lk-meta-data"},!r&&h.createElement("strong",{className:"lk-participant-name"},(u=(c=n.from)==null?void 0:c.name)!=null?u:(l=n.from)==null?void 0:l.identity),!i&&h.createElement("span",{className:"lk-timestamp"},f.toLocaleTimeString(m,{timeStyle:"short"}))),h.createElement("span",{className:"lk-message-body"},d))}function GB(e){var t=e,{messageFormatter:n,messageDecoder:r,messageEncoder:i}=t,o=ft(t,["messageFormatter","messageDecoder","messageEncoder"]);const s=h.useRef(null),a=h.useRef(null),c=h.useMemo(()=>({messageDecoder:r,messageEncoder:i}),[r,i]),{send:l,chatMessages:u,isSending:d}=V6(c),f=zl(),m=h.useRef(0);function g(p){return tx(this,null,function*(){p.preventDefault(),s.current&&s.current.value.trim()!==""&&l&&(yield l(s.current.value),s.current.value="",s.current.focus())})}return h.useEffect(()=>{var p;a&&((p=a.current)==null||p.scrollTo({top:a.current.scrollHeight}))},[a,u]),h.useEffect(()=>{var p,S,v,y,k;if(!f||u.length===0)return;if((p=f.widget.state)!=null&&p.showChat&&u.length>0&&m.current!==((S=u[u.length-1])==null?void 0:S.timestamp)){m.current=(v=u[u.length-1])==null?void 0:v.timestamp;return}const b=u.filter(P=>!m.current||P.timestamp>m.current).length,{widget:C}=f;b>0&&((y=C.state)==null?void 0:y.unreadMessages)!==b&&((k=C.dispatch)==null||k.call(C,{msg:"unread_msg",count:b}))},[u,f==null?void 0:f.widget]),h.createElement("div",pr(Y({},o),{className:"lk-chat"}),h.createElement("ul",{className:"lk-list lk-chat-messages",ref:a},o.children?u.map((p,S)=>cx(o.children,{entry:p,key:S,messageFormatter:n})):u.map((p,S,v)=>{const y=S>=1&&v[S-1].from===p.from,k=S>=1&&p.timestamp-v[S-1].timestamp<6e4;return h.createElement(KB,{key:S,hideName:y,hideTimestamp:y===!1?!1:k,entry:p,messageFormatter:n})})),h.createElement("form",{className:"lk-chat-form",onSubmit:g},h.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:d,ref:s,type:"text",placeholder:"Enter a message..."}),h.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:d},"Send")))}function t1(e){var t=e,{kind:n,initialSelection:r,onActiveDeviceChange:i,tracks:o,requestPermissions:s=!1}=t,a=ft(t,["kind","initialSelection","onActiveDeviceChange","tracks","requestPermissions"]);const[c,l]=h.useState(!1),[u,d]=h.useState([]),[f,m]=h.useState(!0),g=(y,k)=>{be.debug("handle device change"),l(!1),i==null||i(y,k)},p=h.useRef(null),S=h.useRef(null);h.useLayoutEffect(()=>{p.current&&S.current&&(u||f)&&cF(p.current,S.current).then(({x:y,y:k})=>{S.current&&Object.assign(S.current.style,{left:`${y}px`,top:`${k}px`})}),m(!1)},[p,S,u,f]);const v=h.useCallback(y=>{S.current&&y.target!==p.current&&c&&lF(S.current,y)&&l(!1)},[c,S,p]);return h.useEffect(()=>(document.addEventListener("click",v),window.addEventListener("resize",()=>m(!0)),()=>{document.removeEventListener("click",v),window.removeEventListener("resize",()=>m(!0))}),[v,m]),h.createElement(h.Fragment,null,h.createElement("button",pr(Y({className:"lk-button lk-button-menu","aria-pressed":c},a),{onClick:()=>l(!c),ref:p}),a.children),!a.disabled&&h.createElement("div",{className:"lk-device-menu",ref:S,style:{visibility:c?"visible":"hidden"}},n?h.createElement(Ep,{initialSelection:r,onActiveDeviceChange:y=>g(n,y),onDeviceListChange:d,kind:n,track:o==null?void 0:o[n],requestPermissions:s}):h.createElement(h.Fragment,null,h.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),h.createElement(Ep,{kind:"audioinput",onActiveDeviceChange:y=>g("audioinput",y),onDeviceListChange:d,track:o==null?void 0:o.audioinput,requestPermissions:s}),h.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),h.createElement(Ep,{kind:"videoinput",onActiveDeviceChange:y=>g("videoinput",y),onDeviceListChange:d,track:o==null?void 0:o.videoinput,requestPermissions:s}))))}function YB(e){var t=e,{variation:n,controls:r}=t,i=ft(t,["variation","controls"]),o,s,a,c,l;const[u,d]=h.useState(!1),f=zl();h.useEffect(()=>{var M,R;((M=f==null?void 0:f.widget.state)==null?void 0:M.showChat)!==void 0&&d((R=f==null?void 0:f.widget.state)==null?void 0:R.showChat)},[(o=f==null?void 0:f.widget.state)==null?void 0:o.showChat]);const g=m6(`(max-width: ${u?1e3:760}px)`)?"minimal":"verbose";n??(n=g);const p=Y({leave:!0},r),S=I6();S?((s=p.camera)!=null||(p.camera=S.canPublish),(a=p.microphone)!=null||(p.microphone=S.canPublish),(c=p.screenShare)!=null||(p.screenShare=S.canPublish),(l=p.chat)!=null||(p.chat=S.canPublishData&&(r==null?void 0:r.chat))):(p.camera=!1,p.chat=!1,p.microphone=!1,p.screenShare=!1);const v=h.useMemo(()=>n==="minimal"||n==="verbose",[n]),y=h.useMemo(()=>n==="textOnly"||n==="verbose",[n]),k=hF(),[b,C]=h.useState(!1),P=M=>{C(M)},T=Gi({className:"lk-control-bar"},i);return h.createElement("div",Y({},T),p.microphone&&h.createElement("div",{className:"lk-button-group"},h.createElement(xp,{source:A.Source.Microphone,showIcon:v},y&&"Microphone"),h.createElement("div",{className:"lk-button-group-menu"},h.createElement(t1,{kind:"audioinput"}))),p.camera&&h.createElement("div",{className:"lk-button-group"},h.createElement(xp,{source:A.Source.Camera,showIcon:v},y&&"Camera"),h.createElement("div",{className:"lk-button-group-menu"},h.createElement(t1,{kind:"videoinput"}))),p.screenShare&&k&&h.createElement(xp,{source:A.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:v,onChange:P},y&&(b?"Stop screen share":"Share screen")),p.chat&&h.createElement(W6,null,v&&h.createElement(Q6,null),y&&"Chat"),p.leave&&h.createElement(J6,null,v&&h.createElement(nB,null),y&&"Leave"),h.createElement(TB,{label:"Start Audio"}))}function QB(e){var t=e,{chatMessageFormatter:n,chatMessageDecoder:r,chatMessageEncoder:i}=t,o=ft(t,["chatMessageFormatter","chatMessageDecoder","chatMessageEncoder"]),s,a;const[c,l]=h.useState({showChat:!1,unreadMessages:0}),u=h.useRef(null),d=dx([{source:A.Source.Camera,withPlaceholder:!0},{source:A.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[U.ActiveSpeakersChanged],onlySubscribed:!1}),f=v=>{be.debug("updating widget state",v),l(v)},m=y6(),g=d.filter(wt).filter(v=>v.publication.source===A.Source.ScreenShare),p=(s=N6(m))==null?void 0:s[0],S=d.filter(v=>!iF(v,p));return h.useEffect(()=>{var v,y,k,b;g.some(C=>C.publication.isSubscribed)&&u.current===null?(be.debug("Auto set screen share focus:",{newScreenShareTrack:g[0]}),(y=(v=m.pin).dispatch)==null||y.call(v,{msg:"set_pin",trackReference:g[0]}),u.current=g[0]):u.current&&!g.some(C=>{var P,T;return C.publication.trackSid===((T=(P=u.current)==null?void 0:P.publication)==null?void 0:T.trackSid)})&&(be.debug("Auto clearing screen share focus."),(b=(k=m.pin).dispatch)==null||b.call(k,{msg:"clear_pin"}),u.current=null)},[g.map(v=>`${v.publication.trackSid}_${v.publication.isSubscribed}`).join(),(a=p==null?void 0:p.publication)==null?void 0:a.trackSid]),h.createElement("div",Y({className:"lk-video-conference"},o),aF()&&h.createElement(VB,{value:m,onWidgetChange:f},h.createElement("div",{className:"lk-video-conference-inner"},p?h.createElement("div",{className:"lk-focus-layout-wrapper"},h.createElement(LB,null,h.createElement(zB,{tracks:S},h.createElement(vg,null)),p&&h.createElement(NB,{trackRef:p}))):h.createElement("div",{className:"lk-grid-layout-wrapper"},h.createElement(FB,{tracks:d},h.createElement(vg,null))),h.createElement(YB,{controls:{chat:!0}})),h.createElement(GB,{style:{display:c.showChat?"flex":"none"},messageFormatter:n,messageEncoder:i,messageDecoder:r})),h.createElement(JB,null),h.createElement(qB,null))}const XB="wss://first-app-2i3sztgn.livekit.cloud";function ZB(e){const t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MDAzNzg1MDIsImlzcyI6IkFQSVpjZ3JzdXVpbnNLdSIsIm5iZiI6MTcwMDM3NzYwMiwic3ViIjoic2hvdGNhbGxlciIsInZpZGVvIjp7ImNhblB1Ymxpc2giOnRydWUsImNhblB1Ymxpc2hEYXRhIjp0cnVlLCJjYW5TdWJzY3JpYmUiOnRydWUsInJvb20iOiJkZXYiLCJyb29tSm9pbiI6dHJ1ZX19.r_PCkgI_pOrlVXhJ5-iIKwO7NauDvGRqU8wZg4CjN3w";return L.jsx(WB,{audio:!0,video:!0,token:t,connectOptions:{autoSubscribe:!1},serverUrl:XB,"data-lk-theme":"default",style:{height:"100vh"},children:L.jsx(QB,{})})}const e$=()=>{const e=Ll();return L.jsxs(L.Fragment,{children:[L.jsx(Na,{children:"This is Rooms"}),L.jsx($l,{variant:"contained",onClick:()=>e(-1),children:"Back"}),L.jsx(ZB,{})]})},t$=Q2([{path:"/",element:L.jsx(dD,{}),errorElement:L.jsx(fD,{}),children:[{path:"/",element:L.jsx(gD,{})},{path:"wall",element:L.jsx(hD,{})},{path:"friends",element:L.jsx(vD,{})},{path:"room",element:L.jsx(e$,{})}]}],{basename:"/livefeed-demo/"});Rp.createRoot(document.getElementById("root")).render(L.jsxs(ns.StrictMode,{children:[console.log("/livefeed-demo/","ENV BASENAME"),L.jsx(o5,{router:t$})]}));
